{"remainingRequest":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/formcontrols/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/formcontrols/src/api/abstract/FormDesigner/FdControlVue.ts","dependencies":[{"path":"/home/mobiotics/Projects/formcontrols/src/api/abstract/FormDesigner/FdControlVue.ts","mtime":1610544258562},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgY29udHJvbFByb3BlcnRpZXMgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9jb250cm9scy1wcm9wZXJ0aWVzJzsKaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0LCBQcm9wLCBQcm9wU3luYywgVnVlLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwpsZXQgRmRDb250cm9sVnVlID0gY2xhc3MgRmRDb250cm9sVnVlIGV4dGVuZHMgVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLmlzQ29udGVudEVkaXRhYmxlID0gZmFsc2U7CiAgICB0aGlzLnNlbGVjdGlvbkRhdGEgPSBbXTsKICAgIHRoaXMubWF0Y2hFbnRyeSA9IFtdOwogICAgdGhpcy5tYXRjaEluZGV4ID0gLTE7CiAgICB0aGlzLmlzRHJvcGRvd25WaXNpYmxlID0gdHJ1ZTsKICAgIHRoaXMuaXNJdGFsaWMgPSBmYWxzZTsKICAgIHRoaXMudGVtcFdlaWdodCA9ICc0MDAnOwogICAgdGhpcy50ZW1wU3RyZXRjaCA9ICdub3JtYWwnOwogICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTsgLy8gZ2xvYmFsIHZhcmlhYmxlIHRvIGtlZXAgdHJhY2sgb2YgVHJpcGxlU3RhdGUgd2hlbiBlbmFibGVkCgogICAgdGhpcy50cmlwbGVTdGF0ZSA9IDA7CiAgICB0aGlzLnByZXZlbnRDbGlja09uY2UgPSBmYWxzZTsKICB9CgogIGFkZEV2ZW50Q3VzdG9tQ2FsbGJhY2soZSkgewogICAgdGhpcy5jb250cm9sRWRpdE1vZGUoZSk7CiAgICBjb25zdCBzZWxmID0gdGhpczsKCiAgICBlLmN1c3RvbUNhbGxCYWNrID0gKCkgPT4gewogICAgICBzZWxmLnByZXZlbnRDbGlja09uY2UgPSB0cnVlOwogICAgfTsKICB9CgogIHNlbGVjdGVkSXRlbShldmVudCkgewogICAgaWYgKHRoaXMucHJldmVudENsaWNrT25jZSkgewogICAgICB0aGlzLnByZXZlbnRDbGlja09uY2UgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZW1pdFNlbGVjdGVkSXRlbShldmVudCk7CiAgICB9CiAgfQoKICBlbWl0U2VsZWN0ZWRJdGVtKGV2ZW50KSB7CiAgICByZXR1cm4gZXZlbnQ7CiAgfQoKICBkcmFnR3JvdXAoZXZlbnQpIHsKICAgIHJldHVybiBldmVudDsKICB9CgogIGRlbGV0ZUl0ZW0oZXZlbnQpIHsKICAgIHJldHVybiBldmVudDsKICB9CgogIHNldEVkaXRNb2RlKGNvbnRlbnRFZGl0YWJsZSkgewogICAgcmV0dXJuIGNvbnRlbnRFZGl0YWJsZTsKICB9CgogIGNvbnRyb2xFZGl0TW9kZShldmVudCkgewogICAgcmV0dXJuIGV2ZW50OwogIH0KCiAgdXBkYXRlQ2FwdGlvbih1cGRhdGVWYWx1ZSkgewogICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICBwcm9wZXJ0eU5hbWU6ICdDYXB0aW9uJywKICAgICAgdmFsdWU6IHVwZGF0ZVZhbHVlCiAgICB9KTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIHVzZXJGb3JtSWQgYW5kIGNvbnRyb2xJZCB3aGljaCBpcyB0YWtlbiBhcyBwcm9wcyBmcm9tIHBhcmVudCBDb21wb25lbnQKICAgKiBAYWJzdHJhY3QgcHJvcENvbnRyb2xEYXRhCiAgICovCgoKICBnZXQgcHJvcGVydGllcygpIHsKICAgIHJldHVybiB0aGlzLmRhdGEucHJvcGVydGllczsKICB9CgogIGdldCBleHRyYURhdGFzKCkgewogICAgcmV0dXJuIHRoaXMuZGF0YS5leHRyYURhdGFzOwogIH0KCiAgZ2V0IGNvbnRyb2xzKCkgewogICAgcmV0dXJuIHRoaXMuZGF0YS5jb250cm9sczsKICB9CgogIGdldCByZW5kZXJTaXplKCkgewogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IGAke3RoaXMucHJvcGVydGllcy5XaWR0aH1weGAsCiAgICAgIGhlaWdodDogYCR7dGhpcy5wcm9wZXJ0aWVzLkhlaWdodH1weGAKICAgIH07CiAgfQoKICBnZXQgYmFzZVN0eWxlKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLnByb3BlcnRpZXMuQmFja0NvbG9yLAogICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICB9OwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0U3BlY2lhbEVmZmVjdERhdGEgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNwZWNpYWxFZmZlY3RQcm9wCiAgICogQGZ1bmN0aW9uIGdldFNwZWNpYWxFZmZlY3REYXRhCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0U3BlY2lhbEVmZmVjdERhdGEoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuc3BlY2lhbEVmZmVjdFByb3AodGhpcy5kYXRhKTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldEJvcmRlclN0eWxlIHJldHVybnMgc3RyaW5nIHZhbHVlIGZyb20KICAgKiBjb250cm9sUHJvcGVydGllcy5ib3JkZXJTdHlsZVByb3AKICAgKiBAZnVuY3Rpb24gZ2V0Qm9yZGVyU3R5bGUKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRCb3JkZXJTdHlsZSgpIHsKICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy5ib3JkZXJTdHlsZVByb3AodGhpcy5kYXRhKTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldE1vdXNlQ3Vyc29yRGF0YSByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMubW91c2VQb2ludGVyUHJvcAogICAqIEBmdW5jdGlvbiBnZXRNb3VzZUN1cnNvckRhdGEKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRNb3VzZUN1cnNvckRhdGEoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMubW91c2VQb2ludGVyUHJvcCh0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0RW5hYmxlZCByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMuZW5hYmxlZFByb3AKICAgKiBAZnVuY3Rpb24gZ2V0RW5hYmxlZAogICAqIEByZXR1cm5zIHN0cmluZyB2YWx1ZQogICAqLwoKCiAgZ2V0IGdldEVuYWJsZWQoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuZW5hYmxlZFByb3AodGhpcy5kYXRhKTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldFJlcGVhdCByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMuZXh0cmFEYXRhUmVwZWF0UHJvcAogICAqIEBmdW5jdGlvbiBnZXRSZXBlYXQKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRSZXBlYXQoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuZXh0cmFEYXRhUmVwZWF0UHJvcCh0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0UG9zaXRpb24gcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnBpY3R1cmVQb3NpdGlvblByb3AKICAgKiBAZnVuY3Rpb24gZ2V0UG9zaXRpb24KICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRQb3NpdGlvbigpIHsKICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlUG9zaXRpb25Qcm9wKHRoaXMuZGF0YSk7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBnZXRQb3NpdGlvblggcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnBpY3R1cmVYWVBvc2l0aW9uUHJvcAogICAqIEBmdW5jdGlvbiBnZXRQb3NpdGlvblgKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRQb3NpdGlvblgoKSB7CiAgICBjb25zdCBwb3NYID0gY29udHJvbFByb3BlcnRpZXMucGljdHVyZVhZUG9zaXRpb25Qcm9wKHRoaXMuZGF0YSk7CiAgICByZXR1cm4gcG9zWC5iYWNrZ3JvdW5kUG9zaXRpb25YOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0UG9zaXRpb25ZIHJldHVybnMgc3RyaW5nIHZhbHVlIGZyb20KICAgKiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlWFlQb3NpdGlvblByb3AKICAgKiBAZnVuY3Rpb24gZ2V0UG9zaXRpb25ZCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0UG9zaXRpb25ZKCkgewogICAgY29uc3QgcG9zWSA9IGNvbnRyb2xQcm9wZXJ0aWVzLnBpY3R1cmVYWVBvc2l0aW9uUHJvcCh0aGlzLmRhdGEpOwogICAgcmV0dXJuIHBvc1kuYmFja2dyb3VuZFBvc2l0aW9uWTsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldFNpemVNb2RlIHJldHVybnMgc3RyaW5nIHZhbHVlIGZyb20KICAgKiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlU2l6ZU1vZGVQcm9wCiAgICogQGZ1bmN0aW9uIGdldFNpemVNb2RlCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0U2l6ZU1vZGUoKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMucGljdHVyZVNpemVNb2RlUHJvcCh0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0U2Nyb2xsQmFyWCByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICogY29udHJvbFByb3BlcnRpZXMuc2Nyb2xsQmFyUHJvcCAvIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclRleHRCb3hQcm9wCiAgICogQGZ1bmN0aW9uIGdldFNjcm9sbEJhclgKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRTY3JvbGxCYXJYKCkgewogICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnVGV4dEJveCcpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0TW9kZSkgewogICAgICAgIGNvbnN0IHNjcm9sbFhEYXRhID0gY29udHJvbFByb3BlcnRpZXMuc2Nyb2xsQmFyVGV4dEJveFByb3AodGhpcy5kYXRhKTsKICAgICAgICByZXR1cm4gc2Nyb2xsWERhdGEub3ZlcmZsb3dYOwogICAgICB9CiAgICB9CgogICAgY29uc3Qgc2Nyb2xsWCA9IGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclByb3AodGhpcy5kYXRhKTsKICAgIHJldHVybiBzY3JvbGxYLm92ZXJmbG93WDsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGdldFNjcm9sbEJhclkgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclByb3AgLyBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJUZXh0Qm94UHJvcAogICAqIEBmdW5jdGlvbiBnZXRTY3JvbGxCYXJZCiAgICogQHJldHVybnMgc3RyaW5nIHZhbHVlCiAgICovCgoKICBnZXQgZ2V0U2Nyb2xsQmFyWSgpIHsKICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ1RleHRCb3gnKSB7CiAgICAgIGlmICh0aGlzLmlzRWRpdE1vZGUpIHsKICAgICAgICBjb25zdCBzY3JvbGxZRGF0YSA9IGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhclRleHRCb3hQcm9wKHRoaXMuZGF0YSk7CiAgICAgICAgcmV0dXJuIHNjcm9sbFlEYXRhLm92ZXJmbG93WTsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IHNjcm9sbFkgPSBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJQcm9wKHRoaXMuZGF0YSk7CiAgICByZXR1cm4gc2Nyb2xsWS5vdmVyZmxvd1k7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBnZXRTY3JvbGxpbmdIZWlnaHQgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhcldpZHRoQW5kSGVpZ2h0UHJvcAogICAqIEBmdW5jdGlvbiBnZXRTY3JvbGxpbmdIZWlnaHQKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCBnZXRTY3JvbGxpbmdIZWlnaHQoKSB7CiAgICBjb25zdCBzY3JvbGxpbmdIZWlnaHQgPSBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJXaWR0aEFuZEhlaWdodFByb3AodGhpcy5kYXRhKTsKICAgIHJldHVybiBzY3JvbGxpbmdIZWlnaHQuc2Nyb2xsSGVpZ2h0OwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0U2Nyb2xsaW5nV2lkdGggcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLnNjcm9sbEJhcldpZHRoQW5kSGVpZ2h0UHJvcAogICAqIEBmdW5jdGlvbiBnZXRTY3JvbGxpbmdXaWR0aAogICAqIEByZXR1cm5zIHN0cmluZyB2YWx1ZQogICAqLwoKCiAgZ2V0IGdldFNjcm9sbGluZ1dpZHRoKCkgewogICAgY29uc3Qgc2Nyb2xsaW5nV2lkdGggPSBjb250cm9sUHJvcGVydGllcy5zY3JvbGxCYXJXaWR0aEFuZEhlaWdodFByb3AodGhpcy5kYXRhKTsKICAgIHJldHVybiBzY3JvbGxpbmdXaWR0aC5zY3JvbGxXaWR0aDsKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGNoZWNrT3RoZXJPcmllbnRhdGlvbnMgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLmNvbnRyb2xzT3JpZW50YXRpb25Qcm9wCiAgICogQGZ1bmN0aW9uIGNoZWNrT3RoZXJPcmllbnRhdGlvbnMKICAgKiBAcmV0dXJucyBib29sZWFuIHZhbHVlCiAgICovCgoKICBjaGVja090aGVyT3JpZW50YXRpb25zKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdjaGVja090aGVyT3JpZW50YXRpb25zIE5vdCBJbXBsZW1lbnRlZCcpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZ2V0Rm9yZUNvbG9yVmFsdWUgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAqIGNvbnRyb2xQcm9wZXJ0aWVzLmdldEZvcmVDb2xvcgogICAqIEBmdW5jdGlvbiBnZXRGb3JlQ29sb3JWYWx1ZQogICAqIEByZXR1cm5zIHN0cmluZyB2YWx1ZQogICAqLwoKCiAgZ2V0IGdldEZvcmVDb2xvclZhbHVlKCkgewogICAgcmV0dXJuIGNvbnRyb2xQcm9wZXJ0aWVzLmdldEZvcmVDb2xvcih0aGlzLmRhdGEpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gaW5jcmVhc2VUaGVWYWx1ZSBjYWxscyBWdWV4IEFjdGlvbnMgdG8gdXBkYXRlIG9iamVjdCBhbmQgVmFsdWUgUHJvcGVydHkKICAgKiBAZnVuY3Rpb24gaW5jcmVhc2VUaGVWYWx1ZQogICAqLwoKCiAgaW5jcmVhc2VUaGVWYWx1ZSgpIHsKICAgIGxldCB0ZW1wVmFsLCB0ZW1wTWF4OwoKICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4ID49IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA+PSAwKSB7CiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4IDwgdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgIHRlbXBNYXggPSB0aGlzLnByb3BlcnRpZXMuTWF4OwoKICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlIDwgdGhpcy5wcm9wZXJ0aWVzLk1heCAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NaW4KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgICAgaWYgKHRlbXBWYWwgPj0gdGVtcE1heCAmJiB0ZW1wVmFsIC0gdGVtcE1heCA+IHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZSkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgLSB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgICAgfSBlbHNlIGlmICh0ZW1wVmFsID49IHRlbXBNYXgpIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcE1heDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcE1heCA9IHRoaXMucHJvcGVydGllcy5NYXg7CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4ICYmIHRlbXBNYXggLSB0ZW1wVmFsID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA8IDApIHsKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NYXggPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgdGVtcE1heCA9IHRoaXMucHJvcGVydGllcy5NYXg7CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1heAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4ICYmIE1hdGguYWJzKHRlbXBWYWwpIC0gTWF0aC5hYnModGVtcE1heCkgPiB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2UpIHsKICAgICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0ZW1wVmFsKSAtIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgICAgdGVtcFZhbCA9IE1hdGguYWJzKHRlbXBNYXgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gTWF0aC5hYnModGVtcE1heCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRlbXBNYXggPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuTWF4KTsKCiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NYXggJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuTWluCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuVmFsdWUpOwoKICAgICAgICBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4ICYmIHRlbXBNYXggLSB0ZW1wVmFsID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogJy0nICsgdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgdGVtcE1heCA9IHRoaXMucHJvcGVydGllcy5NYXg7CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbiAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPCB0aGlzLnByb3BlcnRpZXMuTWF4KSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NYXgKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgIGlmICh0ZW1wVmFsID49IHRlbXBNYXggJiYgdGVtcFZhbCAtIHRlbXBNYXggPj0gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgLSB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgIH0gZWxzZSBpZiAodGVtcFZhbCA8PSB0ZW1wTWF4KSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNYXg7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6IHRlbXBWYWwKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0ZW1wTWF4ID0gdGhpcy5wcm9wZXJ0aWVzLk1heDsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgIH0pOwogICAgICB9CgogICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCAmJiB0ZW1wTWF4IC0gdGVtcFZhbCA+IHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZSkgewogICAgICAgIHRlbXBWYWwgPSB0ZW1wVmFsICsgdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlOwogICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1heCkgewogICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICB9IGVsc2UgewogICAgICAgIHRlbXBWYWwgPSB0ZW1wTWF4OwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgIHZhbHVlOiB0ZW1wVmFsCiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gZGVjcmVhc2VUaGVWYWx1ZSBjYWxscyBWdWV4IEFjdGlvbnMgdG8gdXBkYXRlIG9iamVjdCBhbmQgVmFsdWUgUHJvcGVydHkKICAgKiBAZnVuY3Rpb24gZGVjcmVhc2VUaGVWYWx1ZQogICAqLwoKCiAgZGVjcmVhc2VUaGVWYWx1ZSgpIHsKICAgIGxldCB0ZW1wVmFsLCB0ZW1wTWluOwoKICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4ID49IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA+PSAwKSB7CiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTWF4IDwgdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgIHRlbXBNaW4gPSB0aGlzLnByb3BlcnRpZXMuTWluOwoKICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlIDwgdGhpcy5wcm9wZXJ0aWVzLk1heCAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NaW4KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgICAgaWYgKHRlbXBWYWwgPD0gdGVtcE1pbiAmJiB0ZW1wTWluIC0gdGVtcFZhbCA+IHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZSkgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgKyB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgICAgfSBlbHNlIGlmICh0ZW1wVmFsIDw9IHRlbXBNaW4pIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWluOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcE1pbjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcE1pbiA9IHRoaXMucHJvcGVydGllcy5NaW47CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIHRlbXBWYWwgLSB0ZW1wTWluID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCAtIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPj0gdGVtcE1pbikgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWluOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLk1pbiA8IDApIHsKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NYXggPiB0aGlzLnByb3BlcnRpZXMuTWluKSB7CiAgICAgICAgdGVtcE1pbiA9IHRoaXMucHJvcGVydGllcy5NaW47CgogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVmFsdWUgPiB0aGlzLnByb3BlcnRpZXMuTWF4ICYmIHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogdGhpcy5wcm9wZXJ0aWVzLk1pbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0ZW1wVmFsID0gdGhpcy5wcm9wZXJ0aWVzLlZhbHVlOwoKICAgICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIE1hdGguYWJzKHRlbXBNaW4pIC0gTWF0aC5hYnModGVtcFZhbCkgPiB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2UpIHsKICAgICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0ZW1wVmFsKSArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPD0gdGVtcE1pbikgewogICAgICAgICAgdGVtcFZhbCA9IE1hdGguYWJzKHRlbXBNaW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wVmFsID0gTWF0aC5hYnModGVtcE1pbik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRlbXBNaW4gPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuTWluKTsKCiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5WYWx1ZSA8IHRoaXMucHJvcGVydGllcy5NYXggJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuTWluCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRlbXBWYWwgPSBNYXRoLmFicyh0aGlzLnByb3BlcnRpZXMuVmFsdWUpOwoKICAgICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIHRlbXBWYWwgLSB0ZW1wTWluID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCAtIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgICB9IGVsc2UgaWYgKHRlbXBWYWwgPj0gdGVtcE1pbikgewogICAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRlbXBWYWwgPSB0ZW1wTWluOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogJy0nICsgdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk1heCA8IHRoaXMucHJvcGVydGllcy5NaW4pIHsKICAgICAgdGVtcE1pbiA9IHRoaXMucHJvcGVydGllcy5NaW47CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlZhbHVlID4gdGhpcy5wcm9wZXJ0aWVzLk1pbiAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgPCB0aGlzLnByb3BlcnRpZXMuTWF4KSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgdmFsdWU6IHRoaXMucHJvcGVydGllcy5NYXgKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGVtcFZhbCA9IHRoaXMucHJvcGVydGllcy5WYWx1ZTsKCiAgICAgIGlmICh0ZW1wVmFsIDw9IHRlbXBNaW4gJiYgdGVtcE1pbiAtIHRlbXBWYWwgPiB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2UpIHsKICAgICAgICB0ZW1wVmFsID0gdGVtcFZhbCArIHRoaXMucHJvcGVydGllcy5TbWFsbENoYW5nZTsKICAgICAgfSBlbHNlIGlmICh0ZW1wVmFsID49IHRlbXBNaW4pIHsKICAgICAgICB0ZW1wVmFsID0gdGVtcE1pbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ZW1wVmFsID0gdGVtcE1pbjsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRlbXBNaW4gPSB0aGlzLnByb3BlcnRpZXMuTWluOwoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5WYWx1ZSA+IHRoaXMucHJvcGVydGllcy5NYXggJiYgdGhpcy5wcm9wZXJ0aWVzLlZhbHVlIDwgdGhpcy5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuTWluCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRlbXBWYWwgPSB0aGlzLnByb3BlcnRpZXMuVmFsdWU7CgogICAgICBpZiAodGVtcFZhbCA+PSB0ZW1wTWluICYmIHRlbXBWYWwgLSB0ZW1wTWluID4gdGhpcy5wcm9wZXJ0aWVzLlNtYWxsQ2hhbmdlKSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBWYWwgLSB0aGlzLnByb3BlcnRpZXMuU21hbGxDaGFuZ2U7CiAgICAgIH0gZWxzZSBpZiAodGVtcFZhbCA+PSB0ZW1wTWluKSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcFZhbCA9IHRlbXBNaW47CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6IHRlbXBWYWwKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB0cmFuc2Zvcm1TY3JvbGxCdXR0b25TdHlsZSByZXR1cm5zIHN0cmluZyB2YWx1ZSBmcm9tCiAgICoga25vYlByb3BlcnRpZXMudHJhbnNmb3JtU2Nyb2xsQnV0dG9uU3R5bGUKICAgKiBAZnVuY3Rpb24gdHJhbnNmb3JtU2Nyb2xsQnV0dG9uU3R5bGUKICAgKiBAcmV0dXJucyBzdHJpbmcgdmFsdWUKICAgKi8KCgogIGdldCB0cmFuc2Zvcm1TY3JvbGxCdXR0b25TdHlsZSgpIHsKICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy50cmFuc2Zvcm1TY3JvbGxCdXR0b25TdHlsZSh0aGlzLmRhdGEpOwogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiB1cGRhdGUgdGhlIGlzQ29udGVudEVkaXRhYmxlIHRvIG1ha2UgdGhlIEJ1dHRvbiBjb250ZW50IGVkaXRhYmxlCiAgKiBvciBub25lZGl0YWJsZSBvbiBjbGljayBvZiBlbnRlciBrZXkKICAqIEBmdW5jdGlvbiBzZXRDb250ZW50RWRpdGFibGUKICAqIEBwYXJhbSBldmVudAogICogQHBhcmFtIGNvbnRlbnRFZGl0YWJsZQogICovCgoKICBzZXRDb250ZW50RWRpdGFibGUoZXZlbnQsIGNvbnRlbnRFZGl0YWJsZSkgewogICAgdGhpcy5zZXRFZGl0TW9kZShjb250ZW50RWRpdGFibGUpOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIHNldHMgU3R5bGVzIHRvIGNoZWNrYm94L29wdGlvbkJ1dHRvbiBhbmQgbGFiZWwgYmFzZWQgb24gY29udHJvbCBWYWx1ZSBwcm9wZXJ0eQogICAqIEBmdW5jdGlvbiBzZXRTdHlsZQogICAqQHBhcmFtIHJlZgogICAqQHBhcmFtIGNoZWNrZWQKICAgKkBwYXJhbSBkaXNhYmxlZAogICAqQHBhcmFtIGJnQ29sb3IKICAgKi8KCgogIHNldFN0eWxlKHJlZiwgY2hlY2tlZCwgZGlzYWJsZWQsIGJnQ29sb3IpIHsKICAgIGlmIChyZWYpIHsKICAgICAgcmVmLmNoZWNrZWQgPSBjaGVja2VkOwogICAgICByZWYucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzFdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7CiAgICAgIHJlZi5kaXNhYmxlZCA9IGRpc2FibGVkOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIHN0eWxlIG9iamVjdCBpcyBwYXNzZWQgdG8gOnN0eWxlIGF0dHJpYnV0ZSBpbiBzcGFuIHRhZyBpbiBjaGVja2JveC9PcHRpb25CdXR0b24KICAgKiBkeW5hbWljYWxseSBjaGFuZ2luZyB0aGUgc3R5bGVzIG9mIHRoZSBjb21wb25lbnQgYmFzZWQgb24gcHJvcGVydGllcwogICAqIEBmdW5jdGlvbiBzdHlsZUZvckJ0bgogICAqCiAgICovCgoKICBnZXQgc3R5bGVGb3JCdG4oKSB7CiAgICBjb25zdCBzdHlsZSA9IHsKICAgICAgYm9yZGVyOiAnMXB4IGluc2V0IGdyZXknLAogICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdpbmhlcml0JywKICAgICAgdG9wOiAnMHB4JywKICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScKICAgIH07CgogICAgaWYgKCF0aGlzLnByb3BlcnRpZXMuRW5hYmxlZCkgewogICAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMjAsIDIyMCwgMjIwLCAxKSc7CiAgICB9CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5TcGVjaWFsRWZmZWN0ID09PSAwKSB7CiAgICAgIHJldHVybiBzdHlsZTsKICAgIH0gZWxzZSB7CiAgICAgIHN0eWxlLmJvcmRlciA9ICcycHggZ3Jvb3ZlIGdyZXknOwogICAgICByZXR1cm4gc3R5bGU7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiAgc2V0cyBjb250cm9sU291cmNlIGlmIHByZXNlbnQgYW5kIHVwZGF0ZXMgVmFsdWUgcHJvcGVydHkKICAgKiBAZnVuY3Rpb24gY29udHJvbFNvdXJjZQogICAqLwoKCiAgY29udHJvbFNvdXJjZSgpIHsKICAgIGNvbnN0IHByb3BEYXRhID0gdGhpcy5kYXRhOwoKICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ1NwaW5CdXR0b24nIHx8IHRoaXMuZGF0YS50eXBlID09PSAnU2Nyb2xsQmFyJykgewogICAgICBpZiAocHJvcERhdGEucHJvcGVydGllcy5Db250cm9sU291cmNlICYmIHByb3BEYXRhLmV4dHJhRGF0YXMpIHsKICAgICAgICBpZiAocHJvcERhdGEuZXh0cmFEYXRhcy5Db250cm9sU291cmNlVmFsdWUgIT09IG51bGwgJiYgcHJvcERhdGEuZXh0cmFEYXRhcy5Db250cm9sU291cmNlVmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY29uc3QgYSA9IHByb3BEYXRhLmV4dHJhRGF0YXMuQ29udHJvbFNvdXJjZVZhbHVlOwoKICAgICAgICAgIGlmIChwYXJzZUludChhKSA8PSBwcm9wRGF0YS5wcm9wZXJ0aWVzLk1heCAmJiBwYXJzZUludChhKSA+PSBwcm9wRGF0YS5wcm9wZXJ0aWVzLk1pbikgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiBwcm9wRGF0YS5leHRyYURhdGFzLkNvbnRyb2xTb3VyY2VWYWx1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIDsKICAgIH0gZWxzZSBpZiAocHJvcERhdGEucHJvcGVydGllcy5Db250cm9sU291cmNlKSB7CiAgICAgIGNvbnN0IGNvbnRyb2xTb3VyY2VWYWx1ZSA9IHByb3BEYXRhLmV4dHJhRGF0YXMuQ29udHJvbFNvdXJjZVZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgIGNvbnN0IGlzQm9vbGVhbiA9IGNvbnRyb2xTb3VyY2VWYWx1ZSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGNvbnRyb2xTb3VyY2VWYWx1ZSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogJyc7CiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgdmFsdWU6IGlzQm9vbGVhbi50b1N0cmluZygpCiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIHVwZGF0ZSB0aGUgdmFsdWUgb2YgY29udHJvbCBwcm9wZXJ0aWVzCiAgICogQGZ1bmN0aW9uIHVwZGF0ZURhdGFNb2RlbAogICAqIEBwYXJhbSB1cGRhdGVEYXRhCiAgICovCgoKICB1cGRhdGVEYXRhTW9kZWwodXBkYXRlRGF0YSkgewogICAgcmV0dXJuIHVwZGF0ZURhdGE7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiAgdXBkYXRlIHRoZSB2YWx1ZSBvZiBjb250cm9sIGV4dHJhRGF0YXMgcHJvcGVydGllcwogICAqIEBmdW5jdGlvbiB1cGRhdGVEYXRhTW9kZWxFeHRyYURhdGEKICAgKiBAcGFyYW0gdXBkYXRlRGF0YQogICAqLwoKCiAgdXBkYXRlRGF0YU1vZGVsRXh0cmFEYXRhKHVwZGF0ZURhdGEpIHsKICAgIHJldHVybiB1cGRhdGVEYXRhOwogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIHRleHQgcHJvcGVydGllcwogICogQGZ1bmN0aW9uIHZhbHVlVXBkYXRlUHJvcAogICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBzdHJpbmcgdmFsdWUKICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHN0cmluZyB2YWx1ZQogICovCgoKICB2YWx1ZVVwZGF0ZVByb3AobmV3VmFsLCBvbGRWYWwpIHsKICAgIGlmICh0aGlzLmRhdGEudHlwZS5pbmNsdWRlcygnVGV4dEJveCcpIHx8IHRoaXMuZGF0YS50eXBlID09PSAnQ29tYm9Cb3gnKSB7CiAgICAgIGNvbnN0IHByb3BEYXRhID0gdGhpcy5wcm9wZXJ0aWVzOwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgIHZhbHVlOiBuZXdWYWwKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIHRleHQgYW5kIHZhbHVlIHByb3BlcnRpZXMgYXJlIHNhbWUgd2hlbiBjb21wb25lbnQgaXMgbW91bnRlZC9jaGFuZ2VkCiAgICogQGZ1bmN0aW9uIHRleHRBbmRWYWx1ZVVwZGF0ZVByb3AKICAgKiBAcGFyYW0gb2xkVmFsIHByZXZpb3VzIHByb3BlcnRpZXMgZGF0YQogICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHByb3BlcnRpZXMgZGF0YQogICAqLwoKCiAgdGV4dEFuZFZhbHVlVXBkYXRlUHJvcChuZXdWYWwsIG9sZFZhbCkgewogICAgaWYgKHRoaXMuZGF0YS50eXBlLmluY2x1ZGVzKCdUZXh0Qm94JykpIHsKICAgICAgY29uc3QgcHJvcERhdGEgPSB0aGlzLnByb3BlcnRpZXM7CgogICAgICBpZiAocHJvcERhdGEuVGV4dCAhPT0gcHJvcERhdGEuVmFsdWUgJiYgcHJvcERhdGEuQ29udHJvbFNvdXJjZSA9PT0gJycpIHsKICAgICAgICBjb25zdCBwcm9wVGV4dCA9IHByb3BEYXRhLlRleHQubGVuZ3RoOwogICAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BEYXRhLlZhbHVlLmxlbmd0aDsKICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICAgIHZhbHVlOiB0aGlzLnByb3BlcnRpZXMuVmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0aGlzLmRhdGEudHlwZS5pbmNsdWRlcygnQ2hlY2tCb3gnKSB8fCB0aGlzLmRhdGEudHlwZS5pbmNsdWRlcygnT3B0aW9uQnV0dG9uJykpIHsKICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnByb3BlcnRpZXMuVmFsdWU7CiAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHR5cGVvZiB2YWx1ZTsKICAgICAgbGV0IGlzQm9vbGVhbiA9ICcnOwoKICAgICAgaWYgKHZhbHVlVHlwZSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgaXNCb29sZWFuID0gdmFsdWU7CiAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnc3RyaW5nJykgewogICAgICAgIGlzQm9vbGVhbiA9IHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJyA/IHRydWUgOiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnZmFsc2UnID8gZmFsc2UgOiAnJzsKICAgICAgfQoKICAgICAgY29uc3QgcmVmID0gdGhpcy5kYXRhLnR5cGUuaW5jbHVkZXMoJ0NoZWNrQm94JykgPyB0aGlzLmNoZWNrYm94UmVmIDogdGhpcy5vcHRpb25CdG5SZWY7CgogICAgICBpZiAoaXNCb29sZWFuICE9PSAnJykgewogICAgICAgIGlmIChpc0Jvb2xlYW4pIHsKICAgICAgICAgIHRoaXMuc2V0U3R5bGUocmVmLCBpc0Jvb2xlYW4sICFpc0Jvb2xlYW4sICd3aGl0ZScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldFN0eWxlKHJlZiwgZmFsc2UsIGZhbHNlLCAnd2hpdGUnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRTdHlsZShyZWYsIHRydWUsIHRydWUsICdyZ2JhKDIyMCwgMjIwLCAyMjAsIDEpJyk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIGNoYW5naW5nIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGV4dGFyZWEgdGFnIGJ5IHJlcGxpY2F0aW5nIHN0eWxlIG9mCiAgICogdGV4dGFyZWEgd2l0aCBsYWJlbCB0YWcgdG8gbWFraW5nIHRoZSBwcm9wZXJ0eSB3b3JrIGluIHRleHRhcmVhCiAgICogQGZ1bmN0aW9uIHVwZGF0ZUF1dG9TaXplCiAgICogQHBhcmFtIG9sZFZhbCBwcmV2aW91cyBwcm9wZXJ0aWVzIGRhdGEKICAgKiBAcGFyYW0gbmV3VmFsICBuZXcvY2hhbmdlZCBwcm9wZXJ0aWVzIGRhdGEKICAgKi8KCgogIHVwZGF0ZUF1dG9TaXplKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VwZGF0ZUF1dG9zaXplIE5vdCBJbXBsZW1lbnRlZCcpOwogIH0KICAvKioKICAgICogQGRlc2NyaXB0aW9uICBzZXRzIGNoZWNrZWQgb3IgdW5jaGVja2VkIHdoZW4gY2hlY2tib3ggaXMgY2xpY2tlZAogICAgKiBpZiBUcmlwbGVTdGF0ZSBpcyBUcnVlLCBOdWxsIHN0YXRlIHdpbGwgYmUgdmlzaWJsZQogICAgKiBAZnVuY3Rpb24gaGFuZGxlQ2hhbmdlCiAgICAqIEBwYXJhbSBldmVudCBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQKICAgICovCgoKICBoYW5kbGVDaGFuZ2UoZXZlbnQsIHRhcmdldFJlZikgewogICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHsKICAgICAgY29uc3QgZWwgPSBldmVudC50YXJnZXQuY2hlY2tlZDsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuVHJpcGxlU3RhdGUpIHsKICAgICAgICB0aGlzLnRyaXBsZVN0YXRlKys7CgogICAgICAgIGlmICh0aGlzLnRyaXBsZVN0YXRlICUgMyA9PT0gMCkgewogICAgICAgICAgdGhpcy5zZXRTdHlsZSh0YXJnZXRSZWYsIHRydWUsIGZhbHNlLCAncmdiYSgyMjAsIDIyMCwgMjIwLCAxKScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldFN0eWxlKHRhcmdldFJlZiwgZWwsIGZhbHNlLCAnd2hpdGUnKTsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICB2YWx1ZTogZWwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRyaXBsZVN0YXRlKys7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgdmFsdWU6IGVsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zZXRTdHlsZSh0YXJnZXRSZWYsIGVsLCBmYWxzZSwgJ3doaXRlJyk7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICAqIEBkZXNjcmlwdGlvbiBnZXRSZXBlYXQgcmV0dXJucyBzdHJpbmcgdmFsdWUgZnJvbQogICAgKiBjb250cm9sUHJvcGVydGllcy5leHRyYURhdGFSZXBlYXRQcm9wCiAgICAqIEBmdW5jdGlvbiBnZXRSZXBlYXQKICAgICovCgoKICBnZXQgZ2V0UmVwZWF0RGF0YSgpIHsKICAgIC8vICBpZiAodGhpcy5wcm9wZXJ0aWVzLlBpY3R1cmUgPT09ICcnKSB7CiAgICByZXR1cm4gY29udHJvbFByb3BlcnRpZXMuZXh0cmFEYXRhUmVwZWF0UHJvcCh0aGlzLmRhdGEpOyAvLyAgfSBlbHNlIHsKICAgIC8vICAgIHJldHVybiBjb250cm9sUHJvcGVydGllcy5waWN0dXJlVGlsaW5nUHJvcCh0aGlzLmRhdGEpCiAgICAvLyAgfQogIH0KICAvKioKICAgICogQGRlc2NyaXB0aW9uIGNvbXB1dGVkQ2FwdGlvbiByZXR1cm5zIG9iamVjdCB2YWx1ZSBmcm9tCiAgICAqIHdpdGggYWNjZWxlcmF0b3JDYXB0aW9uLCBhZnRlcmJlZ2luQ2FwdGlvbiwgYmVmb3JlZW5kQ2FwdGlvbiB2YWx1ZXMKICAgICogQGZ1bmN0aW9uIGNvbXB1dGVkQ2FwdGlvbgogICAgKiBAcmV0dXJucyBvYmplY3QgdmFsdWUKICAgICovCgoKICBnZXQgY29tcHV0ZWRDYXB0aW9uKCkgewogICAgbGV0IGFjY2VsZXJhdG9yID0gJyc7CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5BY2NlbGVyYXRvcikgewogICAgICBhY2NlbGVyYXRvciA9IHRoaXMucHJvcGVydGllcy5BY2NlbGVyYXRvci5jaGFyQXQoMCk7CiAgICB9CgogICAgcmV0dXJuIGNvbnRyb2xQcm9wZXJ0aWVzLmFjY2VsZXJhdG9yUHJvcCh0aGlzLnByb3BlcnRpZXMuQ2FwdGlvbiwgYWNjZWxlcmF0b3IpOwogIH0KCiAgdXBkYXRlQ29sdW1uV2lkdGhzKGluZGV4LCBoZWlnaHQpIHsKICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy5wcm9wZXJ0aWVzOwogICAgY29uc3QgdXBkYXRlQ29sV2lkdGggPSBjb250cm9sUHJvcC5Db2x1bW5XaWR0aHMuc3BsaXQoJzsnKTsKICAgIGNvbnN0IGNvbENoYW5nZUNoZWNrID0gY29udHJvbFByb3AuQ29sdW1uQ291bnQgLSAxIDwgaW5kZXg7CiAgICByZXR1cm4gewogICAgICB0ZXh0QWxpZ246IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMCA/ICdsZWZ0JyA6IGNvbnRyb2xQcm9wLlRleHRBbGlnbiA9PT0gMiA/ICdyaWdodCcgOiAnY2VudGVyJywKICAgICAgd2lkdGg6IGNvbnRyb2xQcm9wLkNvbHVtbkNvdW50ID09PSAtMSA/IHVwZGF0ZUNvbFdpZHRoW2luZGV4XSA/IHBhcnNlSW50KHVwZGF0ZUNvbFdpZHRoW2luZGV4XSkgKyAncHgnIDogJzEwMHB4JyA6IGNvbENoYW5nZUNoZWNrID8gJzBweCcgOiB1cGRhdGVDb2xXaWR0aFtpbmRleF0gPyBwYXJzZUludCh1cGRhdGVDb2xXaWR0aFtpbmRleF0pICsgJ3B4JyA6IGNvbnRyb2xQcm9wLkNvbHVtbkNvdW50ID4gaW5kZXggPyAnMTAwcHgnIDogJzBweCcsCiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJywKICAgICAgcGFkZGluZ0JvdHRvbTogdGhpcy5kYXRhLnByb3BlcnRpZXMuRm9udC5Gb250U2l6ZSA+IDQ4ID8gJzEwcHgnIDogJzVweCcKICAgIH07CiAgfQoKICB1cGRhdGVDb2xIZWFkcyhpbmRleCkgewogICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnByb3BlcnRpZXM7CiAgICBjb25zdCB1cGRhdGVDb2xXaWR0aCA9IGNvbnRyb2xQcm9wLkNvbHVtbldpZHRocy5zcGxpdCgnOycpOwogICAgcmV0dXJuIHsKICAgICAgdGV4dEFsaWduOiBjb250cm9sUHJvcC5UZXh0QWxpZ24gPT09IDAgPyAnbGVmdCcgOiBjb250cm9sUHJvcC5UZXh0QWxpZ24gPT09IDIgPyAncmlnaHQnIDogJ2NlbnRlcicsCiAgICAgIGJvcmRlclJpZ2h0OiBpbmRleCA8IGNvbnRyb2xQcm9wLkNvbHVtbkNvdW50IC0gMSA/ICcxcHggc29saWQnIDogJycsCiAgICAgIHdpZHRoOiBjb250cm9sUHJvcC5Db2x1bW5Db3VudCA9PT0gLTEgPyBwYXJzZUludCh1cGRhdGVDb2xXaWR0aFtpbmRleF0pICsgJ3B4JyA6IHVwZGF0ZUNvbFdpZHRoW2luZGV4XSA/IHBhcnNlSW50KHVwZGF0ZUNvbFdpZHRoW2luZGV4XSkgKyAncHgnIDogJzEwMHB4JywKICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nCiAgICB9OwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gd2F0Y2hlcyBjaGFuZ2VzIGluIHByb3BlcnRpZXMgZm9yIEJvdW5kQ29sdW1uCiAgICogQGZ1bmN0aW9uIGJvdW5kQ29sdW1uVmFsdWUKICAgKiBAcGFyYW0gb2xkVmFsIHByZXZpb3VzIHByb3BlcnRpZXMgZGF0YQogICAqIEBwYXJhbSBuZXdWYWwgIG5ldy9jaGFuZ2VkIHByb3BlcnRpZXMgZGF0YQogICAqLwoKCiAgYm91bmRDb2x1bW5WYWx1ZShuZXdWYWwsIG9sZFZhbCkgewogICAgaWYgKHRoaXMucHJvcGVydGllcy5Cb3VuZENvbHVtbiA+IDAgJiYgdGhpcy5wcm9wZXJ0aWVzLkJvdW5kQ29sdW1uIDwgdGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEubGVuZ3RoKSB7CiAgICAgIGxldCB0ZW1wRGF0YSA9IFsuLi50aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YV07CiAgICAgIHRlbXBEYXRhWzBdWzBdID0gdGVtcERhdGFbMF1bbmV3VmFsIC0gMV07CiAgICAgIGxldCB0ZW1wVmFsdWUgPSB0ZW1wRGF0YVswXVtuZXdWYWwgLSAxXTsKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWxFeHRyYURhdGEoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1Jvd1NvdXJjZURhdGEnLAogICAgICAgIHZhbHVlOiB0ZW1wRGF0YQogICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICB2YWx1ZTogdGVtcFZhbHVlCiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gd2F0Y2hlcyBjaGFuZ2VzIGluIHByb3BlcnRpZXMgZm9yIFRleHRDb2x1bW4KICAgKiBAZnVuY3Rpb24gdGV4dENvbHVtbkNoYW5nZQogICAqIEBwYXJhbSBvbGRWYWwgcHJldmlvdXMgcHJvcGVydGllcyBkYXRhCiAgICogQHBhcmFtIG5ld1ZhbCAgbmV3L2NoYW5nZWQgcHJvcGVydGllcyBkYXRhCiAgICovCgoKICB0ZXh0Q29sdW1uQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICBpZiAobmV3VmFsID4gMCAmJiBuZXdWYWwgPCB0aGlzLmV4dHJhRGF0YXMuUm93U291cmNlRGF0YS5sZW5ndGgpIHsKICAgICAgbGV0IHRlbXBEYXRhID0gWy4uLnRoaXMuZXh0cmFEYXRhcy5Sb3dTb3VyY2VEYXRhXTsKICAgICAgbGV0IHRlbXBWYWx1ZSA9IHRlbXBEYXRhWzBdW25ld1ZhbCAtIDFdOwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgdmFsdWU6IHRlbXBWYWx1ZQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICB2YWx1ZTogJycKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB3YXRjaGVzIGNoYW5nZXMgaW4gcHJvcGVydGllcyBmb3IgVG9wSW5kZXgKICAgKiBAZnVuY3Rpb24gdG9wSW5kZXhDaGVjawogICAqIEBwYXJhbSBvbGRWYWwgcHJldmlvdXMgcHJvcGVydGllcyBkYXRhCiAgICogQHBhcmFtIG5ld1ZhbCAgbmV3L2NoYW5nZWQgcHJvcGVydGllcyBkYXRhCiAgICovCgoKICB0b3BJbmRleENoZWNrKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICBpZiAodGhpcy5leHRyYURhdGFzLlJvd1NvdXJjZURhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUb3BJbmRleCcsCiAgICAgICAgdmFsdWU6IC0xCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgIHByb3BlcnR5TmFtZTogJ1RvcEluZGV4JywKICAgICAgICB2YWx1ZTogMAogICAgICB9KTsKICAgIH0KICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIHVwZGF0ZXMgdGhlIGRhdGFNb2RlbCBsaXN0Qm94IG9iamVjdCBwcm9wZXJ0aWVzIHdoZW4gdXNlciBjbGlja3MKICAgKiBAZnVuY3Rpb24gaGFuZGxlTXVsdGlTZWxlY3QKICAgKiBAcGFyYW0gZXZlbnQgaXRzIG9mIHR5cGUgTW91c2VFdmVudAogICAqIEBldmVudCBjbGljawogICAqCiAgICovCgoKICBoYW5kbGVNdWx0aVNlbGVjdChlKSB7CiAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGFibGVDZWxsRWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUYWJsZVJvd0VsZW1lbnQgfHwgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkgewogICAgICB0aGlzLnRlbXBMaXN0Qm94Q29tYm9Cb3hFdmVudCA9IGU7CiAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBlLnRhcmdldDsKICAgICAgY29uc3QgdGVtcERhdGEgPSB0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5bMF07CiAgICAgIGNvbnN0IHRlbXBEYXRhT3B0aW9uID0gdGFyZ2V0RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzFdOwogICAgICBjb25zdCB0ZW1wUGF0aCA9IGUuY29tcG9zZWRQYXRoKCk7CiAgICAgIHRhcmdldEVsZW1lbnQuZm9jdXMoKTsKICAgICAgbGV0IGRhdGEgPSB0YXJnZXRFbGVtZW50LmlubmVyVGV4dDsKICAgICAgbGV0IHNwbGl0RGF0YSA9IGRhdGEucmVwbGFjZSgvXHQvZywgJyAnKS5zcGxpdCgnICcpOwoKICAgICAgaWYgKHRoaXMuZGF0YS5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9uRGF0YVswXSA9IHRlbXBEYXRhLmlubmVyVGV4dDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkRhdGFbMF0gPSB0ZW1wRGF0YU9wdGlvbi5pbm5lclRleHQ7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuRW5hYmxlZCAmJiB0aGlzLnByb3BlcnRpZXMuTG9ja2VkID09PSBmYWxzZSkgewogICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDApIHsKICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29udHJvbFNvdXJjZSAhPT0gJycpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNlbGVjdGlvbkRhdGFbMF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0aW9uRGF0YVswXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgbGV0IGlzTGlzdFN0eWxlID0gMDsKCiAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW4gPT09IC0xIHx8IHRoaXMucHJvcGVydGllcy5UZXh0Q29sdW1uID09PSAxKSB7CiAgICAgICAgICAgIC8vIDB0aCBpbmRleCBpcyBlbXB0eSBzdHJpbmcKICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDApIHsKICAgICAgICAgICAgICBpc0xpc3RTdHlsZSA9IC0xOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsxIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMSAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW4gPT09IDApIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMiAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhWzEgLSBpc0xpc3RTdHlsZV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVGV4dCcsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVt0aGlzLnByb3BlcnRpZXMuVGV4dENvbHVtbl0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsxIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAxKSB7CiAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnKSB7CiAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAyKSB7CiAgICAgICAgICBpZiAoZS5jdHJsS2V5ID09PSB0cnVlKSB7CiAgICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHsKICAgICAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoZS5zaGlmdEtleSA9PT0gdHJ1ZSAmJiB0aGlzLnByb3BlcnRpZXMuVmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgIGxldCBzdGFydFBvaW50ID0gMDsKICAgICAgICAgICAgbGV0IGVuZFBvaW50ID0gMDsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcFBhdGgubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBjb25zdCBlbGUgPSB0ZW1wUGF0aFtpXTsKCiAgICAgICAgICAgICAgaWYgKGVsZS5jbGFzc05hbWUgPT09ICd0YWJsZS1ib2R5JykgewogICAgICAgICAgICAgICAgLy8gZXh0ZW5kIHBvaW50cyBzdGFydCBhbmQgZW5kCiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVsZS5jaGlsZE5vZGVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgIGNvbnN0IGNkID0gZWxlLmNoaWxkTm9kZXNbal07CgogICAgICAgICAgICAgICAgICBpZiAoY2QuaW5uZXJUZXh0ID09PSB0aGlzLnByb3BlcnRpZXMuVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gaiArIDE7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChjZC5pbm5lclRleHQgPT09IHRhcmdldEVsZW1lbnQuaW5uZXJUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgZW5kUG9pbnQgPSBqOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IC8vIHVwd2FyZCBzZWxlY3Rpb24gc3RhcnQgYW5kIGVuZCBzd2FwCgoKICAgICAgICAgICAgICAgIGlmIChzdGFydFBvaW50ID4gZW5kUG9pbnQpIHsKICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBzdGFydFBvaW50OwogICAgICAgICAgICAgICAgICBzdGFydFBvaW50ID0gZW5kUG9pbnQ7CiAgICAgICAgICAgICAgICAgIGVuZFBvaW50ID0gdGVtcDsKICAgICAgICAgICAgICAgIH0gLy8gc2V0dGluZyBzZWxlY3Rpb24KCgogICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IHN0YXJ0UG9pbnQ7IGsgPD0gZW5kUG9pbnQ7IGsrKykgewogICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gZWxlLmNoaWxkTm9kZXNba107CiAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBOb2RlID0gbm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF07CiAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJzsKCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxICYmICF0ZW1wTm9kZS5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gdGVtcE5vZGUuY2hlY2tlZCA9ICF0ZW1wTm9kZS5jaGVja2VkCiAgICAgICAgICAgICAgICAgICAgdGVtcE5vZGUuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogdGFyZ2V0RWxlbWVudC5pbm5lclRleHQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuQ29udHJvbFNvdXJjZSAhPT0gJycpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnNlbGVjdGlvbkRhdGFbMF0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0aW9uRGF0YVswXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgbGV0IGlzTGlzdFN0eWxlID0gMDsKCiAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW4gPT09IC0xIHx8IHRoaXMucHJvcGVydGllcy5UZXh0Q29sdW1uID09PSAxKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAwKSB7CiAgICAgICAgICAgICAgaXNMaXN0U3R5bGUgPSAtMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMSAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1ZhbHVlJywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhWzEgLSBpc0xpc3RTdHlsZV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcGVydGllcy5UZXh0Q29sdW1uID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdUZXh0JywKICAgICAgICAgICAgICB2YWx1ZTogc3BsaXREYXRhWzIgLSBpc0xpc3RTdHlsZV0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YU1vZGVsKHsKICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgICAgICAgICAgdmFsdWU6IHNwbGl0RGF0YVsxIC0gaXNMaXN0U3R5bGVdCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbdGhpcy5wcm9wZXJ0aWVzLlRleHRDb2x1bW5dCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lOiAnVmFsdWUnLAogICAgICAgICAgICAgIHZhbHVlOiBzcGxpdERhdGFbMSAtIGlzTGlzdFN0eWxlXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgIT09IDEpIHsKICAgICAgICB0aGlzLmNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICB9CgogICAgY29uc3QgYSA9IGUuY3VycmVudFRhcmdldDsKICAgIHRoaXMuc2VsZWN0aW9uRGF0YVswXSA9IGEuaW5uZXJUZXh0OwogICAgdGhpcy51cGRhdGVEYXRhTW9kZWwoewogICAgICBwcm9wZXJ0eU5hbWU6ICdWYWx1ZScsCiAgICAgIHZhbHVlOiBhLmlubmVyVGV4dFswXQogICAgfSk7CiAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbCh7CiAgICAgIHByb3BlcnR5TmFtZTogJ1RleHQnLAogICAgICB2YWx1ZTogYS5pbm5lclRleHRbMF0KICAgIH0pOwogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gdXBkYXRlcyB0aGUgZGF0YU1vZGVsIGxpc3RCb3ggb2JqZWN0IHByb3BlcnRpZXMgd2hlbiBrZXlkb3duCiAgICogQGZ1bmN0aW9uIGhhbmRsZUV4dGVuZEFycm93S2V5U2VsZWN0CiAgICogQHBhcmFtIGV2ZW50IGl0cyBvZiB0eXBlIEtleWJvYXJkRXZlbnQKICAgKiBAZXZlbnQga2V5ZG93bgogICAqCiAgICovCgoKICBoYW5kbGVFeHRlbmRBcnJvd0tleVNlbGVjdChlKSB7CiAgICBjb25zdCB4ID0gZS5rZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApOwogICAgY29uc3QgdGVtcFBhdGggPSBlLmNvbXBvc2VkUGF0aCgpOwogICAgY29uc3QgZXZlbnRUYXJnZXQgPSBlLnRhcmdldDsKICAgIGNvbnN0IG5leHRTaWJsaW5nRXZlbnQgPSBldmVudFRhcmdldC5uZXh0U2libGluZzsKICAgIGNvbnN0IHByZXZTaWJsaW5nRXZlbnQgPSBldmVudFRhcmdldC5wcmV2aW91c1NpYmxpbmc7CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5NYXRjaEVudHJ5ID09PSAwICYmIHggPj0gNDggJiYgeCA8PSA5MCkgewogICAgICB0aGlzLm1hdGNoRW50cnkgPSBbXTsKICAgICAgY29uc3QgcHJldk1hdGNoRGF0YSA9IHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGEgPT09ICcnID8gZS5rZXkgOiB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhOwogICAgICB0aGlzLnVwZGF0ZURhdGFNb2RlbEV4dHJhRGF0YSh7CiAgICAgICAgcHJvcGVydHlOYW1lOiAnTWF0Y2hEYXRhJywKICAgICAgICB2YWx1ZTogcHJldk1hdGNoRGF0YSAhPT0gZS5rZXkgPyBlLmtleSA6IHByZXZNYXRjaERhdGEKICAgICAgfSk7CgogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGVtcFBhdGgubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRlbXBQYXRoW2luZGV4XTsKCiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lID09PSAndGFibGUtYm9keScpIHsKICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGNvbnN0IGVpID0gZWxlbWVudC5jaGlsZE5vZGVzW2luZGV4XTsKICAgICAgICAgICAgbGV0IHNwbGl0RGF0YSA9IGVpLmlubmVyVGV4dC5yZXBsYWNlKC9cdC9nLCAnICcpLnNwbGl0KCcgJyk7CiAgICAgICAgICAgIGxldCBzaSA9IDA7CgogICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMCkgewogICAgICAgICAgICAgIHNpID0gLTE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzcGxpdERhdGFbc2kgKyAxXVswXS5pbmNsdWRlcyh0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhKSkgewogICAgICAgICAgICAgIHRoaXMubWF0Y2hFbnRyeS5wdXNoKGluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhWzBdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YVswXSA9PT0gZS5rZXkgJiYgdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGNvbnN0IHRlbXBDaGlsZE5vZGUgPSBlbGVtZW50LmNoaWxkTm9kZXNbdGhpcy5tYXRjaEVudHJ5W3RoaXMubWF0Y2hJbmRleF1dOwogICAgICAgICAgICB0aGlzLm1hdGNoSW5kZXgrKzsKCiAgICAgICAgICAgIGlmICh0aGlzLm1hdGNoSW5kZXggPT09IHRoaXMubWF0Y2hFbnRyeS5sZW5ndGggJiYgcHJldk1hdGNoRGF0YSA9PT0gdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YSkgewogICAgICAgICAgICAgIHRoaXMubWF0Y2hJbmRleCA9IDA7CiAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICAgIHRoaXMuc2V0QkdhbmRDaGVja2VkRm9yTWF0Y2godGVtcENoaWxkTm9kZSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldk1hdGNoRGF0YSAhPT0gdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YSkgewogICAgICAgICAgICAgIHRoaXMubWF0Y2hJbmRleCA9IDA7CiAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgICAgICAgIHRoaXMuc2V0QkdhbmRDaGVja2VkRm9yTWF0Y2godGVtcENoaWxkTm9kZSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMubWF0Y2hFbnRyeS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hFbnRyeS5wdXNoKDApOwogICAgICAgICAgICAgICAgdGhpcy5tYXRjaEluZGV4ID0gMDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgICAgICB0aGlzLnNldEJHYW5kQ2hlY2tlZEZvck1hdGNoKHRlbXBDaGlsZE5vZGUpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcGVydGllcy5NYXRjaEVudHJ5ID09PSAxICYmIHggPj0gNDggJiYgeCA8PSA5MCkgewogICAgICBsZXQgdGVtcCA9IHRoaXMuZXh0cmFEYXRhcy5NYXRjaERhdGEgKyBlLmtleTsKICAgICAgdGhpcy51cGRhdGVEYXRhTW9kZWxFeHRyYURhdGEoewogICAgICAgIHByb3BlcnR5TmFtZTogJ01hdGNoRGF0YScsCiAgICAgICAgdmFsdWU6IHRlbXAKICAgICAgfSk7CgogICAgICBmb3IgKGxldCBwb2ludCA9IDA7IHBvaW50IDwgdGVtcFBhdGgubGVuZ3RoOyBwb2ludCsrKSB7CiAgICAgICAgY29uc3QgdGJvZHkgPSB0ZW1wUGF0aFtwb2ludF07CgogICAgICAgIGlmICh0Ym9keS5jbGFzc05hbWUgPT09ICd0YWJsZS1ib2R5JykgewogICAgICAgICAgdGhpcy5tYXRjaEVudHJ5ID0gW107CgogICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCB0Ym9keS5jaGlsZE5vZGVzLmxlbmd0aDsgcCsrKSB7CiAgICAgICAgICAgIGNvbnN0IGVpID0gdGJvZHkuY2hpbGROb2Rlc1twXTsKICAgICAgICAgICAgbGV0IG1hdGNoRW50cnlDb21wbGV0ZSA9IGVpLmlubmVyVGV4dC5yZXBsYWNlKC9cdC9nLCAnICcpLnNwbGl0KCcgJyk7CiAgICAgICAgICAgIGxldCBzaWkgPSAwOwoKICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDApIHsKICAgICAgICAgICAgICBzaWkgPSAtMTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG1hdGNoRW50cnlDb21wbGV0ZVtzaWkgKyAxXVswXS5pbmNsdWRlcyh0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhKSAmJiB0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgICB0aGlzLm1hdGNoRW50cnkucHVzaChwKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaEVudHJ5Q29tcGxldGVbc2lpICsgMV0uaW5jbHVkZXModGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YSkgJiYgdGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgdGhpcy5tYXRjaEVudHJ5LnB1c2gocCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5leHRyYURhdGFzLk1hdGNoRGF0YS5sZW5ndGggPD0gMSkgewogICAgICAgICAgICBsZXQgc2luZ2xlTWF0Y2ggPSB0Ym9keS5jaGlsZE5vZGVzW3RoaXMubWF0Y2hFbnRyeVswXV07CiAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgICAgdGhpcy5zZXRCR2FuZENoZWNrZWRGb3JNYXRjaChzaW5nbGVNYXRjaCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmV4dHJhRGF0YXMuTWF0Y2hEYXRhLmxlbmd0aCA+IDEgJiYgdGhpcy5tYXRjaEVudHJ5Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgICBsZXQgY29tcGxldGVBdXRvTWF0Y2ggPSB0Ym9keS5jaGlsZE5vZGVzW3RoaXMubWF0Y2hFbnRyeVswXV07CiAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICAgICAgdGhpcy5zZXRCR2FuZENoZWNrZWRGb3JNYXRjaChjb21wbGV0ZUF1dG9NYXRjaCk7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGUua2V5ID09PSAnQXJyb3dEb3duJyAmJiBlLnNoaWZ0S2V5ID09PSB0cnVlICYmIChuZXh0U2libGluZ0V2ZW50ICE9PSBudWxsIHx8IHByZXZTaWJsaW5nRXZlbnQubmV4dFNpYmxpbmcgIT09IG51bGwpKSB7CiAgICAgIGxldCBjdXJyZW50RWxlbWVudDsKCiAgICAgIGlmIChuZXh0U2libGluZ0V2ZW50ID09PSBudWxsKSB7CiAgICAgICAgY3VycmVudEVsZW1lbnQgPSBwcmV2U2libGluZ0V2ZW50Lm5leHRTaWJsaW5nOwogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbmV4dFNpYmxpbmdFdmVudDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMikgewogICAgICAgIGlmIChldmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgIT09ICdyZ2IoNTksIDEyMiwgMjMxKScpIHsKICAgICAgICAgIHRoaXMuc2V0T3B0aW9uQkdDb2xvckFuZENoZWNrZWQoZSk7CiAgICAgICAgfSBlbHNlIGlmIChldmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09ICdyZ2IoNTksIDEyMiwgMjMxKScgJiYgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yICE9PSAnJykgewogICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VGFyZ2V0Lm5leHRTaWJsaW5nLm5leHRTaWJsaW5nICE9PSBudWxsKSB7CiAgICAgICAgICB0aGlzLnNldEJHQ29sb3JGb3JOZXh0U2libGluZyhlKTsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VGFyZ2V0Lm5leHRTaWJsaW5nLm5leHRTaWJsaW5nID09PSBudWxsICYmIGN1cnJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciAhPT0gJ3JnYig1OSwgMTIyLCAyMzEpJykgewogICAgICAgICAgdGhpcy5zZXRCR0NvbG9yRm9yTmV4dFNpYmxpbmcoZSk7CiAgICAgICAgfQoKICAgICAgICBjdXJyZW50RWxlbWVudC5mb2N1cygpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGUua2V5ID09PSAnQXJyb3dVcCcgJiYgZS5zaGlmdEtleSA9PT0gdHJ1ZSAmJiAocHJldlNpYmxpbmdFdmVudCAhPT0gbnVsbCB8fCBuZXh0U2libGluZ0V2ZW50LnByZXZpb3VzU2libGluZyAhPT0gbnVsbCkpIHsKICAgICAgbGV0IGN1cnJlbnRFbGVtZW50OwoKICAgICAgaWYgKHByZXZTaWJsaW5nRXZlbnQgPT09IG51bGwpIHsKICAgICAgICBjdXJyZW50RWxlbWVudCA9IG5leHRTaWJsaW5nRXZlbnQucHJldmlvdXNTaWJsaW5nOwogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRFbGVtZW50ID0gcHJldlNpYmxpbmdFdmVudDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMikgewogICAgICAgIGlmIChldmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09ICdyZ2IoNTksIDEyMiwgMjMxKScgJiYgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yICE9PSAnJykgewogICAgICAgICAgdGhpcy5zZXRPcHRpb25CR0NvbG9yQW5kQ2hlY2tlZChlKTsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VGFyZ2V0LnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcgIT09IG51bGwpIHsKICAgICAgICAgIHRoaXMuc2V0QkdDb2xvckZvclByZXZpb3VzU2libGluZyhlKTsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VGFyZ2V0LnByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgJiYgY3VycmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yICE9PSAncmdiKDU5LCAxMjIsIDIzMSknKSB7CiAgICAgICAgICB0aGlzLnNldEJHQ29sb3JGb3JQcmV2aW91c1NpYmxpbmcoZSk7CiAgICAgICAgfQoKICAgICAgICBjdXJyZW50RWxlbWVudC5mb2N1cygpOwogICAgICB9CiAgICB9IC8vIH0KCiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uIHVwZGF0ZXMgdGhlIGRhdGFNb2RlbCBsaXN0Qm94IG9iamVjdCBwcm9wZXJ0aWVzIHdoZW4gbW91c2VlbnRlcgogICogQGZ1bmN0aW9uIGhhbmRsZURyYWcKICAqIEBwYXJhbSBldmVudCBpdHMgb2YgdHlwZSBNb3VzZUV2ZW50CiAgKiBAZXZlbnQgbW91c2VlbnRlcgogICoKICAqLwoKCiAgaGFuZGxlRHJhZyhlKSB7CiAgICBjb25zdCBldGFyZ2V0ID0gZS50YXJnZXQ7CgogICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMikgewogICAgICBpZiAoZS53aGljaCA9PT0gMSkgewogICAgICAgIGlmIChldGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9PT0gJ3JnYig1OSwgMTIyLCAyMzEpJykgewogICAgICAgICAgdGhpcy51bnNlbGVjdEJHQ29sb3JBbmRjaGVja2VkKGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOwogICAgfQogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiBzZXQgQmFja2dyb3VuZCBDb2xvciBmb3IgbmV4dCBzaWJsaW5ncwogICogQGZ1bmN0aW9uIHNldEJHQ29sb3JGb3JOZXh0U2libGluZwogICogQHBhcmFtIGV2ZW50IGl0cyBvZiB0eXBlIE1vdXNlRXZlbnQgb3IgS2V5Ym9hcmRFdmVudAogICovCgoKICBzZXRCR0NvbG9yRm9yTmV4dFNpYmxpbmcoZSkgewogICAgaWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgfHwgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkgewogICAgICBjb25zdCB0YXJnZXRFdmVudCA9IGUudGFyZ2V0OwogICAgICBjb25zdCBuZXh0U2libGluZ0V2ZW50ID0gdGFyZ2V0RXZlbnQubmV4dFNpYmxpbmc7CiAgICAgIGNvbnN0IG5leHRTaWJsaW5nQ2hlY2tlZEV2ZW50ID0gbmV4dFNpYmxpbmdFdmVudC5jaGlsZHJlblswXS5jaGlsZE5vZGVzWzBdOwogICAgICBuZXh0U2libGluZ0V2ZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IG5leHRTaWJsaW5nRXZlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID09PSAncmdiKDU5LCAxMjIsIDIzMSknID8gJycgOiAncmdiKDU5LCAxMjIsIDIzMSknOwoKICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEgJiYgdGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAyKSB7CiAgICAgICAgbmV4dFNpYmxpbmdDaGVja2VkRXZlbnQuY2hlY2tlZCA9ICFuZXh0U2libGluZ0NoZWNrZWRFdmVudC5jaGVja2VkOwogICAgICB9CiAgICB9CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uIHNldCBCYWNrZ3JvdW5kIENvbG9yIGZvZSBwcmV2aW91cyBzaWJsaW5ncwogICogQGZ1bmN0aW9uIHNldEJHQ29sb3JGb3JQcmV2aW91c1NpYmxpbmcKICAqIEBwYXJhbSBldmVudCBpdHMgb2YgdHlwZSBNb3VzZUV2ZW50IG9yIEtleWJvYXJkRXZlbnQKICAqLwoKCiAgc2V0QkdDb2xvckZvclByZXZpb3VzU2libGluZyhlKSB7CiAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGFibGVDZWxsRWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUYWJsZVJvd0VsZW1lbnQgfHwgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCkgewogICAgICBjb25zdCB0YXJnZXRFdmVudCA9IGUudGFyZ2V0OwogICAgICBjb25zdCBwcmV2U2libGluZ0V2ZW50ID0gdGFyZ2V0RXZlbnQucHJldmlvdXNTaWJsaW5nOwogICAgICBjb25zdCBwcmV2U2libGluZ0NoZWNrZWRFdmVudCA9IHByZXZTaWJsaW5nRXZlbnQuY2hpbGRyZW5bMF0uY2hpbGROb2Rlc1swXTsKICAgICAgcHJldlNpYmxpbmdFdmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwcmV2U2libGluZ0V2ZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9PT0gJ3JnYig1OSwgMTIyLCAyMzEpJyA/ICcnIDogJ3JnYig1OSwgMTIyLCAyMzEpJzsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxICYmIHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMikgewogICAgICAgIHByZXZTaWJsaW5nQ2hlY2tlZEV2ZW50LmNoZWNrZWQgPSAhcHJldlNpYmxpbmdDaGVja2VkRXZlbnQuY2hlY2tlZDsKICAgICAgfQogICAgfQogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiBjbGVhciBzZWxlY3RlZCBvcHRpb24gZm9yIFNpbmdsZVNlbGVjdGlvbgogICogQGZ1bmN0aW9uIGNsZWFyT3B0aW9uQkdDb2xvckFuZENoZWNrZWQKICAqIEBwYXJhbSBldmVudAogICovCgoKICBjbGVhck9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpIHsKICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ0NvbWJvQm94JykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUucGF0aC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChlLnBhdGhbaV0uY2xhc3NOYW1lID09PSAndEJvZHlTdHlsZScpIHsKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZS5wYXRoW2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGUucGF0aFtpXS5jaGlsZHJlbltqXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCB0ZW1wUGF0aCA9IGUucGF0aDsKCiAgICBpZiAodGVtcFBhdGggJiYgdGVtcFBhdGgubGVuZ3RoID4gMCkgewogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGVtcFBhdGgubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRlbXBQYXRoW2luZGV4XTsKCiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lID09PSAndGFibGUtYm9keScpIHsKICAgICAgICAgIGZvciAobGV0IGNoaWxkSW5kZXggPSAwOyBjaGlsZEluZGV4IDwgZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7CiAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IGVsZW1lbnQuY2hpbGROb2Rlc1tjaGlsZEluZGV4XTsKICAgICAgICAgICAgY2hpbGROb2RlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwogICAgICAgICAgICBjb25zdCBDaGlsZENoZWNrZWQgPSBjaGlsZE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdOwoKICAgICAgICAgICAgaWYgKENoaWxkQ2hlY2tlZCAmJiB0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxKSB7CiAgICAgICAgICAgICAgQ2hpbGRDaGVja2VkLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiBoYW5kbGUgc2V0dGluZyBiYWNrZ3JvdW5kQ29sb3IgYW5kIG9wdGlvbiBjaGVja2VkL25vdAogICogQGZ1bmN0aW9uIHNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkCiAgKiBAcGFyYW0gZXZlbnQgS2V5Ym9hcmRFdmVudCBvciBNb3VzZUV2ZW50CiAgKi8KCgogIHNldE9wdGlvbkJHQ29sb3JBbmRDaGVja2VkKGUpIHsKICAgIGNvbnN0IGN1cnJlbnRUYXJnZXRFbGVtZW50ID0gZS5jdXJyZW50VGFyZ2V0OwogICAgY29uc3QgY2hpbGROb2RlQ2hlY2tlZCA9IGN1cnJlbnRUYXJnZXRFbGVtZW50LmNoaWxkcmVuWzBdLmNoaWxkTm9kZXNbMF07CgogICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnQ29tYm9Cb3gnKSB7CiAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9PT0gJ3JnYig1OSwgMTIyLCAyMzEpJyA/ICcnIDogJ3JnYig1OSwgMTIyLCAyMzEpJzsKICAgIH0KCiAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICdDb21ib0JveCcpIHsKICAgICAgY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkID0gIWNoaWxkTm9kZUNoZWNrZWQuY2hlY2tlZDsKICAgIH0KCiAgICBpZiAoZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRGl2RWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxUYWJsZUNlbGxFbGVtZW50IHx8IGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRhYmxlUm93RWxlbWVudCB8fCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHsKICAgICAgY29uc3QgdGFyZ2V0RXZlbnQgPSBlLnRhcmdldDsKCiAgICAgIGlmICh0aGlzLmRhdGEudHlwZSA9PT0gJ0NvbWJvQm94JykgewogICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwogICAgICB9CgogICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMSAmJiB0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDApIHsKICAgICAgICBjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQgPSAhY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkOwoKICAgICAgICBpZiAoY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkID09PSB0cnVlKSB7CiAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJzsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkID0gIWNoaWxkTm9kZUNoZWNrZWQuY2hlY2tlZDsKCiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5NdWx0aVNlbGVjdCA9PT0gMCkgewogICAgICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJzsKCiAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMSkgewogICAgICAgICAgICBpZiAoY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wZXJ0aWVzLk11bHRpU2VsZWN0ID09PSAxKSB7CiAgICAgICAgICBpZiAoY3VycmVudFRhcmdldEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID09PSAncmdiKDU5LCAxMjIsIDIzMSknKSB7CiAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwoKICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5MaXN0U3R5bGUgPT09IDEpIHsKICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNTksIDEyMiwgMjMxKSc7CgogICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLkxpc3RTdHlsZSA9PT0gMSkgewogICAgICAgICAgICAgIGlmIChjaGlsZE5vZGVDaGVja2VkLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2IoNTksIDEyMiwgMjMxKSc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDIpIHsKICAgICAgICAgIGNoaWxkTm9kZUNoZWNrZWQuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICBjdXJyZW50VGFyZ2V0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiKDU5LCAxMjIsIDIzMSknOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgdW5zZWxlY3RCR0NvbG9yQW5kY2hlY2tlZChlKSB7CiAgICBjb25zdCBjdXJyZW50VGFyZ2V0RWxlbWVudCA9IGUuY3VycmVudFRhcmdldDsKICAgIGNvbnN0IGNoaWxkTm9kZUNoZWNrZWQgPSBjdXJyZW50VGFyZ2V0RWxlbWVudC5jaGlsZHJlblswXS5jaGlsZE5vZGVzWzBdOwoKICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTXVsdGlTZWxlY3QgPT09IDIpIHsKICAgICAgY2hpbGROb2RlQ2hlY2tlZC5jaGVja2VkID0gZmFsc2U7CiAgICAgIGN1cnJlbnRUYXJnZXRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOwogICAgfQogIH0KICAvKioKICAqIEBkZXNjcmlwdGlvbiBzZXQgQkdDb2xvciBhbmQgQ2hlY2tlZCBtYXRjaEVudHJ5CiAgKiBAZnVuY3Rpb24gc2V0QkdhbmRDaGVja2VkRm9yTWF0Y2gKICAqIEBwYXJhbSBzaW5nbGVNYXRjaCB3aGljaCBpcyBhbiBIVE1MRGl2RWxlbWVudAogICovCgoKICBzZXRCR2FuZENoZWNrZWRGb3JNYXRjaChzaW5nbGVNYXRjaCkgewogICAgaWYgKHNpbmdsZU1hdGNoICE9PSB1bmRlZmluZWQpIHsKICAgICAgc2luZ2xlTWF0Y2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYig1OSwgMTIyLCAyMzEpJzsKCiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuTGlzdFN0eWxlID09PSAxKSB7CiAgICAgICAgY29uc3QgdGVtcE5vZGUgPSBzaW5nbGVNYXRjaC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF07CiAgICAgICAgdGVtcE5vZGUuY2hlY2tlZCA9ICF0ZW1wTm9kZS5jaGVja2VkOwogICAgICB9CiAgICB9CiAgfQoKICBnZXQgc2V0Rm9udFN0eWxlKCkgewogICAgY29uc3QgdGVtcEZvbnRTdHlsZSA9IHRoaXMucHJvcGVydGllcy5Gb250LkZvbnRTdHlsZS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmICh0ZW1wRm9udFN0eWxlLmluY2x1ZGVzKHRoaXMucHJvcGVydGllcy5Gb250LkZvbnROYW1lLnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgIGlmICh0ZW1wRm9udFN0eWxlLmluY2x1ZGVzKCdpdGFsaWMnKSkgewogICAgICAgIHRoaXMuaXNJdGFsaWMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNJdGFsaWMgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRlbXBGb250U3R5bGUuc3BsaXQoJyAnKS5pbmRleE9mKCdib2xkJykgPiAtMSkgewogICAgICAgIHRoaXMudGVtcFdlaWdodCA9ICdib2xkJzsKICAgICAgfSBlbHNlIGlmICh0ZW1wRm9udFN0eWxlLmluY2x1ZGVzKCdibGFjaycpKSB7CiAgICAgICAgdGhpcy50ZW1wV2VpZ2h0ID0gJzkwMCc7CiAgICAgIH0gZWxzZSBpZiAodGVtcEZvbnRTdHlsZS5zcGxpdCgnICcpLmluZGV4T2YoJ2xpZ2h0JykgPiAtMSkgewogICAgICAgIHRoaXMudGVtcFdlaWdodCA9ICdsaWdodGVyJzsKICAgICAgfSBlbHNlIGlmICh0ZW1wRm9udFN0eWxlLmluY2x1ZGVzKCdzZW1pYm9sZCcpKSB7CiAgICAgICAgdGhpcy50ZW1wV2VpZ2h0ID0gJzU0MCc7CiAgICAgIH0gZWxzZSBpZiAodGVtcEZvbnRTdHlsZS5pbmNsdWRlcygnc2VtaWxpZ2h0JykpIHsKICAgICAgICB0aGlzLnRlbXBXZWlnaHQgPSAnMzAwJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRlbXBXZWlnaHQgPSAnNDAwJzsKICAgICAgfQoKICAgICAgaWYgKHRlbXBGb250U3R5bGUuc3BsaXQoJyAnKS5pbmRleE9mKCdjb25kZW5zZWQnKSA+IC0xKSB7CiAgICAgICAgdGhpcy50ZW1wU3RyZXRjaCA9ICdjb25kZW5zZWQnOwogICAgICB9IGVsc2UgaWYgKHRlbXBGb250U3R5bGUuaW5jbHVkZXMoJ3NlbWljb25kZW5zZWQnKSkgewogICAgICAgIHRoaXMudGVtcFN0cmV0Y2ggPSAnc2VtaS1jb25kZW5zZWQnOwogICAgICB9IGVsc2UgaWYgKHRlbXBGb250U3R5bGUuaW5jbHVkZXMoJ25hcnJvdycpKSB7CiAgICAgICAgdGhpcy50ZW1wU3RyZXRjaCA9ICd1bHRyYS1jb25kZW5zZWQnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGVtcFN0cmV0Y2ggPSAnbm9ybWFsJzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5Gb250LkZvbnROYW1lOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pc0l0YWxpYyA9IGZhbHNlOwogICAgICB0aGlzLnRlbXBXZWlnaHQgPSAnNDAwJzsKICAgICAgdGhpcy50ZW1wU3RyZXRjaCA9ICdub3JtYWwnOwogICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLkZvbnQuRm9udE5hbWU7CiAgICB9CiAgfQoKfTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IEJvb2xlYW4KfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiaXNSdW5Nb2RlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IEJvb2xlYW4KfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiaXNFZGl0TW9kZSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wU3luYygnaXNFZGl0TW9kZScpXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInN5bmNJc0VkaXRNb2RlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IE9iamVjdAp9KV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJkYXRhIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIHJlcXVpcmVkOiB0cnVlLAogIHR5cGU6IFN0cmluZwp9KV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJjb250cm9sSWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgZGVmYXVsdDogZmFsc2UKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiaXNBY3RpdmF0ZWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbRW1pdCgnc2VsZWN0ZWRJdGVtJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiZW1pdFNlbGVjdGVkSXRlbSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgnZHJhZ0dyb3VwJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiZHJhZ0dyb3VwIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtFbWl0KCdkZWxldGVJdGVtJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiZGVsZXRlSXRlbSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgnc2V0RWRpdE1vZGUnKV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJzZXRFZGl0TW9kZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgnY29udHJvbEVkaXRNb2RlJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiY29udHJvbEVkaXRNb2RlIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncHJvcGVydGllcy5Db250cm9sU291cmNlJywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiY29udHJvbFNvdXJjZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbRW1pdCgndXBkYXRlTW9kZWwnKV0sIEZkQ29udHJvbFZ1ZS5wcm90b3R5cGUsICJ1cGRhdGVEYXRhTW9kZWwiLCBudWxsKTsKCl9fZGVjb3JhdGUoW0VtaXQoJ3VwZGF0ZU1vZGVsRXh0cmFEYXRhJyldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAidXBkYXRlRGF0YU1vZGVsRXh0cmFEYXRhIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncHJvcGVydGllcy5UZXh0JywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAidmFsdWVVcGRhdGVQcm9wIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncHJvcGVydGllcy5WYWx1ZScsIHsKICBkZWVwOiB0cnVlCn0pXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInRleHRBbmRWYWx1ZVVwZGF0ZVByb3AiLCBudWxsKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdwcm9wZXJ0aWVzLkJvdW5kQ29sdW1uJywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAiYm91bmRDb2x1bW5WYWx1ZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbV2F0Y2goJ3Byb3BlcnRpZXMuVGV4dENvbHVtbicsIHsKICBkZWVwOiB0cnVlCn0pXSwgRmRDb250cm9sVnVlLnByb3RvdHlwZSwgInRleHRDb2x1bW5DaGFuZ2UiLCBudWxsKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdwcm9wZXJ0aWVzLlRvcEluZGV4JywgewogIGRlZXA6IHRydWUKfSldLCBGZENvbnRyb2xWdWUucHJvdG90eXBlLCAidG9wSW5kZXhDaGVjayIsIG51bGwpOwoKRmRDb250cm9sVnVlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBuYW1lOiAnRmRDb250cm9sVnVlJwp9KV0sIEZkQ29udHJvbFZ1ZSk7CmV4cG9ydCBkZWZhdWx0IEZkQ29udHJvbFZ1ZTs="},{"version":3,"sources":["/home/mobiotics/Projects/formcontrols/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/formcontrols/src/api/abstract/FormDesigner/FdControlVue.ts"],"names":[],"mappings":"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","sourcesContent":["import { controlProperties } from '@/FormDesigner/controls-properties'\nimport {\n  PositionXYData,\n  ScrollBarData\n} from '@/FormDesigner/controls-properties-types'\nimport { PropType } from 'vue'\nimport { Component, Emit, Prop, PropSync, Vue, Watch } from 'vue-property-decorator'\n\n@Component({\n  name: 'FdControlVue'\n})\nexport default class FdControlVue extends Vue {\n  @Prop({ required: true, type: Boolean }) public isRunMode!: boolean\n  @Prop({ required: true, type: Boolean }) public isEditMode!: boolean\n  @PropSync('isEditMode') public syncIsEditMode!: boolean\n\n  @Prop({ required: true, type: Object as PropType<controlData> }) public data! : controlData\n  @Prop({ required: true, type: String }) public controlId! : string\n  @Prop({ default: false }) isActivated: boolean\n  isContentEditable: boolean = false\n  selectionData :Array<string> = [];\n  matchEntry: Array<number> = [];\n  matchIndex = -1;\n  isDropdownVisible: boolean = true;\n  isItalic: boolean = false;\n  tempWeight: string = '400';\n  tempStretch: string = 'normal';\n  isVisible: boolean = false;\n  tempListBoxComboBoxEvent: Event\n\n   // global variable to keep track of TripleState when enabled\n   protected tripleState:number = 0\n\n  // dynamic ref form textbox component\n  protected autoSizeTextarea: HTMLLabelElement\n\n  // dynamic ref from checkbox component\n  protected autoSizecheckbox: HTMLDivElement\n\n  // dynamic ref from optionButton component\n  protected autoSizeOptionButton! : HTMLDivElement\n\n  // ref of respective components\n  protected checkboxRef: HTMLDivElement\n  protected optionBtnRef: HTMLDivElement\n  protected textareaRef: HTMLTextAreaElement\n\n  preventClickOnce: boolean = false\n  addEventCustomCallback (e: CustomMouseEvent) {\n    this.controlEditMode(e)\n    const self = this\n    e.customCallBack = () => {\n      self.preventClickOnce = true\n    }\n  }\n\n  selectedItem (event: Event) {\n    if (this.preventClickOnce) {\n      this.preventClickOnce = false\n    } else {\n      this.emitSelectedItem(event)\n    }\n  }\n\n  @Emit('selectedItem')\n  emitSelectedItem (event: Event) {\n    return event\n  }\n\n  @Emit('dragGroup')\n  dragGroup (event: Event) {\n    return event\n  }\n\n  @Emit('deleteItem')\n  deleteItem (event: Event) {\n    return event\n  }\n\n  @Emit('setEditMode')\n  setEditMode (contentEditable: boolean) {\n    return contentEditable\n  }\n\n  @Emit('controlEditMode')\n  controlEditMode (event: MouseEvent) {\n    return event\n  }\n\n  updateCaption (updateValue : string) {\n    this.updateDataModel({ propertyName: 'Caption', value: updateValue })\n  }\n\n  /**\n   * @description userFormId and controlId which is taken as props from parent Component\n   * @abstract propControlData\n   */\n  public get properties () :controlProperties {\n    return this.data.properties\n  }\n\n  public get extraDatas () : extraDatas {\n    return this.data.extraDatas!\n  }\n  public get controls () : string[] {\n    return this.data.controls\n  }\n\n  protected get renderSize () :Partial<CSSStyleDeclaration> {\n    return {\n      width: `${this.properties.Width}px`,\n      height: `${this.properties.Height}px`\n    }\n  }\n\n  protected get baseStyle () :Partial<CSSStyleDeclaration> {\n    return {\n      backgroundColor: this.properties.BackColor,\n      display: 'block'\n    }\n  }\n\n  /**\n   * @description getSpecialEffectData returns string value from\n   * controlProperties.specialEffectProp\n   * @function getSpecialEffectData\n   * @returns string value\n   */\n  protected get getSpecialEffectData (): string {\n    return controlProperties.specialEffectProp(this.data)\n  }\n  /**\n   * @description getBorderStyle returns string value from\n   * controlProperties.borderStyleProp\n   * @function getBorderStyle\n   * @returns string value\n   */\n  protected get getBorderStyle (): string {\n    return controlProperties.borderStyleProp(this.data)\n  }\n  /**\n   * @description getMouseCursorData returns string value from\n   * controlProperties.mousePointerProp\n   * @function getMouseCursorData\n   * @returns string value\n   */\n  protected get getMouseCursorData (): string {\n    return controlProperties.mousePointerProp(this.data)\n  }\n  /**\n   * @description getEnabled returns string value from\n   * controlProperties.enabledProp\n   * @function getEnabled\n   * @returns string value\n   */\n  protected get getEnabled (): string {\n    return controlProperties.enabledProp(this.data)\n  }\n  /**\n   * @description getRepeat returns string value from\n   * controlProperties.extraDataRepeatProp\n   * @function getRepeat\n   * @returns string value\n   */\n  protected get getRepeat (): string {\n    return controlProperties.extraDataRepeatProp(this.data)\n  }\n  /**\n   * @description getPosition returns string value from\n   * controlProperties.picturePositionProp\n   * @function getPosition\n   * @returns string value\n   */\n  protected get getPosition (): string {\n    return controlProperties.picturePositionProp(this.data)\n  }\n  /**\n   * @description getPositionX returns string value from\n   * controlProperties.pictureXYPositionProp\n   * @function getPositionX\n   * @returns string value\n   */\n  protected get getPositionX (): string {\n    const posX: PositionXYData = controlProperties.pictureXYPositionProp(\n      this.data\n    )\n    return posX.backgroundPositionX\n  }\n  /**\n   * @description getPositionY returns string value from\n   * controlProperties.pictureXYPositionProp\n   * @function getPositionY\n   * @returns string value\n   */\n  protected get getPositionY (): string {\n    const posY: PositionXYData = controlProperties.pictureXYPositionProp(\n      this.data\n    )\n    return posY.backgroundPositionY\n  }\n  /**\n   * @description getSizeMode returns string value from\n   * controlProperties.pictureSizeModeProp\n   * @function getSizeMode\n   * @returns string value\n   */\n  protected get getSizeMode (): string {\n    return controlProperties.pictureSizeModeProp(this.data)\n  }\n  /**\n   * @description getScrollBarX returns string value from\n   * controlProperties.scrollBarProp / controlProperties.scrollBarTextBoxProp\n   * @function getScrollBarX\n   * @returns string value\n   */\n  protected get getScrollBarX (): string {\n    if (this.data.type === 'TextBox') {\n      if (this.isEditMode) {\n        const scrollXData = controlProperties.scrollBarTextBoxProp(this.data)\n        return scrollXData.overflowX\n      }\n    }\n    const scrollX: ScrollBarData = controlProperties.scrollBarProp(\n      this.data\n    )\n    return scrollX.overflowX\n  }\n\n  /**\n   * @description getScrollBarY returns string value from\n   * controlProperties.scrollBarProp / controlProperties.scrollBarTextBoxProp\n   * @function getScrollBarY\n   * @returns string value\n   */\n  protected get getScrollBarY (): string {\n    if (this.data.type === 'TextBox') {\n      if (this.isEditMode) {\n        const scrollYData = controlProperties.scrollBarTextBoxProp(this.data)\n        return scrollYData.overflowY\n      }\n    }\n    const scrollY: ScrollBarData = controlProperties.scrollBarProp(\n      this.data\n    )\n    return scrollY.overflowY\n  }\n  /**\n   * @description getScrollingHeight returns string value from\n   * controlProperties.scrollBarWidthAndHeightProp\n   * @function getScrollingHeight\n   * @returns string value\n   */\n  protected get getScrollingHeight (): string {\n    const scrollingHeight = controlProperties.scrollBarWidthAndHeightProp(\n      this.data\n    )\n    return scrollingHeight.scrollHeight\n  }\n  /**\n   * @description getScrollingWidth returns string value from\n   * controlProperties.scrollBarWidthAndHeightProp\n   * @function getScrollingWidth\n   * @returns string value\n   */\n  protected get getScrollingWidth (): string {\n    const scrollingWidth = controlProperties.scrollBarWidthAndHeightProp(\n      this.data\n    )\n    return scrollingWidth.scrollWidth\n  }\n\n  /**\n   * @description checkOtherOrientations returns string value from\n   * controlProperties.controlsOrientationProp\n   * @function checkOtherOrientations\n   * @returns boolean value\n   */\n  protected checkOtherOrientations () : boolean {\n    throw new Error('checkOtherOrientations Not Implemented')\n  }\n\n  /**\n   * @description getForeColorValue returns string value from\n   * controlProperties.getForeColor\n   * @function getForeColorValue\n   * @returns string value\n   */\n  protected get getForeColorValue () : string {\n    return controlProperties.getForeColor(this.data)\n  }\n\n  /**\n   * @description increaseTheValue calls Vuex Actions to update object and Value Property\n   * @function increaseTheValue\n   */\n  protected increaseTheValue () {\n    let tempVal, tempMax\n    if (this.properties.Max! >= 0 && this.properties.Min! >= 0) {\n      if (this.properties.Max! < this.properties.Min!) {\n        tempMax = this.properties.Max!\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = this.properties.Value! as number\n        if (\n          tempVal >= tempMax &&\n              tempVal - tempMax > this.properties.SmallChange!\n        ) {\n          tempVal = tempVal - this.properties.SmallChange!\n        } else if (tempVal >= tempMax) {\n          tempVal = tempMax\n        } else {\n          tempVal = tempMax\n        }\n      } else {\n        tempMax = this.properties.Max!\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = this.properties.Value! as number\n        if (\n          tempVal <= tempMax &&\n        tempMax - tempVal > this.properties.SmallChange!\n        ) {\n          tempVal = tempVal + this.properties.SmallChange!\n        } else if (tempVal <= tempMax) {\n          tempVal = tempMax\n        } else {\n          tempVal = tempMax\n        }\n      }\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\n    } else if (this.properties.Max! < 0 && this.properties.Min! < 0) {\n      if (this.properties.Max! > this.properties.Min!) {\n        tempMax = this.properties.Max!\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Max })\n        }\n        tempVal = this.properties.Value! as number\n        if (\n          tempVal <= tempMax &&\n          Math.abs(tempVal) - Math.abs(tempMax) > this.properties.SmallChange!\n        ) {\n          tempVal = Math.abs(tempVal) - this.properties.SmallChange!\n        } else if (tempVal <= tempMax) {\n          tempVal = Math.abs(tempMax)\n        } else {\n          tempVal = Math.abs(tempMax)\n        }\n      } else {\n        tempMax = Math.abs(this.properties.Max!)\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = Math.abs(this.properties.Value! as number)\n        if (\n          tempVal <= tempMax &&\n        tempMax - tempVal > this.properties.SmallChange!\n        ) {\n          tempVal = tempVal + this.properties.SmallChange!\n        } else if (tempVal <= tempMax) {\n          tempVal = tempMax\n        } else {\n          tempVal = tempMax\n        }\n      }\n      this.updateDataModel({ propertyName: 'Value', value: '-' + tempVal })\n    } else if (this.properties.Max! < this.properties.Min!) {\n      tempMax = this.properties.Max!\n      if (this.properties.Value! > this.properties.Min! && this.properties.Value! < this.properties.Max!) {\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Max })\n      }\n      tempVal = this.properties.Value as number\n      if (\n        tempVal >= tempMax &&\n        tempVal - tempMax >= this.properties.SmallChange!\n      ) {\n        tempVal = tempVal - this.properties.SmallChange!\n      } else if (tempVal <= tempMax) {\n        tempVal = tempMax\n      } else {\n        tempVal = tempMax\n      }\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\n    } else {\n      tempMax = this.properties.Max!\n      if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n      }\n      tempVal = this.properties.Value as number\n      if (\n        tempVal <= tempMax &&\n        tempMax - tempVal > this.properties.SmallChange!\n      ) {\n        tempVal = tempVal + this.properties.SmallChange!\n      } else if (tempVal <= tempMax) {\n        tempVal = tempMax\n      } else {\n        tempVal = tempMax\n      }\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\n    }\n  }\n\n  /**\n   * @description decreaseTheValue calls Vuex Actions to update object and Value Property\n   * @function decreaseTheValue\n   */\n  protected decreaseTheValue () {\n    let tempVal, tempMin\n    if (this.properties.Max! >= 0 && this.properties.Min! >= 0) {\n      if (this.properties.Max! < this.properties.Min!) {\n        tempMin = this.properties.Min!\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = this.properties.Value! as number\n        if (\n          tempVal <= tempMin &&\n          tempMin - tempVal > this.properties.SmallChange!\n        ) {\n          tempVal = tempVal + this.properties.SmallChange!\n        } else if (tempVal <= tempMin) {\n          tempVal = tempMin\n        } else {\n          tempVal = tempMin\n        }\n      } else {\n        tempMin = this.properties.Min!\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = this.properties.Value! as number\n        if (\n          tempVal >= tempMin &&\n            tempVal - tempMin > this.properties.SmallChange!\n        ) {\n          tempVal = tempVal - this.properties.SmallChange!\n        } else if (tempVal >= tempMin) {\n          tempVal = tempMin\n        } else {\n          tempVal = tempMin\n        }\n      }\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\n    } else if (this.properties.Max! < 0 && this.properties.Min! < 0) {\n      if (this.properties.Max! > this.properties.Min!) {\n        tempMin = this.properties.Min!\n        if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = this.properties.Value! as number\n        if (\n          tempVal >= tempMin &&\n          Math.abs(tempMin) - Math.abs(tempVal) > this.properties.SmallChange!\n        ) {\n          tempVal = Math.abs(tempVal) + this.properties.SmallChange!\n        } else if (tempVal <= tempMin) {\n          tempVal = Math.abs(tempMin)\n        } else {\n          tempVal = Math.abs(tempMin)\n        }\n      } else {\n        tempMin = Math.abs(this.properties.Min!)\n        if (this.properties.Value! < this.properties.Max! && this.properties.Value! > this.properties.Min!) {\n          this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n        }\n        tempVal = Math.abs(this.properties.Value! as number)\n        if (\n          tempVal >= tempMin &&\n            tempVal - tempMin > this.properties.SmallChange!\n        ) {\n          tempVal = tempVal - this.properties.SmallChange!\n        } else if (tempVal >= tempMin) {\n          tempVal = tempMin\n        } else {\n          tempVal = tempMin\n        }\n      }\n      this.updateDataModel({ propertyName: 'Value', value: '-' + tempVal })\n    } else if (this.properties.Max! < this.properties.Min!) {\n      tempMin = this.properties.Min!\n      if (this.properties.Value! > this.properties.Min! && this.properties.Value! < this.properties.Max!) {\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Max })\n      }\n      tempVal = this.properties.Value as number\n      if (\n        tempVal <= tempMin &&\n            tempMin - tempVal > this.properties.SmallChange!\n      ) {\n        tempVal = tempVal + this.properties.SmallChange!\n      } else if (tempVal >= tempMin) {\n        tempVal = tempMin\n      } else {\n        tempVal = tempMin\n      }\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\n    } else {\n      tempMin = this.properties.Min!\n      if (this.properties.Value! > this.properties.Max! && this.properties.Value! < this.properties.Min!) {\n        this.updateDataModel({ propertyName: 'Value', value: this.properties.Min })\n      }\n      tempVal = this.properties.Value as number\n      if (\n        tempVal >= tempMin &&\n            tempVal - tempMin > this.properties.SmallChange!\n      ) {\n        tempVal = tempVal - this.properties.SmallChange!\n      } else if (tempVal >= tempMin) {\n        tempVal = tempMin\n      } else {\n        tempVal = tempMin\n      }\n      this.updateDataModel({ propertyName: 'Value', value: tempVal })\n    }\n  }\n  /**\n   * @description transformScrollButtonStyle returns string value from\n   * knobProperties.transformScrollButtonStyle\n   * @function transformScrollButtonStyle\n   * @returns string value\n   */\n  protected get transformScrollButtonStyle () : string {\n    return controlProperties.transformScrollButtonStyle(this.data)\n  }\n\n  /**\n  * @description update the isContentEditable to make the Button content editable\n  * or noneditable on click of enter key\n  * @function setContentEditable\n  * @param event\n  * @param contentEditable\n  */\n  setContentEditable (event : KeyboardEvent, contentEditable : boolean) {\n    this.setEditMode(contentEditable)\n  }\n\n  /**\n   * @description  sets Styles to checkbox/optionButton and label based on control Value property\n   * @function setStyle\n   *@param ref\n   *@param checked\n   *@param disabled\n   *@param bgColor\n   */\n  setStyle (ref:HTMLInputElement, checked:boolean, disabled:boolean, bgColor:string) {\n    if (ref) {\n      ref.checked = checked;\n      ((ref.parentNode as HTMLLabelElement).childNodes[1] as HTMLSpanElement).style.backgroundColor = bgColor\n      ref.disabled = disabled\n    }\n  }\n\n  /**\n   * @description  style object is passed to :style attribute in span tag in checkbox/OptionButton\n   * dynamically changing the styles of the component based on properties\n   * @function styleForBtn\n   *\n   */\n  get styleForBtn () {\n    const style = { border: '1px inset grey', backgroundColor: 'inherit', top: '0px', position: 'relative' }\n    if (!this.properties.Enabled) {\n      style.backgroundColor = 'rgba(220, 220, 220, 1)'\n    }\n    if (this.properties.SpecialEffect === 0) {\n      return style\n    } else {\n      style.border = '2px groove grey'\n      return style\n    }\n  }\n\n  /**\n   * @description  sets controlSource if present and updates Value property\n   * @function controlSource\n   */\n  @Watch('properties.ControlSource', { deep: true })\n  controlSource () {\n    const propData: controlData = this.data\n    if (this.data.type === 'SpinButton' || this.data.type === 'ScrollBar') {\n      if (propData.properties.ControlSource && propData.extraDatas) {\n        if (propData.extraDatas.ControlSourceValue !== null && propData.extraDatas.ControlSourceValue !== undefined) {\n          const a = propData.extraDatas.ControlSourceValue\n          if (parseInt(a) <= propData.properties.Max! && parseInt(a) >= propData.properties.Min!) {\n            this.updateDataModel({ propertyName: 'Value', value: propData.extraDatas!.ControlSourceValue })\n          }\n        }\n      };\n    } else if (propData.properties.ControlSource) {\n      const controlSourceValue = propData.extraDatas!.ControlSourceValue!.toLowerCase()\n      const isBoolean:boolean | string = (controlSourceValue === 'true') ? true : (controlSourceValue === 'false') ? false : ''\n      this.updateDataModel({ propertyName: 'Value', value: isBoolean.toString() })\n    }\n  }\n  /**\n   * @description  update the value of control properties\n   * @function updateDataModel\n   * @param updateData\n   */\n  @Emit('updateModel')\n  updateDataModel (updateData: IupdateDataModel) {\n    return updateData\n  }\n\n  /**\n   * @description  update the value of control extraDatas properties\n   * @function updateDataModelExtraData\n   * @param updateData\n   */\n  @Emit('updateModelExtraData')\n  updateDataModelExtraData (updateData: IupdateDataModelExtraData) {\n    return updateData\n  }\n\n  /**\n  * @description watches text properties\n  * @function valueUpdateProp\n  * @param oldVal previous string value\n  * @param newVal  new/changed string value\n  */\n @Watch('properties.Text', { deep: true })\n  valueUpdateProp (newVal:string, oldVal:string) {\n    if (this.data.type!.includes('TextBox') || this.data.type === 'ComboBox') {\n      const propData: controlProperties = this.properties\n      this.updateDataModel({ propertyName: 'Value', value: newVal })\n    }\n  }\n\n /**\n  * @description watches text and value properties are same when component is mounted/changed\n  * @function textAndValueUpdateProp\n  * @param oldVal previous properties data\n  * @param newVal  new/changed properties data\n  */\n @Watch('properties.Value', { deep: true })\n textAndValueUpdateProp (newVal:string, oldVal:string) {\n   if (this.data.type!.includes('TextBox')) {\n     const propData: controlProperties = this.properties\n     if (propData.Text !== propData.Value && propData.ControlSource === '') {\n       const propText: number = propData.Text!.length\n       const propValue: number = (propData.Value as string).length\n       this.updateDataModel({ propertyName: 'Text',\n         value: this.properties.Value! })\n     }\n   } else if (this.data.type!.includes('CheckBox') || this.data.type!.includes('OptionButton')) {\n     const value = this.properties.Value\n     const valueType:boolean | string = typeof value\n     let isBoolean:boolean | string = ''\n     if (valueType === 'boolean') {\n       isBoolean = (value as boolean)\n     } else if (valueType === 'string') {\n       isBoolean = ((value as string).toLowerCase() === 'true') ? true : ((value as string).toLowerCase() === 'false') ? false : ''\n     }\n     const ref = this.data.type!.includes('CheckBox') ? this.checkboxRef : this.optionBtnRef\n     if (isBoolean !== '') {\n       if (isBoolean) {\n         this.setStyle((ref as HTMLInputElement), (isBoolean as boolean), !(isBoolean as boolean), 'white')\n       } else {\n         this.setStyle((ref as HTMLInputElement), false, false, 'white')\n       }\n     } else {\n       this.setStyle((ref as HTMLInputElement), true, true, 'rgba(220, 220, 220, 1)')\n     }\n   }\n }\n\n /**\n  * @description changing width and height of textarea tag by replicating style of\n  * textarea with label tag to making the property work in textarea\n  * @function updateAutoSize\n  * @param oldVal previous properties data\n  * @param newVal  new/changed properties data\n  */\n updateAutoSize (newVal:boolean, oldVal:boolean) {\n   throw new Error('updateAutosize Not Implemented')\n }\n /**\n   * @description  sets checked or unchecked when checkbox is clicked\n   * if TripleState is True, Null state will be visible\n   * @function handleChange\n   * @param event it is of type MouseEvent\n   */\n handleChange (event: MouseEvent, targetRef: HTMLInputElement) {\n   if (event.target instanceof HTMLInputElement) {\n     const el = event.target.checked\n     if (this.properties.TripleState) {\n       this.tripleState++\n       if (this.tripleState % 3 === 0) {\n         this.setStyle(targetRef, true, false, 'rgba(220, 220, 220, 1)')\n       } else {\n         this.setStyle(targetRef, el, false, 'white')\n         this.updateDataModel({ propertyName: 'Value', value: el })\n       }\n     } else {\n       this.tripleState++\n       this.updateDataModel({ propertyName: 'Value', value: el })\n       this.setStyle(targetRef, el, false, 'white')\n     }\n   }\n }\n /**\n   * @description getRepeat returns string value from\n   * controlProperties.extraDataRepeatProp\n   * @function getRepeat\n   */\n protected get getRepeatData (): string {\n   //  if (this.properties.Picture === '') {\n   return controlProperties.extraDataRepeatProp(this.data)\n   //  } else {\n   //    return controlProperties.pictureTilingProp(this.data)\n   //  }\n }\n /**\n   * @description computedCaption returns object value from\n   * with acceleratorCaption, afterbeginCaption, beforeendCaption values\n   * @function computedCaption\n   * @returns object value\n   */\n protected get computedCaption () {\n   let accelerator = ''\n   if (this.properties.Accelerator) {\n     accelerator = this.properties.Accelerator!.charAt(0)\n   }\n   return controlProperties.acceleratorProp(this.properties.Caption!, accelerator)\n }\n updateColumnWidths (index: number, height: number) {\n   const controlProp = this.properties\n   const updateColWidth = controlProp.ColumnWidths!.split(';')\n   const colChangeCheck: boolean = controlProp.ColumnCount! - 1 < index\n   return {\n     textAlign: controlProp.TextAlign === 0 ? 'left' : controlProp.TextAlign === 2 ? 'right' : 'center',\n     width: controlProp.ColumnCount! === -1 ? (updateColWidth[index] ? parseInt(updateColWidth[index]) + 'px' : '100px') : colChangeCheck ? '0px' : ((updateColWidth[index]) ? parseInt(updateColWidth[index]) + 'px' : controlProp.ColumnCount! > index ? '100px' : '0px'),\n     overflow: 'hidden',\n     paddingBottom: this.data.properties.Font!.FontSize! > 48 ? '10px' : '5px'\n   }\n }\n updateColHeads (index: number) {\n   const controlProp = this.properties\n   const updateColWidth = controlProp.ColumnWidths!.split(';')\n   return {\n     textAlign: controlProp.TextAlign === 0 ? 'left' : controlProp.TextAlign === 2 ? 'right' : 'center',\n     borderRight: (index < controlProp.ColumnCount! - 1) ? '1px solid' : '',\n     width: controlProp.ColumnCount! === -1 ? parseInt(updateColWidth[index]) + 'px' : (updateColWidth[index]) ? parseInt(updateColWidth[index]) + 'px' : '100px',\n     overflow: 'hidden'\n   }\n }\n\n/**\n * @description watches changes in properties for BoundColumn\n * @function boundColumnValue\n * @param oldVal previous properties data\n * @param newVal  new/changed properties data\n */\n@Watch('properties.BoundColumn', { deep: true })\n boundColumnValue (newVal:number, oldVal:number) {\n   if (this.properties.BoundColumn! > 0 && this.properties.BoundColumn! < this.extraDatas.RowSourceData!.length) {\n     let tempData = [...this.extraDatas.RowSourceData!]\n    tempData![0][0] = tempData![0][newVal - 1]\n    let tempValue = tempData![0][newVal - 1]\n    this.updateDataModelExtraData({ propertyName: 'RowSourceData', value: tempData })\n    this.updateDataModel({ propertyName: 'Value', value: tempValue })\n   }\n }\n\n/**\n * @description watches changes in properties for TextColumn\n * @function textColumnChange\n * @param oldVal previous properties data\n * @param newVal  new/changed properties data\n */\n@Watch('properties.TextColumn', { deep: true })\ntextColumnChange (newVal:number, oldVal:number) {\n  if (newVal > 0 && newVal < this.extraDatas.RowSourceData!.length) {\n    let tempData = [...this.extraDatas.RowSourceData!]\n    let tempValue = tempData![0][newVal - 1]\n    this.updateDataModel({ propertyName: 'Text', value: tempValue })\n  } else {\n    this.updateDataModel({ propertyName: 'Text', value: '' })\n  }\n}\n\n/**\n * @description watches changes in properties for TopIndex\n * @function topIndexCheck\n * @param oldVal previous properties data\n * @param newVal  new/changed properties data\n */\n@Watch('properties.TopIndex', { deep: true })\ntopIndexCheck (newVal:number, oldVal:number) {\n  if (this.extraDatas.RowSourceData!.length === 0) {\n    this.updateDataModel({ propertyName: 'TopIndex', value: -1 })\n  } else {\n    this.updateDataModel({ propertyName: 'TopIndex', value: 0 })\n  }\n}\n\n/**\n * @description updates the dataModel listBox object properties when user clicks\n * @function handleMultiSelect\n * @param event its of type MouseEvent\n * @event click\n *\n */\nhandleMultiSelect (e: MouseEvent) {\n  if (e.target instanceof HTMLTableCellElement || e.target instanceof HTMLTableRowElement || e.target instanceof HTMLDivElement) {\n    this.tempListBoxComboBoxEvent = e\n    const targetElement = e.target\n    const tempData = targetElement.parentElement!.children[0] as HTMLDivElement\n    const tempDataOption = targetElement.parentElement!.children[1] as HTMLDivElement\n    const tempPath = e.composedPath()\n    targetElement.focus()\n    let data = targetElement.innerText\n    let splitData = data.replace(/\\t/g, ' ').split(' ')\n    if (this.data.properties.ListStyle === 0) {\n      this.selectionData[0] = tempData.innerText\n    } else {\n      this.selectionData[0] = tempDataOption.innerText\n    }\n    if (this.properties.Enabled && this.properties.Locked === false) {\n      if (this.properties.MultiSelect === 0) {\n        if (this.properties.ControlSource !== '') {\n          this.updateDataModel({ propertyName: 'Text', value: this.selectionData[0] })\n          this.updateDataModel({ propertyName: 'Value', value: this.selectionData[0] })\n        }\n        this.clearOptionBGColorAndChecked(e)\n        this.setOptionBGColorAndChecked(e)\n        let isListStyle = 0\n        if (this.properties.TextColumn === -1 || this.properties.TextColumn === 1) {\n        // 0th index is empty string\n          if (this.properties.ListStyle === 0) {\n            isListStyle = -1\n          }\n          this.updateDataModel({ propertyName: 'Text', value: splitData[1 - isListStyle] })\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\n        } else if (this.properties.TextColumn === 0) {\n          this.updateDataModel({ propertyName: 'Text', value: splitData[2 - isListStyle] })\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\n        } else {\n          this.updateDataModel({ propertyName: 'Text', value: splitData[this.properties.TextColumn!] })\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\n        }\n      } else if (this.properties.MultiSelect === 1) {\n        if (targetElement.tagName === 'INPUT') {\n          this.setOptionBGColorAndChecked(e)\n        } else {\n          this.setOptionBGColorAndChecked(e)\n        }\n      } else if (this.properties.MultiSelect === 2) {\n        if (e.ctrlKey === true) {\n          if (targetElement.tagName === 'INPUT') {\n            this.setOptionBGColorAndChecked(e)\n          } else {\n            this.setOptionBGColorAndChecked(e)\n          }\n        } else if (e.shiftKey === true && this.properties.Value !== '') {\n          let startPoint = 0\n          let endPoint = 0\n          for (let i = 0; i < tempPath.length; i++) {\n            const ele = tempPath[i] as HTMLDivElement\n            if (ele.className === 'table-body') {\n            // extend points start and end\n              for (let j = 0; j < ele.childNodes.length; j++) {\n                const cd = ele.childNodes[j] as HTMLDivElement\n                if (cd.innerText === this.properties.Value) {\n                  startPoint = j + 1\n                }\n                if (cd.innerText === targetElement.innerText) {\n                  endPoint = j\n                }\n              }\n              // upward selection start and end swap\n              if (startPoint > endPoint) {\n                let temp = startPoint\n                startPoint = endPoint\n                endPoint = temp\n              }\n              // setting selection\n              for (let k = startPoint; k <= endPoint; k++) {\n                const node = ele.childNodes[k] as HTMLDivElement\n                const tempNode = node.childNodes[0].childNodes[0] as HTMLInputElement\n                node.style.backgroundColor = 'rgb(59, 122, 231)'\n                if (\n                  this.properties.ListStyle === 1 &&\n             !tempNode.checked\n                ) {\n                // tempNode.checked = !tempNode.checked\n                  tempNode.checked = true\n                }\n              }\n              break\n            }\n          }\n        } else {\n          this.clearOptionBGColorAndChecked(e)\n          this.setOptionBGColorAndChecked(e)\n          this.updateDataModel({ propertyName: 'Value', value: targetElement.innerText })\n        }\n      } else {\n        if (this.properties.ControlSource !== '') {\n          this.updateDataModel({ propertyName: 'Text', value: this.selectionData[0] })\n          this.updateDataModel({ propertyName: 'Value', value: this.selectionData[0] })\n        }\n        this.clearOptionBGColorAndChecked(e)\n        this.setOptionBGColorAndChecked(e)\n        let isListStyle = 0\n        if (this.properties.TextColumn === -1 || this.properties.TextColumn === 1) {\n          if (this.properties.ListStyle === 0) {\n            isListStyle = -1\n          }\n          this.updateDataModel({ propertyName: 'Text', value: splitData[1 - isListStyle] })\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\n        } else if (this.properties.TextColumn === 0) {\n          this.updateDataModel({ propertyName: 'Text', value: splitData[2 - isListStyle] })\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\n        } else {\n          this.updateDataModel({ propertyName: 'Text', value: splitData[this.properties.TextColumn!] })\n          this.updateDataModel({ propertyName: 'Value', value: splitData[1 - isListStyle] })\n        }\n      }\n    }\n  } else {\n    if (this.properties.MultiSelect !== 1) {\n      this.clearOptionBGColorAndChecked(e)\n    }\n    this.setOptionBGColorAndChecked(e)\n  }\n  const a = e.currentTarget! as HTMLDivElement\n  this.selectionData[0] = a.innerText\n  this.updateDataModel({ propertyName: 'Value', value: a.innerText[0] })\n  this.updateDataModel({ propertyName: 'Text', value: a.innerText[0] })\n}\n/**\n * @description updates the dataModel listBox object properties when keydown\n * @function handleExtendArrowKeySelect\n * @param event its of type KeyboardEvent\n * @event keydown\n *\n */\nhandleExtendArrowKeySelect (e: KeyboardEvent) {\n  const x = e.key.toUpperCase().charCodeAt(0)\n  const tempPath = e.composedPath()\n  const eventTarget = e.target as HTMLTableRowElement\n  const nextSiblingEvent = eventTarget.nextSibling as HTMLDivElement\n  const prevSiblingEvent = eventTarget.previousSibling as HTMLDivElement\n  if (\n   this.properties.MatchEntry! === 0 &&\n   x >= 48 && x <= 90\n  ) {\n    this.matchEntry = []\n    const prevMatchData =\n   this.extraDatas.MatchData === '' ? e.key : this.extraDatas.MatchData\n    this.updateDataModelExtraData({ propertyName: 'MatchData', value: prevMatchData !== e.key ? e.key : prevMatchData })\n\n    for (let index = 0; index < tempPath.length; index++) {\n      const element = tempPath[index] as HTMLDivElement\n      if (element.className === 'table-body') {\n        for (let index = 0; index < element.childNodes.length; index++) {\n          const ei = element.childNodes[index] as HTMLDivElement\n          let splitData = ei.innerText.replace(/\\t/g, ' ').split(' ')\n          let si = 0\n          if (this.properties.ListStyle === 0) {\n            si = -1\n          }\n          if (splitData[si + 1][0].includes(this.extraDatas.MatchData!)) {\n            this.matchEntry.push(index)\n          }\n        }\n\n        if (\n         this.extraDatas.MatchData![0] !== undefined &&\n         this.extraDatas.MatchData![0] === e.key &&\n         this.extraDatas.MatchData!.length > 0\n        ) {\n          const tempChildNode = element.childNodes[this.matchEntry[this.matchIndex]] as HTMLDivElement\n          this.matchIndex++\n          if (\n            this.matchIndex === this.matchEntry.length &&\n           prevMatchData === this.extraDatas.MatchData\n          ) {\n            this.matchIndex = 0\n            this.clearOptionBGColorAndChecked(e)\n            this.setBGandCheckedForMatch(\n              tempChildNode\n            )\n            break\n          } else if (prevMatchData !== this.extraDatas.MatchData) {\n            this.matchIndex = 0\n            this.clearOptionBGColorAndChecked(e)\n            this.setBGandCheckedForMatch(\n              tempChildNode\n            )\n            break\n          } else {\n            if (this.matchEntry.length === 0) {\n              this.matchEntry.push(0)\n              this.matchIndex = 0\n            }\n            this.clearOptionBGColorAndChecked(e)\n            this.setBGandCheckedForMatch(\n              tempChildNode\n            )\n            break\n          }\n        }\n        break\n      }\n    }\n  } else if (\n    this.properties.MatchEntry === 1 &&\n    x >= 48 && x <= 90\n  ) {\n    let temp = this.extraDatas.MatchData + e.key\n    this.updateDataModelExtraData({ propertyName: 'MatchData', value: temp })\n\n    for (let point = 0; point < tempPath.length; point++) {\n      const tbody = tempPath[point] as HTMLDivElement\n      if (tbody.className === 'table-body') {\n        this.matchEntry = []\n        for (let p = 0; p < tbody.childNodes.length; p++) {\n          const ei = tbody.childNodes[p] as HTMLDivElement\n          let matchEntryComplete = ei.innerText\n            .replace(/\\t/g, ' ')\n            .split(' ')\n          let sii = 0\n          if (this.properties.ListStyle === 0) {\n            sii = -1\n          }\n          if (\n            matchEntryComplete[sii + 1][0].includes(this.extraDatas.MatchData!) &&\n           this.extraDatas.MatchData!.length < 2\n          ) {\n            this.matchEntry.push(p)\n          } else if (\n            matchEntryComplete[sii + 1].includes(this.extraDatas.MatchData!) &&\n           this.extraDatas.MatchData!.length > 1\n          ) {\n            this.matchEntry.push(p)\n          }\n        }\n\n        if (this.extraDatas.MatchData!.length <= 1) {\n          let singleMatch = tbody.childNodes[this.matchEntry[0]] as HTMLDivElement\n          this.clearOptionBGColorAndChecked(e)\n          this.setBGandCheckedForMatch(singleMatch)\n          break\n        } else if (\n         this.extraDatas.MatchData!.length > 1 &&\n         this.matchEntry.length !== 0\n        ) {\n          let completeAutoMatch = tbody.childNodes[this.matchEntry[0]] as HTMLDivElement\n          this.clearOptionBGColorAndChecked(e)\n          this.setBGandCheckedForMatch(completeAutoMatch)\n        }\n        break\n      }\n    }\n  }\n  if (\n    e.key === 'ArrowDown' &&\n   e.shiftKey === true &&\n   (nextSiblingEvent !== null || prevSiblingEvent.nextSibling !== null)\n  ) {\n    let currentElement: HTMLDivElement\n    if (nextSiblingEvent === null) {\n      currentElement = prevSiblingEvent.nextSibling! as HTMLDivElement\n    } else {\n      currentElement = nextSiblingEvent\n    }\n    if (this.properties.MultiSelect === 2) {\n      if (eventTarget.style.backgroundColor !== 'rgb(59, 122, 231)') {\n        this.setOptionBGColorAndChecked(e)\n      } else if (\n        eventTarget.style.backgroundColor === 'rgb(59, 122, 231)' &&\n        currentElement!.style.backgroundColor !== ''\n      ) {\n        this.setOptionBGColorAndChecked(e)\n      } else if (eventTarget.nextSibling!.nextSibling !== null) {\n        this.setBGColorForNextSibling(e)\n      } else if (\n      eventTarget.nextSibling!.nextSibling === null &&\n      currentElement!.style.backgroundColor !== 'rgb(59, 122, 231)'\n      ) {\n        this.setBGColorForNextSibling(e)\n      }\n        currentElement!.focus()\n    }\n  } else if (\n    e.key === 'ArrowUp' &&\n   e.shiftKey === true &&\n   (prevSiblingEvent !== null || nextSiblingEvent.previousSibling !== null)\n  ) {\n    let currentElement: HTMLDivElement\n    if (prevSiblingEvent === null) {\n      currentElement = nextSiblingEvent.previousSibling! as HTMLDivElement\n    } else {\n      currentElement = prevSiblingEvent\n    }\n    if (this.properties.MultiSelect === 2) {\n      if (\n        eventTarget.style.backgroundColor === 'rgb(59, 122, 231)' &&\n        currentElement.style.backgroundColor !== ''\n      ) {\n        this.setOptionBGColorAndChecked(e)\n      } else if (eventTarget.previousSibling!.previousSibling !== null) {\n        this.setBGColorForPreviousSibling(e)\n      } else if (\n        eventTarget.previousSibling!.previousSibling === null &&\n        currentElement.style.backgroundColor !== 'rgb(59, 122, 231)'\n      ) {\n        this.setBGColorForPreviousSibling(e)\n      }\n      currentElement.focus()\n    }\n  }\n  // }\n}\n\n/**\n* @description updates the dataModel listBox object properties when mouseenter\n* @function handleDrag\n* @param event its of type MouseEvent\n* @event mouseenter\n*\n*/\nhandleDrag (e: MouseEvent) {\n  const etarget = e.target as HTMLDivElement\n  if (this.properties.MultiSelect === 2) {\n    if (e.which === 1) {\n      if (etarget.style.backgroundColor === 'rgb(59, 122, 231)') {\n        this.unselectBGColorAndchecked(e)\n      } else {\n        this.setOptionBGColorAndChecked(e)\n      }\n    }\n   window.getSelection()!.removeAllRanges()\n  }\n}\n\n/**\n* @description set Background Color for next siblings\n* @function setBGColorForNextSibling\n* @param event its of type MouseEvent or KeyboardEvent\n*/\nsetBGColorForNextSibling (e: MouseEvent | KeyboardEvent) {\n  if (e.target instanceof HTMLTableCellElement || e.target instanceof HTMLDivElement) {\n    const targetEvent = e.target\n    const nextSiblingEvent = targetEvent.nextSibling as HTMLDivElement\n    const nextSiblingCheckedEvent = nextSiblingEvent.children[0].childNodes[0] as HTMLInputElement\n    nextSiblingEvent.style.backgroundColor =\n   nextSiblingEvent.style.backgroundColor === 'rgb(59, 122, 231)'\n     ? ''\n     : 'rgb(59, 122, 231)'\n    if (\n      this.properties.ListStyle === 1 &&\n   this.properties.MultiSelect === 2\n    ) {\n      nextSiblingCheckedEvent.checked = !nextSiblingCheckedEvent.checked\n    }\n  }\n}\n\n/**\n* @description set Background Color foe previous siblings\n* @function setBGColorForPreviousSibling\n* @param event its of type MouseEvent or KeyboardEvent\n*/\nsetBGColorForPreviousSibling (e: KeyboardEvent) {\n  if (e.target instanceof HTMLTableCellElement || e.target instanceof HTMLTableRowElement || e.target instanceof HTMLDivElement) {\n    const targetEvent = e.target\n    const prevSiblingEvent = targetEvent.previousSibling as HTMLDivElement\n    const prevSiblingCheckedEvent = prevSiblingEvent.children[0].childNodes[0] as HTMLInputElement\n    prevSiblingEvent.style.backgroundColor =\n   prevSiblingEvent.style.backgroundColor === 'rgb(59, 122, 231)'\n     ? ''\n     : 'rgb(59, 122, 231)'\n    if (\n      this.properties.ListStyle === 1 &&\n   this.properties.MultiSelect === 2\n    ) {\n      prevSiblingCheckedEvent.checked = !prevSiblingCheckedEvent.checked\n    }\n  }\n}\n\n/**\n* @description clear selected option for SingleSelection\n* @function clearOptionBGColorAndChecked\n* @param event\n*/\nclearOptionBGColorAndChecked (e: any) {\n  if (this.data.type === 'ComboBox') {\n    for (let i = 0; i < e.path.length; i++) {\n      if (e.path[i].className === 'tBodyStyle') {\n        for (let j = 0; j < e.path[i].children.length; j++) {\n          e.path[i].children[j].style.backgroundColor = ''\n        }\n      }\n    }\n  }\n  const tempPath = e.path\n  if (tempPath && tempPath.length > 0) {\n    for (let index = 0; index < tempPath.length; index++) {\n      const element = tempPath[index] as HTMLDivElement\n      if (element.className === 'table-body') {\n        for (\n          let childIndex = 0;\n          childIndex < element.childNodes.length;\n          childIndex++\n        ) {\n          const childNode = element.childNodes[childIndex] as HTMLDivElement\n          childNode.style.backgroundColor = ''\n          const ChildChecked = childNode.childNodes[0].childNodes[0] as HTMLInputElement\n          if (ChildChecked && this.properties.ListStyle === 1) {\n            ChildChecked.checked = false\n          }\n        }\n        break\n      }\n    }\n  }\n}\n\n/**\n* @description handle setting backgroundColor and option checked/not\n* @function setOptionBGColorAndChecked\n* @param event KeyboardEvent or MouseEvent\n*/\nsetOptionBGColorAndChecked (e: KeyboardEvent | MouseEvent) {\n  const currentTargetElement = e.currentTarget as HTMLDivElement\n  const childNodeChecked = currentTargetElement.children[0].childNodes[0] as HTMLInputElement\n  if (this.data.type === 'ComboBox') {\n    currentTargetElement.style.backgroundColor =\n   currentTargetElement.style.backgroundColor === 'rgb(59, 122, 231)'\n     ? ''\n     : 'rgb(59, 122, 231)'\n  }\n  if (this.data.type === 'ComboBox') {\n    childNodeChecked.checked = !childNodeChecked.checked\n  }\n  if ((e.target instanceof HTMLDivElement || e.target instanceof HTMLTableCellElement || e.target instanceof HTMLTableRowElement || e.target instanceof HTMLInputElement)) {\n    const targetEvent = e.target\n    if (this.data.type === 'ComboBox') {\n      currentTargetElement.style.backgroundColor = ''\n    }\n    if (\n      this.properties.ListStyle === 1 &&\n   this.properties.MultiSelect === 0\n    ) {\n      childNodeChecked.checked = !childNodeChecked.checked\n      if (childNodeChecked.checked === true) {\n        currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n      } else {\n        currentTargetElement.style.backgroundColor = ''\n      }\n    } else {\n      childNodeChecked.checked = !childNodeChecked.checked\n      if (this.properties.MultiSelect === 0) {\n        currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n        if (this.properties.ListStyle === 1) {\n          if (childNodeChecked.checked) {\n            currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n          }\n        }\n      } else if (this.properties.MultiSelect === 1) {\n        if (currentTargetElement.style.backgroundColor === 'rgb(59, 122, 231)') {\n          currentTargetElement.style.backgroundColor = ''\n          if (this.properties.ListStyle === 1) {\n            if (childNodeChecked.checked) {\n              currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n            } else {\n              currentTargetElement.style.backgroundColor = ''\n            }\n          }\n        } else {\n          currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n          if (this.properties.ListStyle === 1) {\n            if (childNodeChecked.checked) {\n              currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n            }\n          }\n        }\n      } else if (this.properties.MultiSelect === 2) {\n        childNodeChecked.checked = true\n        currentTargetElement.style.backgroundColor = 'rgb(59, 122, 231)'\n      }\n    }\n  }\n}\n\nunselectBGColorAndchecked (e: KeyboardEvent | MouseEvent) {\n  const currentTargetElement = e.currentTarget as HTMLDivElement\n  const childNodeChecked = currentTargetElement.children[0].childNodes[0] as HTMLInputElement\n  if (this.properties.MultiSelect === 2) {\n    childNodeChecked.checked = false\n    currentTargetElement.style.backgroundColor = ''\n  }\n}\n\n/**\n* @description set BGColor and Checked matchEntry\n* @function setBGandCheckedForMatch\n* @param singleMatch which is an HTMLDivElement\n*/\nsetBGandCheckedForMatch (singleMatch: HTMLDivElement) {\n  if (singleMatch !== undefined) {\n    singleMatch.style.backgroundColor = 'rgb(59, 122, 231)'\n    if ((this.properties.ListStyle === 1)) {\n      const tempNode = singleMatch.childNodes[0].childNodes[0] as HTMLInputElement\n      tempNode.checked = !tempNode.checked\n    }\n  }\n}\n\nget setFontStyle () {\n  const tempFontStyle = this.properties.Font!.FontStyle!.toLowerCase()\n  if (tempFontStyle.includes(this.properties.Font!.FontName!.toLowerCase())) {\n    if (tempFontStyle.includes('italic')) {\n      this.isItalic = true\n    } else {\n      this.isItalic = false\n    }\n    if (tempFontStyle.split(' ').indexOf('bold') > -1) {\n      this.tempWeight = 'bold'\n    } else if (tempFontStyle.includes('black')) {\n      this.tempWeight = '900'\n    } else if (tempFontStyle.split(' ').indexOf('light') > -1) {\n      this.tempWeight = 'lighter'\n    } else if (tempFontStyle.includes('semibold')) {\n      this.tempWeight = '540'\n    } else if (tempFontStyle.includes('semilight')) {\n      this.tempWeight = '300'\n    } else {\n      this.tempWeight = '400'\n    }\n    if (tempFontStyle.split(' ').indexOf('condensed') > -1) {\n      this.tempStretch = 'condensed'\n    } else if (tempFontStyle.includes('semicondensed')) {\n      this.tempStretch = 'semi-condensed'\n    } else if (tempFontStyle.includes('narrow')) {\n      this.tempStretch = 'ultra-condensed'\n    } else {\n      this.tempStretch = 'normal'\n    }\n    return this.properties.Font!.FontName!\n  } else {\n    this.isItalic = false\n    this.tempWeight = '400'\n    this.tempStretch = 'normal'\n    return this.properties.Font!.FontName!\n  }\n}\n}\n"],"sourceRoot":""}]}