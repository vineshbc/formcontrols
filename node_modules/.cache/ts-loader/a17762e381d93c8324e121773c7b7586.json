{"remainingRequest":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDGroupControl/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDGroupControl/index.vue","mtime":1610544258558},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBTdGF0ZSwgQWN0aW9uIH0gZnJvbSAndnVleC1jbGFzcyc7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvZXZlbnQtYnVzJzsKaW1wb3J0IEZEQ29tbW9uTWV0aG9kIGZyb20gJ0AvYXBpL2Fic3RyYWN0L0Zvcm1EZXNpZ25lci9GRENvbW1vbk1ldGhvZCc7CmxldCBHcm91cENvbnRyb2wgPSBjbGFzcyBHcm91cENvbnRyb2wgZXh0ZW5kcyBGRENvbW1vbk1ldGhvZCB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgdGhpcy5kaXZTdHlsZUFycmF5ID0gW107CiAgICB0aGlzLnJlc2l6ZURpdiA9ICcnOwogICAgdGhpcy5wb3NpdGlvbnMgPSB7CiAgICAgIGNsaWVudFg6IDAsCiAgICAgIGNsaWVudFk6IDAsCiAgICAgIG1vdmVtZW50WDogMCwKICAgICAgbW92ZW1lbnRZOiAwLAogICAgICBvZmZzZXRYOiAwLAogICAgICBvZmZzZXRZOiAwCiAgICB9OwogICAgdGhpcy5ncm91cE5hbWUgPSAnJzsKICAgIHRoaXMuY291bnQgPSAwOwogICAgdGhpcy5jdXJyZW50TW91c2VEb3duRXZlbnQgPSBudWxsOwogICAgdGhpcy5jb250cm9sID0gJyc7CiAgICB0aGlzLmNvbnRhaW5lciA9ICcnOwogICAgdGhpcy52YWx1ZSA9ICdkaWZmZXJlbnQnOwogICAgdGhpcy5pc01haW5TZWxlY3QgPSBmYWxzZTsKICAgIHRoaXMuaXNNb3ZlID0gZmFsc2U7CiAgICB0aGlzLnRlbXBFdmVudCA9IHt9OwogICAgdGhpcy50b3BBcnJheSA9IFtdOwogICAgdGhpcy5sZWZ0QXJyYXkgPSBbXTsKICAgIHRoaXMucGVyY3dpZHRoQXJyYXkgPSBbXTsKICAgIHRoaXMucGVyY2hlaWdodEFycmF5ID0gW107CiAgICB0aGlzLmluaXRpYWxBcnJheSA9IFtdOwogIH0KCiAgY3JlYXRlR3JvdXAoZ3JvdXBOYW1lKSB7CiAgICB0aGlzLmdyb3VwU3R5bGUoZ3JvdXBOYW1lKTsKICB9CgogIGNyZWF0ZWQoKSB7CiAgICBFdmVudEJ1cy4kb24oJ2dldEdyb3VwTW92ZVZhbHVlJywgdGhpcy5nZXRHcm91cE1vdmVWYWx1ZSk7CiAgICBFdmVudEJ1cy4kb24oJ3N0YXJ0R3JvdXBNb3ZlQ29udHJvbCcsIHRoaXMuc3RhcnRHcm91cE1vdmVDb250cm9sKTsKICAgIEV2ZW50QnVzLiRvbignbW92ZUdyb3VwQ29udHJvbCcsIHRoaXMubW92ZUdyb3VwQ29udHJvbCk7CiAgICBFdmVudEJ1cy4kb24oJ2VuZEdyb3VwTW92ZUNvbnRyb2wnLCB0aGlzLmVuZEdyb3VwTW92ZUNvbnRyb2wpOwogICAgRXZlbnRCdXMuJG9uKCdnZXRDbGllbnRWYWx1ZScsIHRoaXMuZ2V0Q2xpZW50VmFsdWUpOwogICAgRXZlbnRCdXMuJG9uKCd1cGRhc3RlR3JvdXBTaXplJywgdGhpcy51cGRhc3RlR3JvdXBTaXplKTsKICAgIEV2ZW50QnVzLiRvbignZ2V0R3JvdXBTaXplJywgdGhpcy5nZXRHcm91cFNpemUpOwogIH0KCiAgZGVzdHJveWVkKCkgewogICAgRXZlbnRCdXMuJG9mZignZ2V0R3JvdXBNb3ZlVmFsdWUnLCB0aGlzLmdldEdyb3VwTW92ZVZhbHVlKTsKICAgIEV2ZW50QnVzLiRvZmYoJ3N0YXJ0R3JvdXBNb3ZlQ29udHJvbCcsIHRoaXMuc3RhcnRHcm91cE1vdmVDb250cm9sKTsKICAgIEV2ZW50QnVzLiRvZmYoJ21vdmVHcm91cENvbnRyb2wnLCB0aGlzLm1vdmVHcm91cENvbnRyb2wpOwogICAgRXZlbnRCdXMuJG9mZignZW5kR3JvdXBNb3ZlQ29udHJvbCcsIHRoaXMuZW5kR3JvdXBNb3ZlQ29udHJvbCk7CiAgICBFdmVudEJ1cy4kb2ZmKCdnZXRDbGllbnRWYWx1ZScsIHRoaXMuZ2V0Q2xpZW50VmFsdWUpOwogICAgRXZlbnRCdXMuJG9mZigndXBkYXN0ZUdyb3VwU2l6ZScsIHRoaXMudXBkYXN0ZUdyb3VwU2l6ZSk7CiAgICBFdmVudEJ1cy4kb24oJ2dldEdyb3VwU2l6ZScsIHRoaXMuZ2V0R3JvdXBTaXplKTsKICB9CgogIHVwZGFzdGVHcm91cFNpemUocHJvcE5hbWUsIHByb3BlcnR5VmFsdWUsIGdyb3VwSW5kZXgpIHsKICAgIGlmICh0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF0gPT09IHRoaXMuY29udGFpbmVySWQpIHsKICAgICAgaWYgKHByb3BOYW1lID09PSAnR3JvdXBJRCcpIHsKICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbZ3JvdXBJbmRleF0ubGVmdCA9IGAke01hdGgudHJ1bmMocGFyc2VJbnQodGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdLmxlZnQpKX1weGA7CiAgICAgICAgdGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdLmhlaWdodCA9IGAke01hdGgudHJ1bmMocGFyc2VJbnQodGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdLmhlaWdodCkpfXB4YDsKICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbZ3JvdXBJbmRleF0udG9wID0gYCR7TWF0aC50cnVuYyhwYXJzZUludCh0aGlzLmRpdlN0eWxlQXJyYXlbZ3JvdXBJbmRleF0udG9wKSl9cHhgOwogICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS53aWR0aCA9IGAke01hdGgudHJ1bmMocGFyc2VJbnQodGhpcy5kaXZTdHlsZUFycmF5W2dyb3VwSW5kZXhdLndpZHRoKSl9cHhgOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ3JvdXBTdHlsZSh0aGlzLmRpdlN0eWxlQXJyYXlbZ3JvdXBJbmRleF0uZ3JvdXBOYW1lKTsKICAgICAgICB0aGlzLnVwZGF0ZWRWYWx1ZShncm91cEluZGV4LCBwcm9wTmFtZSwgcHJvcGVydHlWYWx1ZSk7CiAgICAgICAgdGhpcy5ncm91cFN0eWxlKHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XS5ncm91cE5hbWUpOwogICAgICB9CiAgICB9CiAgfQoKICB1cGRhdGVkVmFsdWUoZ3JvdXBJbmRleCwgcHJvcE5hbWUsIGRpZmYpIHsKICAgIGZvciAoY29uc3QgaiBpbiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udGFpbmVySWRdLmNvbnRyb2xzKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9sc1tqXTsKICAgICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2luZGV4XS5wcm9wZXJ0aWVzOwogICAgICBjb25zdCBkaXZTdHlsZSA9IHRoaXMuZGl2U3R5bGVBcnJheVtncm91cEluZGV4XTsKCiAgICAgIGlmIChjb250cm9sUHJvcC5Hcm91cElEICYmIGNvbnRyb2xQcm9wLkdyb3VwSUQgPT09IGRpdlN0eWxlLmdyb3VwTmFtZSkgewogICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ0xlZnQnKSB7CiAgICAgICAgICBsZXQgbGVmdCA9IGRpZmYgKyB0aGlzLmxlZnRBcnJheVtqXTsKICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbihwcm9wTmFtZSwgbGVmdCwgaW5kZXgpOwogICAgICAgIH0gZWxzZSBpZiAocHJvcE5hbWUgPT09ICdUb3AnKSB7CiAgICAgICAgICBsZXQgdG9wID0gZGlmZiArIHRoaXMudG9wQXJyYXlbal07CiAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24ocHJvcE5hbWUsIHRvcCwgaW5kZXgpOwogICAgICAgIH0gZWxzZSBpZiAocHJvcE5hbWUgPT09ICdXaWR0aCcpIHsKICAgICAgICAgIGxldCBsZWZ0ID0gZGlmZiAqIHRoaXMubGVmdEFycmF5W2pdIC8gcGFyc2VJbnQoZGl2U3R5bGUud2lkdGgpICsgcGFyc2VJbnQoZGl2U3R5bGUubGVmdCk7CiAgICAgICAgICBsZXQgd2lkdGggPSBkaWZmICogdGhpcy5wZXJjd2lkdGhBcnJheVtqXTsKICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQsIGluZGV4KTsKICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbihwcm9wTmFtZSwgd2lkdGgsIGluZGV4KTsKICAgICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09PSAnSGVpZ2h0JykgewogICAgICAgICAgbGV0IHRvcCA9IGRpZmYgKiB0aGlzLnRvcEFycmF5W2pdIC8gcGFyc2VJbnQoZGl2U3R5bGUuaGVpZ2h0KSArIHBhcnNlSW50KGRpdlN0eWxlLnRvcCk7CiAgICAgICAgICBsZXQgaGVpZ2h0ID0gZGlmZiAqIHRoaXMucGVyY2hlaWdodEFycmF5W2pdOwogICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdUb3AnLCB0b3AsIGluZGV4KTsKICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbihwcm9wTmFtZSwgaGVpZ2h0LCBpbmRleCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBnZXRDbGllbnRWYWx1ZSh2YWx1ZSwgY29udGFpbmVyWCwgY29udGFpbmVyWSwgZXZlbnQsIGNvbnRhaW5lciwgcHJldmlvdXNFdmVudCkgewogICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CgogICAgaWYgKGNvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJJZCkgewogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRYID0gcHJldmlvdXNFdmVudC5jbGllbnRYOwogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRZID0gcHJldmlvdXNFdmVudC5jbGllbnRZOwogICAgICB0aGlzLnBvc2l0aW9ucy5vZmZzZXRYID0gcHJldmlvdXNFdmVudC5vZmZzZXRYOwogICAgICB0aGlzLnBvc2l0aW9ucy5vZmZzZXRZID0gcHJldmlvdXNFdmVudC5vZmZzZXRZOwogICAgICB0aGlzLmVsZW1lbnRNb3VzZURyYWcoZXZlbnQsIGNvbnRhaW5lclgsIGNvbnRhaW5lclksIHByZXZpb3VzRXZlbnQpOwogICAgfQogIH0KCiAgZ2V0R3JvdXBNb3ZlVmFsdWUoY2FsbEJhY2spIHsKICAgIGNhbGxCYWNrKHRoaXMucG9zaXRpb25zLm9mZnNldFgsIHRoaXMucG9zaXRpb25zLm9mZnNldFksIHRoaXMuY29udHJvbCwgdGhpcy50ZW1wRXZlbnQpOwogIH0KCiAgZ2V0R3JvdXBTaXplKGNhbGxCYWNrKSB7CiAgICBpZiAodGhpcy5jb250YWluZXJJZCA9PT0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyWzBdKSB7CiAgICAgIGNhbGxCYWNrKHRoaXMuZGl2U3R5bGVBcnJheSk7CiAgICB9CiAgfQoKICBlbmRHcm91cE1vdmVDb250cm9sKCkgewogICAgLy8gaWYgKHRoaXMuZ2V0SXNNb3ZlVGFyZ2V0KSB7CiAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSAwOwogICAgdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZID0gMDsgLy8gdGhpcy5pc01vdmUgPSBmYWxzZQogICAgLy8gfQogIH0KCiAgZ2V0IGdldElzTW92ZVRhcmdldCgpIHsKICAgIGNvbnN0IGlzR3JvdXBQcnNlbnQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5maW5kSW5kZXgodmFsID0+IHsKICAgICAgdmFsLnN0YXJ0c1dpdGgoJ2dyb3VwJyk7CiAgICB9KTsKICAgIHJldHVybiBpc0dyb3VwUHJzZW50ID09PSAtMTsKICB9CgogIHN0YXJ0R3JvdXBNb3ZlQ29udHJvbChldmVudCkgewogICAgaWYgKHRoaXMuZ2V0SXNNb3ZlVGFyZ2V0KSB7CiAgICAgIHRoaXMucG9zaXRpb25zLmNsaWVudFggPSBldmVudC5jbGllbnRYOwogICAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRZID0gZXZlbnQuY2xpZW50WTsKICAgIH0KICB9CgogIG1vdmVHcm91cENvbnRyb2woZXZlbnQpIHsKICAgIGlmICh0aGlzLmdldElzTW92ZVRhcmdldCkgewogICAgICAvLyAgIHRoaXMubW92ZUJvcmRlcihldmVudCkKICAgICAgaWYgKGV2ZW50Lm1vdmVtZW50WCAhPT0gMCAmJiBldmVudC5tb3ZlbWVudFkgIT09IDApIHsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZ3JvdXBEcmFnJywgJ2dyb3VwZHJhZycpOwogICAgICAgIHRoaXMuaXNNb3ZlID0gdHJ1ZTsgLy8gdGhpcy51cGRhdGVJc01vdmUodHJ1ZSkKICAgICAgfQogICAgfQogIH0KCiAgdXBkYXRlQ29udHJvbEFjdGlvbihwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUsIGNvbnRyb2xJZCkgewogICAgdGhpcy51cGRhdGVDb250cm9sKHsKICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICBjb250cm9sSWQ6IGNvbnRyb2xJZCwKICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsCiAgICAgIHZhbHVlOiBwcm9wZXJ0eVZhbHVlCiAgICB9KTsKICB9CgogIGhhbmRsZXJTdHlsZShncm91cE5hbWUpIHsKICAgIGNvbnN0IGlzR3JvdXAgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZFswXTsKICAgIHJldHVybiB7CiAgICAgIGJhY2tncm91bmRDb2xvcjogaXNHcm91cCA9PT0gZ3JvdXBOYW1lID8gJ3doaXRlJyA6ICdibGFjaycsCiAgICAgIGJvcmRlckNvbG9yOiBpc0dyb3VwID09PSBncm91cE5hbWUgPyAnYmxhY2snIDogJ3doaXRlJwogICAgfTsKICB9CgogIGdyb3VwU3R5bGUoZ3JvdXBOYW1lKSB7CiAgICB0aGlzLmNvdW50ICs9IDE7CiAgICBsZXQgaW5kZXggPSB0aGlzLmRpdlN0eWxlQXJyYXkuZmluZEluZGV4KHAgPT4gcC5ncm91cE5hbWUgPT09IGdyb3VwTmFtZSk7CgogICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICB0aGlzLmRpdlN0eWxlQXJyYXkucHVzaCh7CiAgICAgICAgbGVmdDogJzBweCcsCiAgICAgICAgdG9wOiAnMHB4JywKICAgICAgICB3aWR0aDogJzBweCcsCiAgICAgICAgaGVpZ2h0OiAnMHB4JywKICAgICAgICBkaXNwbGF5OiAnbm9uZScsCiAgICAgICAgZ3JvdXBOYW1lOiBncm91cE5hbWUKICAgICAgfSk7CiAgICB9CgogICAgY29uc3Qgc3R5bGVMZWZ0ID0gW107CiAgICBjb25zdCBzdHlsZVdpZHRoID0gW107CiAgICBjb25zdCBzdHlsZVRvcCA9IFtdOwogICAgY29uc3Qgc3R5bGVIZWlnaHQgPSBbXTsKCiAgICBmb3IgKGNvbnN0IGNvbnRyb2wgb2YgdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scykgewogICAgICBpZiAodGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sXS5wcm9wZXJ0aWVzLkdyb3VwSUQgPT09IGdyb3VwTmFtZSkgewogICAgICAgIGNvbnN0IGNvbnRyb2xwcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sXS5wcm9wZXJ0aWVzOwogICAgICAgIHN0eWxlTGVmdC5wdXNoKGNvbnRyb2xwcm9wLkxlZnQpOwogICAgICAgIHN0eWxlVG9wLnB1c2goY29udHJvbHByb3AuVG9wKTsKICAgICAgICBzdHlsZVdpZHRoLnB1c2goY29udHJvbHByb3AuV2lkdGggKyBjb250cm9scHJvcC5MZWZ0KTsKICAgICAgICBzdHlsZUhlaWdodC5wdXNoKGNvbnRyb2xwcm9wLkhlaWdodCArIGNvbnRyb2xwcm9wLlRvcCk7CiAgICAgIH0KICAgIH0KCiAgICBpbmRleCA9IHRoaXMuZGl2U3R5bGVBcnJheS5maW5kSW5kZXgocCA9PiBwLmdyb3VwTmFtZSA9PT0gZ3JvdXBOYW1lKTsKICAgIHRoaXMuZGl2U3R5bGVBcnJheVtpbmRleF0ubGVmdCA9IGAke01hdGgubWluKC4uLnN0eWxlTGVmdCl9cHhgOwogICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS50b3AgPSBgJHtNYXRoLm1pbiguLi5zdHlsZVRvcCl9cHhgOwogICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS53aWR0aCA9IGAke01hdGgubWF4KC4uLnN0eWxlV2lkdGgpIC0gTWF0aC5taW4oLi4uc3R5bGVMZWZ0KX1weGA7CiAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLmhlaWdodCA9IGAke01hdGgubWF4KC4uLnN0eWxlSGVpZ2h0KSAtIE1hdGgubWluKC4uLnN0eWxlVG9wKX1weGA7CiAgICB0aGlzLnRvcEFycmF5ID0gW107CiAgICB0aGlzLmxlZnRBcnJheSA9IFtdOwogICAgdGhpcy5wZXJjd2lkdGhBcnJheSA9IFtdOwogICAgdGhpcy5wZXJjaGVpZ2h0QXJyYXkgPSBbXTsKCiAgICBmb3IgKGNvbnN0IGNvbnRyb2wgb2YgdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scykgewogICAgICBjb25zdCBjb250cm9sUHJvcCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udHJvbF0ucHJvcGVydGllczsKCiAgICAgIGlmICh0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xdLnR5cGUgIT09ICdVc2Vmb3JtJykgewogICAgICAgIGlmIChjb250cm9sUHJvcC5Hcm91cElEICE9PSAnJykgewogICAgICAgICAgZm9yIChjb25zdCBkaXZTdHlsZSBvZiB0aGlzLmRpdlN0eWxlQXJyYXkpIHsKICAgICAgICAgICAgaWYgKGNvbnRyb2xQcm9wLkdyb3VwSUQgPT09IGRpdlN0eWxlLmdyb3VwTmFtZSkgewogICAgICAgICAgICAgIHRoaXMudG9wQXJyYXkucHVzaChjb250cm9sUHJvcC5Ub3AgLSBwYXJzZUludChkaXZTdHlsZS50b3ApKTsKICAgICAgICAgICAgICB0aGlzLmxlZnRBcnJheS5wdXNoKGNvbnRyb2xQcm9wLkxlZnQgLSBwYXJzZUludChkaXZTdHlsZS5sZWZ0KSk7CiAgICAgICAgICAgICAgdGhpcy5wZXJjaGVpZ2h0QXJyYXkucHVzaChjb250cm9sUHJvcC5IZWlnaHQgLyBwYXJzZUludChkaXZTdHlsZS5oZWlnaHQpKTsKICAgICAgICAgICAgICB0aGlzLnBlcmN3aWR0aEFycmF5LnB1c2goY29udHJvbFByb3AuV2lkdGggLyBwYXJzZUludChkaXZTdHlsZS53aWR0aCkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudG9wQXJyYXkucHVzaChjb250cm9sUHJvcC5Ub3ApOwogICAgICAgICAgdGhpcy5sZWZ0QXJyYXkucHVzaChjb250cm9sUHJvcC5MZWZ0KTsKICAgICAgICAgIHRoaXMucGVyY2hlaWdodEFycmF5LnB1c2goY29udHJvbFByb3AuSGVpZ2h0KTsKICAgICAgICAgIHRoaXMucGVyY3dpZHRoQXJyYXkucHVzaChjb250cm9sUHJvcC5XaWR0aCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5pbml0aWFsQXJyYXkgPSBbXTsKCiAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuZGl2U3R5bGVBcnJheS5sZW5ndGg7IGsrKykgewogICAgICB0aGlzLmluaXRpYWxBcnJheS5wdXNoKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGl2U3R5bGVBcnJheVtrXSkpOwogICAgfQogIH0KCiAgZGVBY3RHcm91cENvbnRyb2woKSB7CiAgICBjb25zdCBzZWxDb250cm9sID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQ7CgogICAgaWYgKHRoaXMuY3VycmVudFNlbGVjdGVkR3JvdXAubGVuZ3RoID09PSAxICYmIHNlbENvbnRyb2wubGVuZ3RoID09PSAxICYmICFzZWxDb250cm9sWzBdLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsKICAgICAgY29uc3QgY29udHJvbElkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRbMF07CgogICAgICBpZiAodGhpcy5jdXJyZW50U2VsZWN0ZWRHcm91cFswXSA9PT0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sSWRdLnByb3BlcnRpZXMuR3JvdXBJRCkgewogICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgICAgICBzZWxlY3Q6IHsKICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmdldENvbnRhaW5lckxpc3QodGhpcy5jdXJyZW50U2VsZWN0ZWRHcm91cFswXSksCiAgICAgICAgICAgIHNlbGVjdGVkOiBbdGhpcy5jdXJyZW50U2VsZWN0ZWRHcm91cFswXV0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KCiAgaGFuZGxlTW91c2VEb3duKGV2ZW50LCBoYW5kbGVyKSB7CiAgICB0aGlzLnRlbXBFdmVudCA9IGV2ZW50OwogICAgRXZlbnRCdXMuJGVtaXQoJ2dyb3VwRHJhZycsICdOb3REcmFnJyk7CiAgICB0aGlzLmlzTW92ZSA9IGZhbHNlOwogICAgdGhpcy5kZUFjdEdyb3VwQ29udHJvbCgpOwogICAgdGhpcy5yZXNpemVEaXYgPSBoYW5kbGVyOwogICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WCA9IGV2ZW50LmNsaWVudFg7CiAgICB0aGlzLnBvc2l0aW9ucy5jbGllbnRZID0gZXZlbnQuY2xpZW50WTsKICAgIHRoaXMuY3VycmVudE1vdXNlRG93bkV2ZW50ID0gZXZlbnQ7CgogICAgaWYgKGhhbmRsZXIgIT09ICdkcmFnJykgewogICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IHRoaXMuZWxlbWVudERyYWc7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnBvc2l0aW9ucy5vZmZzZXRYID0gZXZlbnQub2Zmc2V0WDsKICAgICAgdGhpcy5wb3NpdGlvbnMub2Zmc2V0WSA9IGV2ZW50Lm9mZnNldFk7CiAgICAgIHRoaXMuaXNNYWluU2VsZWN0ID0gdHJ1ZTsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ3N0YXJ0R3JvdXBNb3ZlQ29udHJvbCcsIGV2ZW50KTsKCiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZXZlbnQgPT4gewogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdtb3ZlR3JvdXBDb250cm9sJywgZXZlbnQpOwogICAgICB9OwogICAgfQoKICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGV2ZW50ID0+IHsKICAgICAgdGhpcy5jbG9zZURyYWdFbGVtZW50KGV2ZW50LCBoYW5kbGVyKTsKICAgIH07CiAgfQoKICBlbGVtZW50TW91c2VEcmFnKGV2ZW50LCBjb250YWluZXJYLCBjb250YWluZXJZLCBwcmV2aW91c0V2ZW50KSB7CiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgIGlmICh0aGlzLmNvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJJZCkgewogICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQpIHsKICAgICAgICBpZiAoaS5zdGFydHNXaXRoKCdncm91cCcpKSB7CiAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGl2U3R5bGVBcnJheS5maW5kSW5kZXgodmFsID0+IHZhbC5ncm91cE5hbWUgPT09IGkpOwogICAgICAgICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIHRoaXMuZ3JvdXBTdHlsZSh0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLmdyb3VwTmFtZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnJlc2l6ZURpdiA9ICdkcmFnJzsKICAgICAgbGV0IHRhcmdldExlZnQgPSAtMTsKICAgICAgbGV0IHRhcmdldFRvcCA9IC0xOwogICAgICBjb25zdCBtYWluID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRbMF07CiAgICAgIGNvbnN0IGlzR3JvdXAgPSBtYWluLnN0YXJ0c1dpdGgoJ2dyb3VwJykgPyB0aGlzLmRpdlN0eWxlQXJyYXkuZmluZEluZGV4KHZhbCA9PiB2YWwuZ3JvdXBOYW1lID09PSBtYWluKSA6IC0xOwoKICAgICAgaWYgKGlzR3JvdXAgPT09IC0xKSB7CiAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bbWFpbl0ucHJvcGVydGllczsKICAgICAgICB0YXJnZXRMZWZ0ID0gdGFyZ2V0RGF0YS5MZWZ0OwogICAgICAgIHRhcmdldFRvcCA9IHRhcmdldERhdGEuVG9wOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSB0aGlzLmRpdlN0eWxlQXJyYXlbaXNHcm91cF07CiAgICAgICAgdGFyZ2V0TGVmdCA9IHBhcnNlSW50KHRhcmdldERhdGEubGVmdCk7CiAgICAgICAgdGFyZ2V0VG9wID0gcGFyc2VJbnQodGFyZ2V0RGF0YS50b3ApOwogICAgICB9CgogICAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSB0YXJnZXRMZWZ0IC0gKGNvbnRhaW5lclggLSB0aGlzLnBvc2l0aW9ucy5vZmZzZXRYKTsKICAgICAgdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRZID0gdGFyZ2V0VG9wIC0gKGNvbnRhaW5lclkgLSB0aGlzLnBvc2l0aW9ucy5vZmZzZXRZKTsKICAgICAgY29uc3Qgc2NhbGUgPSAxOwogICAgICBjb25zdCBncmlkID0gWzEwLCAxMF07CiAgICAgIGNvbnN0IHggPSBNYXRoLnJvdW5kKHRoaXMucG9zaXRpb25zLm1vdmVtZW50WCAvIHNjYWxlIC8gZ3JpZFswXSkgKiBncmlkWzBdOwogICAgICBjb25zdCB5ID0gTWF0aC5yb3VuZCh0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFkgLyBzY2FsZSAvIGdyaWRbMV0pICogZ3JpZFsxXTsKCiAgICAgIGlmICh0aGlzLmN1cnJlbnRNb3VzZURvd25FdmVudCAmJiAoeCAhPT0gMCB8fCB5ICE9PSAwKSkgewogICAgICAgIHRoaXMuY3VycmVudE1vdXNlRG93bkV2ZW50LmN1c3RvbUNhbGxCYWNrICYmIHRoaXMuY3VycmVudE1vdXNlRG93bkV2ZW50LmN1c3RvbUNhbGxCYWNrKCk7CiAgICAgIH0KCiAgICAgIGxldCBkcmFnUmVzaXplQ29udHJvbCA9IHt9OwogICAgICBsZXQgZHJhZ1Jlc2l6ZUNvbnRyb2wxID0gewogICAgICAgIElEOiAnJwogICAgICB9OwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRpdlN0eWxlQXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmdyb3VwTmFtZSA9IHRoaXMuZGl2U3R5bGVBcnJheVtpXS5ncm91cE5hbWU7CiAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wgPSB0aGlzLmRpdlN0eWxlQXJyYXlbaV07CgogICAgICAgIGlmIChkcmFnUmVzaXplQ29udHJvbC5kaXNwbGF5ID09PSAnYmxvY2snKSB7CiAgICAgICAgICBsZXQgdG9wID0gLTE7CiAgICAgICAgICBsZXQgbGVmdCA9IC0xOwogICAgICAgICAgbGV0IGRlY0hlaWdodCA9IC0xOwogICAgICAgICAgdG9wID0gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wudG9wKSAtIHk7CiAgICAgICAgICBsZWZ0ID0gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wubGVmdCkgLSB4OwoKICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdiA9PT0gJ2RyYWcnKSB7CiAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLnRvcCA9IGAke3RvcH1weGA7CiAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLmxlZnQgPSBgJHtsZWZ0fXB4YDsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKGNvbnN0IGogaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scykgewogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250YWluZXJJZF0uY29udHJvbHNbal07CiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtpbmRleF0ucHJvcGVydGllczsKCiAgICAgICAgICAgIGlmIChjb250cm9sUHJvcC5Hcm91cElEID09PSB0aGlzLmRpdlN0eWxlQXJyYXlbaV0uZ3JvdXBOYW1lICYmIHRoaXMuZGl2U3R5bGVBcnJheVtpXS5kaXNwbGF5ID09PSAnYmxvY2snKSB7CiAgICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wxID0gY29udHJvbFByb3A7CgogICAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdiA9PT0gJ2RyYWcnKSB7CiAgICAgICAgICAgICAgICB0b3AgPSBkcmFnUmVzaXplQ29udHJvbDEuVG9wIC0geTsKICAgICAgICAgICAgICAgIGxlZnQgPSBkcmFnUmVzaXplQ29udHJvbDEuTGVmdCAtIHg7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCwgaW5kZXgpOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdMZWZ0JywgbGVmdCwgaW5kZXgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZm9yIChsZXQgayBvZiB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZCkgewogICAgICAgIGlmICghay5zdGFydHNXaXRoKCdJRF9VU0VSRk9STScpICYmICFrLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsKICAgICAgICAgIGxldCBkcmFnUmVzaXplUmVmZmVyID0ge307CiAgICAgICAgICBjb25zdCBjb250cm9sID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrXS5wcm9wZXJ0aWVzOwoKICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29udHJvbFJlZi5yZXNpemVDb250cm9sKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xSZWYucmVzaXplQ29udHJvbFtrZXldLiRyZWZzWydkcmFSZWYnLmNvbmNhdChjb250cm9sLklEKV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGRyYWdSZXNpemVSZWZmZXIgPSB0aGlzLmNvbnRyb2xSZWYucmVzaXplQ29udHJvbFtrZXldLiRyZWZzWydkcmFSZWYnLmNvbmNhdChjb250cm9sLklEKV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCB0b3AgPSBjb250cm9sLlRvcCAtIHk7CiAgICAgICAgICBjb25zdCBsZWZ0ID0gY29udHJvbC5MZWZ0IC0geDsKCiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYgPT09ICdkcmFnJykgewogICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCwgayk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQsIGspOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZWxlbWVudERyYWcoZXZlbnQpIHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFggPSB0aGlzLnBvc2l0aW9ucy5jbGllbnRYIC0gZXZlbnQuY2xpZW50WDsKICAgIHRoaXMucG9zaXRpb25zLm1vdmVtZW50WSA9IHRoaXMucG9zaXRpb25zLmNsaWVudFkgLSBldmVudC5jbGllbnRZOwogICAgY29uc3Qgc2NhbGUgPSAxOwogICAgY29uc3QgZ3JpZCA9IFsxMCwgMTBdOwogICAgY29uc3QgeCA9IE1hdGgucm91bmQodGhpcy5wb3NpdGlvbnMubW92ZW1lbnRYIC8gc2NhbGUgLyBncmlkWzBdKSAqIGdyaWRbMF07CiAgICBjb25zdCB5ID0gTWF0aC5yb3VuZCh0aGlzLnBvc2l0aW9ucy5tb3ZlbWVudFkgLyBzY2FsZSAvIGdyaWRbMV0pICogZ3JpZFsxXTsKCiAgICBpZiAodGhpcy5jdXJyZW50TW91c2VEb3duRXZlbnQgJiYgKHggIT09IDAgfHwgeSAhPT0gMCkpIHsKICAgICAgdGhpcy5jdXJyZW50TW91c2VEb3duRXZlbnQuY3VzdG9tQ2FsbEJhY2sgJiYgdGhpcy5jdXJyZW50TW91c2VEb3duRXZlbnQuY3VzdG9tQ2FsbEJhY2soKTsKICAgIH0KCiAgICBjb25zdCBkaWZmR3JpZFggPSB4IC0gdGhpcy5wb3NpdGlvbnMubW92ZW1lbnRYOwogICAgY29uc3QgZGlmZkdyaWRZID0geSAtIHRoaXMucG9zaXRpb25zLm1vdmVtZW50WTsKICAgIHRoaXMucG9zaXRpb25zLmNsaWVudFggPSBldmVudC5jbGllbnRYIC0gZGlmZkdyaWRYOwogICAgdGhpcy5wb3NpdGlvbnMuY2xpZW50WSA9IGV2ZW50LmNsaWVudFkgLSBkaWZmR3JpZFk7CiAgICBsZXQgZHJhZ1Jlc2l6ZUNvbnRyb2wgPSB7fTsKICAgIGxldCBkcmFnUmVzaXplQ29udHJvbDEgPSB7CiAgICAgIElEOiAnJwogICAgfTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGl2U3R5bGVBcnJheS5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmdyb3VwTmFtZSA9IHRoaXMuZGl2U3R5bGVBcnJheVtpXS5ncm91cE5hbWU7CiAgICAgIGRyYWdSZXNpemVDb250cm9sID0gdGhpcy5kaXZTdHlsZUFycmF5W2ldOwoKICAgICAgaWYgKGRyYWdSZXNpemVDb250cm9sLmRpc3BsYXkgPT09ICdibG9jaycpIHsKICAgICAgICBsZXQgdG9wID0gLTE7CiAgICAgICAgbGV0IGxlZnQgPSAtMTsKICAgICAgICBsZXQgaW5jV2lkdGggPSAtMTsKICAgICAgICBsZXQgaW5jSGVpZ2h0ID0gLTE7CiAgICAgICAgbGV0IGRlY1dpZHRoID0gLTE7CiAgICAgICAgbGV0IGRlY0hlaWdodCA9IC0xOwogICAgICAgIHRvcCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLnRvcCkgLSB5OwogICAgICAgIGxlZnQgPSBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC5sZWZ0KSAtIHg7CiAgICAgICAgaW5jV2lkdGggPSBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC53aWR0aCkgKyB4ID4gMCA/IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLndpZHRoKSArIHggOiAwOwogICAgICAgIGluY0hlaWdodCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLmhlaWdodCkgKyB5ID4gMCA/IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLmhlaWdodCkgKyB5IDogMDsKICAgICAgICBkZWNXaWR0aCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLndpZHRoKSAtIHggPiAwID8gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wud2lkdGgpIC0geCA6IDA7CiAgICAgICAgZGVjSGVpZ2h0ID0gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0KSAtIHkgPiAwID8gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0KSAtIHkgOiAwOwoKICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYgPT09ICdkcmFnJykgewogICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wudG9wID0gYCR7dG9wfXB4YDsKICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLmxlZnQgPSBgJHtsZWZ0fXB4YDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCd0JykpIHsKICAgICAgICAgICAgaWYgKGluY0hlaWdodCA+IDApIHsKICAgICAgICAgICAgICBkcmFnUmVzaXplQ29udHJvbC50b3AgPSBgJHt0b3B9cHhgOwogICAgICAgICAgICB9CgogICAgICAgICAgICBkcmFnUmVzaXplQ29udHJvbC5oZWlnaHQgPSBgJHtpbmNIZWlnaHR9cHhgOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygnYicpKSB7CiAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLmhlaWdodCA9IGAke2RlY0hlaWdodH1weGA7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCdsJykpIHsKICAgICAgICAgICAgaWYgKGluY1dpZHRoID4gMCkgewogICAgICAgICAgICAgIGRyYWdSZXNpemVDb250cm9sLmxlZnQgPSBgJHtsZWZ0fXB4YDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wud2lkdGggPSBgJHtpbmNXaWR0aH1weGA7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCdyJykpIHsKICAgICAgICAgICAgZHJhZ1Jlc2l6ZUNvbnRyb2wud2lkdGggPSBgJHtkZWNXaWR0aH1weGA7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKGNvbnN0IGogaW4gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRhaW5lcklkXS5jb250cm9scykgewogICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udGFpbmVySWRdLmNvbnRyb2xzW2pdOwogICAgICAgICAgY29uc3QgY29udHJvbFByb3AgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2luZGV4XS5wcm9wZXJ0aWVzOwogICAgICAgICAgbGV0IHRvcCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLmhlaWdodCkgKiB0aGlzLnRvcEFycmF5W2pdIC8gcGFyc2VJbnQodGhpcy5pbml0aWFsQXJyYXlbaV0uaGVpZ2h0KSArIHBhcnNlSW50KHRoaXMuaW5pdGlhbEFycmF5W2ldLnRvcCk7CiAgICAgICAgICBsZXQgaGVpZ2h0ID0gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0KSAqIHRoaXMucGVyY2hlaWdodEFycmF5W2pdOwogICAgICAgICAgbGV0IGxlZnQgPSBwYXJzZUludChkcmFnUmVzaXplQ29udHJvbC53aWR0aCkgKiB0aGlzLmxlZnRBcnJheVtqXSAvIHBhcnNlSW50KHRoaXMuaW5pdGlhbEFycmF5W2ldLndpZHRoKSArIHBhcnNlSW50KHRoaXMuaW5pdGlhbEFycmF5W2ldLmxlZnQpOwogICAgICAgICAgbGV0IHdpZHRoID0gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wud2lkdGgpICogdGhpcy5wZXJjd2lkdGhBcnJheVtqXTsKICAgICAgICAgIGxldCByaWdodCA9IHBhcnNlSW50KGRyYWdSZXNpemVDb250cm9sLndpZHRoKSAqIHRoaXMubGVmdEFycmF5W2pdIC8gcGFyc2VJbnQodGhpcy5pbml0aWFsQXJyYXlbaV0ud2lkdGgpICsgcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wubGVmdCk7CiAgICAgICAgICBsZXQgYm90dG9tID0gcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wuaGVpZ2h0KSAqIHRoaXMudG9wQXJyYXlbal0gLyBwYXJzZUludCh0aGlzLmluaXRpYWxBcnJheVtpXS5oZWlnaHQpICsgcGFyc2VJbnQoZHJhZ1Jlc2l6ZUNvbnRyb2wudG9wKTsKCiAgICAgICAgICBpZiAoY29udHJvbFByb3AuR3JvdXBJRCA9PT0gdGhpcy5kaXZTdHlsZUFycmF5W2ldLmdyb3VwTmFtZSAmJiB0aGlzLmRpdlN0eWxlQXJyYXlbaV0uZGlzcGxheSA9PT0gJ2Jsb2NrJykgewogICAgICAgICAgICBkcmFnUmVzaXplQ29udHJvbDEgPSBjb250cm9sUHJvcDsKCiAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdiA9PT0gJ2RyYWcnKSB7CiAgICAgICAgICAgICAgdG9wID0gZHJhZ1Jlc2l6ZUNvbnRyb2wxLlRvcCAtIHk7CiAgICAgICAgICAgICAgbGVmdCA9IGRyYWdSZXNpemVDb250cm9sMS5MZWZ0IC0geDsKICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCwgaW5kZXgpOwogICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQsIGluZGV4KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ3QnKSkgewogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdUb3AnLCBib3R0b20sIGluZGV4KTsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignSGVpZ2h0JywgaGVpZ2h0LCBpbmRleCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygnYicpKSB7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1RvcCcsIHRvcCwgaW5kZXgpOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdIZWlnaHQnLCBoZWlnaHQsIGluZGV4KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygnbCcpKSB7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ0xlZnQnLCByaWdodCwgaW5kZXgpOwogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdXaWR0aCcsIHdpZHRoLCBpbmRleCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygncicpKSB7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ0xlZnQnLCBsZWZ0LCBpbmRleCk7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRyb2xBY3Rpb24oJ1dpZHRoJywgd2lkdGgsIGluZGV4KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmb3IgKGxldCBrIG9mIHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkKSB7CiAgICAgIGlmICghay5zdGFydHNXaXRoKCdJRF9VU0VSRk9STScpICYmICFrLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsKICAgICAgICBsZXQgZHJhZ1Jlc2l6ZVJlZmZlciA9IHt9OwogICAgICAgIGNvbnN0IGNvbnRyb2wgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2tdLnByb3BlcnRpZXM7CgogICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY29udHJvbFJlZi5yZXNpemVDb250cm9sKSB7CiAgICAgICAgICBpZiAodGhpcy5jb250cm9sUmVmLnJlc2l6ZUNvbnRyb2xba2V5XS4kcmVmc1snZHJhUmVmJy5jb25jYXQoY29udHJvbC5JRCldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZHJhZ1Jlc2l6ZVJlZmZlciA9IHRoaXMuY29udHJvbFJlZi5yZXNpemVDb250cm9sW2tleV0uJHJlZnNbJ2RyYVJlZicuY29uY2F0KGNvbnRyb2wuSUQpXTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbnN0IHRvcCA9IGRyYWdSZXNpemVSZWZmZXIub2Zmc2V0VG9wIC0geTsKICAgICAgICBjb25zdCBsZWZ0ID0gZHJhZ1Jlc2l6ZVJlZmZlci5vZmZzZXRMZWZ0IC0geDsKICAgICAgICBjb25zdCBpbmNXaWR0aCA9IGNvbnRyb2wuV2lkdGggKyB4ID4gMCA/IGNvbnRyb2wuV2lkdGggKyB4IDogMDsKICAgICAgICBjb25zdCBpbmNIZWlnaHQgPSBjb250cm9sLkhlaWdodCArIHkgPiAwID8gY29udHJvbC5IZWlnaHQgKyB5IDogMDsKICAgICAgICBjb25zdCBkZWNXaWR0aCA9IGNvbnRyb2wuV2lkdGggLSB4ID4gMCA/IGNvbnRyb2wuV2lkdGggLSB4IDogMDsKICAgICAgICBjb25zdCBkZWNIZWlnaHQgPSBjb250cm9sLkhlaWdodCAtIHkgPiAwID8gY29udHJvbC5IZWlnaHQgLSB5IDogMDsKCiAgICAgICAgaWYgKHRoaXMucmVzaXplRGl2ID09PSAnZHJhZycpIHsKICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignVG9wJywgdG9wLCBrKTsKICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignTGVmdCcsIGxlZnQsIGspOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ3QnKSkgewogICAgICAgICAgICBpZiAoaW5jSGVpZ2h0ID4gMCkgewogICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignVG9wJywgdG9wLCBrKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdIZWlnaHQnLCBpbmNIZWlnaHQsIGspOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc2l6ZURpdi5pbmNsdWRlcygnYicpKSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignSGVpZ2h0JywgZGVjSGVpZ2h0LCBrKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5yZXNpemVEaXYuaW5jbHVkZXMoJ2wnKSkgewogICAgICAgICAgICBpZiAoaW5jV2lkdGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdMZWZ0JywgbGVmdCwgayk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbEFjdGlvbignV2lkdGgnLCBpbmNXaWR0aCwgayk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVzaXplRGl2LmluY2x1ZGVzKCdyJykpIHsKICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sQWN0aW9uKCdXaWR0aCcsIGRlY1dpZHRoLCBrKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIG9wZW5Db250ZXh0TWVudShlLCBwYXJlbnRJRCwgY29udHJvbElELCB0eXBlKSB7CiAgICB0aGlzLiRlbWl0KCdvcGVuTWVudScsIGUsIHBhcmVudElELCBjb250cm9sSUQsIHR5cGUpOwogIH0KCiAgb3Blbk1lbnUoZXZlbnQsIHR5cGUpIHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLmNvbnRhaW5lclswXTsKICAgIGxldCBjb250cm9sSWQgPSBjb250YWluZXI7CgogICAgaWYgKHR5cGUgPT09ICdjb250cm9sJykgewogICAgICBjb250cm9sSWQgPSB0aGlzLmdldFNlbGVjdGVkQ29udHJvbHNEYXRhc1swXTsKICAgIH0KCiAgICB0aGlzLm9wZW5Db250ZXh0TWVudShldmVudCwgY29udGFpbmVyLCBjb250cm9sSWQsIHR5cGUpOwogIH0KCiAgY2xvc2VEcmFnRWxlbWVudChldmVudCwgaGFuZGxlcikgewogICAgaWYgKHRoaXMudmFsdWUgPT09ICdzYW1lJykgewogICAgICB0aGlzLmVsZW1lbnREcmFnKGV2ZW50KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudmFsdWUgPSAnZGlmZmVyZW50JzsKICAgIH0KCiAgICBFdmVudEJ1cy4kZW1pdCgnZ3JvdXBEcmFnJywgJ05vdERyYWcnKTsKICAgIEV2ZW50QnVzLiRlbWl0KCdlbmRHcm91cE1vdmVDb250cm9sJyk7CiAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBudWxsOwogICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsOwoKICAgIGlmIChoYW5kbGVyID09PSAnZHJhZycpIHsKICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZDsKCiAgICAgIGZvciAoY29uc3QgZ3JwbmFtZSBpbiBzZWxlY3RlZCkgewogICAgICAgIGlmIChzZWxlY3RlZFtncnBuYW1lXS5zdGFydHNXaXRoKCdncm91cCcpKSB7CiAgICAgICAgICB0aGlzLmdyb3VwU3R5bGUoc2VsZWN0ZWRbZ3JwbmFtZV0pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZvciAoY29uc3QgY29udHJvbEdyb3VwIGluIHRoaXMuZGl2U3R5bGVBcnJheSkgewogICAgICBjb25zdCBncm91cE5hbWUgPSB0aGlzLmRpdlN0eWxlQXJyYXlbY29udHJvbEdyb3VwXS5ncm91cE5hbWU7CgogICAgICBpZiAoZ3JvdXBOYW1lLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsKICAgICAgICB0aGlzLmdyb3VwU3R5bGUoZ3JvdXBOYW1lKTsKICAgICAgfQogICAgfQogIH0KCiAgZ2V0R3JvdXBFZGl0U3R5bGUoZ3JvdXBOYW1lKSB7CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkOwogICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkLmxlbmd0aCA9PT0gMSAmJiAhc2VsZWN0ZWRbMF0uc3RhcnRzV2l0aCgnZ3JvdXAnKSAmJiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkWzBdXS5wcm9wZXJ0aWVzLkdyb3VwSUQgPT09IGdyb3VwTmFtZTsKICAgIHJldHVybiBpc1NlbGVjdGVkID8gJ21haW5FZGl0RGl2JyA6ICdtYWluRGl2JzsKICB9CgogIGdldEdyb3VwU3R5bGUoZ3JvdXBOYW1lKSB7CiAgICByZXR1cm4gdGhpcy5kaXZTdHlsZUFycmF5W3RoaXMuZGl2U3R5bGVBcnJheS5maW5kSW5kZXgocCA9PiBwLmdyb3VwTmFtZSA9PT0gZ3JvdXBOYW1lKV07CiAgfQoKICB1cGRhdGVHcm91cFN0eWxlKCkgewogICAgY29uc3Qgc2VsZWN0ZWRDb250YWluZXIgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF07CgogICAgaWYgKHNlbGVjdGVkQ29udGFpbmVyICE9PSB0aGlzLmNvbnRhaW5lcklkICYmIHRoaXMuaXNNb3ZlKSB7CiAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQ7CgogICAgICBmb3IgKGNvbnN0IGdycG5hbWUgaW4gc2VsZWN0ZWQpIHsKICAgICAgICBpZiAoc2VsZWN0ZWRbZ3JwbmFtZV0uc3RhcnRzV2l0aCgnZ3JvdXAnKSkgewogICAgICAgICAgY29uc3QgZmluZ0dyb3VwSW5kZXggPSB0aGlzLmRpdlN0eWxlQXJyYXkuZmluZEluZGV4KHZhbCA9PiB2YWwuZ3JvdXBOYW1lID09PSBzZWxlY3RlZFtncnBuYW1lXSk7CiAgICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXkuc3BsaWNlKGZpbmdHcm91cEluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy5kaXZTdHlsZUFycmF5Lmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRDb250YWluZXIgPT09IHRoaXMuY29udGFpbmVySWQpIHsKICAgICAgZm9yIChjb25zdCBpbmRleCBpbiB0aGlzLmRpdlN0eWxlQXJyYXkpIHsKICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIH0KCiAgICAgIGNvbnN0IHNlbENvbnRyb2wgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZDsKCiAgICAgIGlmIChzZWxDb250cm9sLmxlbmd0aCA+PSAxKSB7CiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5nZXRTZWxlY3RlZENvbnRyb2xzRGF0YXMpIHsKICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0ucHJvcGVydGllcy5Hcm91cElEOwoKICAgICAgICAgIGlmIChncm91cElkKSB7CiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kaXZTdHlsZUFycmF5LmZpbmRJbmRleChwID0+IHAuZ3JvdXBOYW1lID09PSBncm91cElkKTsKICAgICAgICAgICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHNlbENvbnRyb2xbMF0uc3RhcnRzV2l0aCgnZ3JvdXAnKSB8fCAhc2VsQ29udHJvbFswXS5zdGFydHNXaXRoKCdncm91cCcpICYmIHNlbENvbnRyb2wuaW5jbHVkZXModGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtzZWxDb250cm9sWzBdXS5wcm9wZXJ0aWVzLkdyb3VwSUQpKSB7CiAgICAgICAgICBpZiAoc2VsQ29udHJvbFswXS5zdGFydHNXaXRoKCdncm91cCcpKSB7CiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5kaXZTdHlsZUFycmF5LmZpbmRJbmRleChwID0+IHAuZ3JvdXBOYW1lID09PSBzZWxDb250cm9sWzBdKTsKCiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgICAgICB0aGlzLmRpdlN0eWxlQXJyYXlbaW5kZXhdLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGl2U3R5bGVBcnJheS5maW5kSW5kZXgocCA9PiBwLmdyb3VwTmFtZSA9PT0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtzZWxDb250cm9sWzBdXS5wcm9wZXJ0aWVzLkdyb3VwSUQpOwoKICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgICAgIHRoaXMuZGl2U3R5bGVBcnJheVtpbmRleF0uZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gdGhpcy5kaXZTdHlsZUFycmF5KSB7CiAgICAgICAgdGhpcy5kaXZTdHlsZUFycmF5W2luZGV4XS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICB9CiAgfQoKfTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLmdyb3VwZWRDb250cm9scyldLCBHcm91cENvbnRyb2wucHJvdG90eXBlLCAiZ3JvdXBlZENvbnRyb2xzIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLnNlbGVjdGVkQ29udHJvbHMpXSwgR3JvdXBDb250cm9sLnByb3RvdHlwZSwgInNlbGVjdGVkQ29udHJvbHMiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQudXNlcmZvcm1EYXRhKV0sIEdyb3VwQ29udHJvbC5wcm90b3R5cGUsICJ1c2VyZm9ybURhdGEiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogQXJyYXkKfSldLCBHcm91cENvbnRyb2wucHJvdG90eXBlLCAiY3VycmVudFNlbGVjdGVkR3JvdXAiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogU3RyaW5nCn0pXSwgR3JvdXBDb250cm9sLnByb3RvdHlwZSwgInVzZXJGb3JtSWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogU3RyaW5nCn0pXSwgR3JvdXBDb250cm9sLnByb3RvdHlwZSwgImNvbnRhaW5lcklkIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEdyb3VwQ29udHJvbC5wcm90b3R5cGUsICJjb250cm9sUmVmIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvdXBkYXRlQ29udHJvbCcpXSwgR3JvdXBDb250cm9sLnByb3RvdHlwZSwgInVwZGF0ZUNvbnRyb2wiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC91cGRhdGVHcm91cCcpXSwgR3JvdXBDb250cm9sLnByb3RvdHlwZSwgInVwZGF0ZUdyb3VwIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvc2VsZWN0Q29udHJvbCcpXSwgR3JvdXBDb250cm9sLnByb3RvdHlwZSwgInNlbGVjdENvbnRyb2wiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ3NlbGVjdGVkQ29udHJvbHMnLCB7CiAgZGVlcDogdHJ1ZQp9KV0sIEdyb3VwQ29udHJvbC5wcm90b3R5cGUsICJ1cGRhdGVHcm91cFN0eWxlIiwgbnVsbCk7CgpHcm91cENvbnRyb2wgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIG5hbWU6ICdHcm91cENvbnRyb2wnLAogIGNvbXBvbmVudHM6IHt9Cn0pXSwgR3JvdXBDb250cm9sKTsKZXhwb3J0IGRlZmF1bHQgR3JvdXBDb250cm9sOw=="},{"version":3,"sources":["/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDGroupControl/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch, Ref } from 'vue-property-decorator'\nimport {\n  IselectControl,\n  IupdateControl,\n  IupdateGroup\n} from '@/storeModules/fd/actions'\nimport { State, Action } from 'vuex-class'\nimport { EventBus } from '@/FormDesigner/event-bus'\nimport FDCommonMethod from '@/api/abstract/FormDesigner/FDCommonMethod'\n@Component({\n  name: 'GroupControl',\n  components: {}\n})\nexport default class GroupControl extends FDCommonMethod {\n  @State((state) => state.fd.groupedControls) groupedControls!: groupedControls;\n  @State((state) => state.fd.selectedControls)\n  selectedControls!: fdState['selectedControls'];\n  @State((state) => state.fd.userformData) userformData!: userformData;\n\n  @Prop({ required: true, type: Array }) public currentSelectedGroup!: string[];\n  @Prop({ required: true, type: String }) public userFormId!: string;\n  @Prop({ required: true, type: String }) public containerId!: string;\n  @Prop() controlRef: any;\n\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\n  @Action('fd/updateGroup') updateGroup!: (payload: IupdateGroup) => void;\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\n\n  divStyleArray: Array<IGroupStyle> = [];\n  resizeDiv: string = '';\n\n  positions: IMousePosition = {\n    clientX: 0,\n    clientY: 0,\n    movementX: 0,\n    movementY: 0,\n    offsetX: 0,\n    offsetY: 0\n  };\n  groupName: string = '';\n  count: number = 0;\n  currentMouseDownEvent: CustomMouseEvent | null = null;\n  control: string = ''\n  container: string = ''\n  createGroup (groupName: string) {\n    this.groupStyle(groupName)\n  }\n  value = 'different'\n  isMainSelect = false;\n  isMove: boolean = false\n  tempEvent = {}\n\n  created () {\n    EventBus.$on('getGroupMoveValue', this.getGroupMoveValue)\n    EventBus.$on('startGroupMoveControl', this.startGroupMoveControl)\n    EventBus.$on('moveGroupControl', this.moveGroupControl)\n    EventBus.$on('endGroupMoveControl', this.endGroupMoveControl)\n    EventBus.$on('getClientValue', this.getClientValue)\n    EventBus.$on('updasteGroupSize', this.updasteGroupSize)\n    EventBus.$on('getGroupSize', this.getGroupSize)\n  }\n  destroyed () {\n    EventBus.$off('getGroupMoveValue', this.getGroupMoveValue)\n    EventBus.$off('startGroupMoveControl', this.startGroupMoveControl)\n    EventBus.$off('moveGroupControl', this.moveGroupControl)\n    EventBus.$off('endGroupMoveControl', this.endGroupMoveControl)\n    EventBus.$off('getClientValue', this.getClientValue)\n    EventBus.$off('updasteGroupSize', this.updasteGroupSize)\n    EventBus.$on('getGroupSize', this.getGroupSize)\n  }\n  updasteGroupSize (propName: keyof controlProperties, propertyValue: number, groupIndex: number) {\n    if (this.selectedControls[this.userFormId].container[0] === this.containerId) {\n      if (propName === 'GroupID') {\n        this.divStyleArray[groupIndex].left = `${Math.trunc(parseInt(this.divStyleArray[groupIndex].left!))}px`\n        this.divStyleArray[groupIndex].height = `${Math.trunc(parseInt(this.divStyleArray[groupIndex].height!))}px`\n        this.divStyleArray[groupIndex].top = `${Math.trunc(parseInt(this.divStyleArray[groupIndex].top!))}px`\n        this.divStyleArray[groupIndex].width = `${Math.trunc(parseInt(this.divStyleArray[groupIndex].width!))}px`\n      } else {\n        this.groupStyle(this.divStyleArray[groupIndex].groupName!)\n        this.updatedValue(groupIndex, propName, propertyValue)\n        this.groupStyle(this.divStyleArray[groupIndex].groupName!)\n      }\n    }\n  }\n  updatedValue (groupIndex: number, propName: keyof controlProperties, diff: number) {\n    for (const j in this.userformData[this.userFormId][this.containerId].controls) {\n      const index = this.userformData[this.userFormId][this.containerId].controls[j]\n      const controlProp = this.userformData[this.userFormId][index].properties\n      const divStyle = this.divStyleArray[groupIndex]\n      if (controlProp.GroupID && controlProp.GroupID === divStyle.groupName) {\n        if (propName === 'Left') {\n          let left: number = diff + this.leftArray[j]\n          this.updateControlAction(propName, left, index)\n        } else if (propName === 'Top') {\n          let top: number = diff + this.topArray[j]\n          this.updateControlAction(propName, top, index)\n        } else if (propName === 'Width') {\n          let left = (diff * this.leftArray[j]) / parseInt(divStyle.width!) + parseInt(divStyle.left!)\n          let width = diff * this.percwidthArray[j]\n          this.updateControlAction('Left', left, index)\n          this.updateControlAction(propName, width, index)\n        } else if (propName === 'Height') {\n          let top = (diff * this.topArray[j]) / parseInt(divStyle.height!) + parseInt(divStyle.top!)\n          let height = diff * this.percheightArray[j]\n          this.updateControlAction('Top', top, index)\n          this.updateControlAction(propName, height, index)\n        }\n      }\n    }\n  }\n  getClientValue (value: string, containerX: number, containerY: number, event: MouseEvent, container: string, previousEvent: MouseEvent) {\n    this.value = value\n    this.container = container\n    if (container === this.containerId) {\n      this.positions.clientX = previousEvent.clientX\n      this.positions.clientY = previousEvent.clientY\n      this.positions.offsetX = previousEvent.offsetX\n      this.positions.offsetY = previousEvent.offsetY\n      this.elementMouseDrag(event, containerX, containerY, previousEvent)\n    }\n  }\n  getGroupMoveValue (callBack: Function) {\n    callBack(\n      this.positions.offsetX,\n      this.positions.offsetY,\n      this.control,\n      this.tempEvent\n    )\n  }\n  getGroupSize (callBack: Function) {\n    if (this.containerId === this.selectedControls[this.userFormId].container[0]) {\n      callBack(this.divStyleArray)\n    }\n  }\n  endGroupMoveControl () {\n    // if (this.getIsMoveTarget) {\n    this.positions.movementX = 0\n    this.positions.movementY = 0\n    // this.isMove = false\n    // }\n  }\n  topArray: number[] = [];\n  leftArray: number[] = [];\n\n  percwidthArray: number[] = [];\n  percheightArray: number[] = [];\n\n  initialArray: Array<IGroupStyle> = [];\n\n  get getIsMoveTarget () {\n    const isGroupPrsent = this.selectedControls[this.userFormId].selected.findIndex((val: string) => {\n      val.startsWith('group')\n    })\n    return isGroupPrsent === -1\n  }\n  startGroupMoveControl (event: MouseEvent) {\n    if (this.getIsMoveTarget) {\n      this.positions.clientX = event.clientX\n      this.positions.clientY = event.clientY\n    }\n  }\n\n  moveGroupControl (event: MouseEvent) {\n    if (this.getIsMoveTarget) {\n      //   this.moveBorder(event)\n      if (event.movementX !== 0 && event.movementY !== 0) {\n        EventBus.$emit('groupDrag', 'groupdrag')\n        this.isMove = true\n        // this.updateIsMove(true)\n      }\n    }\n  }\n\n  updateControlAction (\n    propertyName: keyof controlProperties,\n    propertyValue: number,\n    controlId: string\n  ) {\n    this.updateControl({\n      userFormId: this.userFormId,\n      controlId: controlId,\n      propertyName: propertyName,\n      value: propertyValue\n    })\n  }\n  handlerStyle (groupName: string) {\n    const isGroup: string = this.selectedControls[this.userFormId].selected[0]\n    return {\n      backgroundColor: isGroup === groupName ? 'white' : 'black',\n      borderColor: isGroup === groupName ? 'black' : 'white'\n    }\n  }\n  groupStyle (groupName: string) {\n    this.count += 1\n    let index = this.divStyleArray.findIndex(\n      (p: IGroupStyle) => p.groupName === groupName\n    )\n    if (index === -1) {\n      this.divStyleArray.push({\n        left: '0px',\n        top: '0px',\n        width: '0px',\n        height: '0px',\n        display: 'none',\n        groupName: groupName\n      })\n    }\n    const styleLeft: number[] = []\n    const styleWidth: number[] = []\n    const styleTop: number[] = []\n    const styleHeight: number[] = []\n    for (const control of this.userformData[this.userFormId][this.containerId]\n      .controls) {\n      if (\n        this.userformData[this.userFormId][control].properties.GroupID ===\n        groupName\n      ) {\n        const controlprop = this.userformData[this.userFormId][control]\n          .properties\n        styleLeft.push(controlprop.Left!)\n        styleTop.push(controlprop.Top!)\n        styleWidth.push(controlprop.Width! + controlprop.Left!)\n        styleHeight.push(controlprop.Height! + controlprop.Top!)\n      }\n    }\n    index = this.divStyleArray.findIndex(\n      (p: IGroupStyle) => p.groupName === groupName\n    )\n    this.divStyleArray[index].left = `${Math.min(...styleLeft)}px`\n    this.divStyleArray[index].top = `${Math.min(...styleTop)}px`\n    this.divStyleArray[index].width = `${\n      Math.max(...styleWidth) - Math.min(...styleLeft)\n    }px`\n    this.divStyleArray[index].height = `${\n      Math.max(...styleHeight) - Math.min(...styleTop)\n    }px`\n\n    this.topArray = []\n    this.leftArray = []\n\n    this.percwidthArray = []\n    this.percheightArray = []\n\n    for (const control of this.userformData[this.userFormId][this.containerId].controls) {\n      const controlProp = this.userformData[this.userFormId][control].properties\n      if (this.userformData[this.userFormId][control].type !== 'Useform') {\n        if (controlProp.GroupID !== '') {\n          for (const divStyle of this.divStyleArray) {\n            if (controlProp.GroupID === divStyle.groupName) {\n              this.topArray.push(controlProp.Top! - parseInt(divStyle.top!))\n\n              this.leftArray.push(controlProp.Left! - parseInt(divStyle.left!))\n\n              this.percheightArray.push(\n              controlProp.Height! / parseInt(divStyle.height!)\n              )\n\n              this.percwidthArray.push(\n              controlProp.Width! / parseInt(divStyle.width!)\n              )\n            }\n          }\n        } else {\n          this.topArray.push(controlProp.Top!)\n\n          this.leftArray.push(controlProp.Left!)\n\n          this.percheightArray.push(controlProp.Height!)\n\n          this.percwidthArray.push(controlProp.Width!)\n        }\n      }\n    }\n    this.initialArray = []\n    for (let k = 0; k < this.divStyleArray.length; k++) {\n      this.initialArray.push(Object.assign({}, this.divStyleArray[k]))\n    }\n  }\n\n  deActGroupControl () {\n    const selControl = this.selectedControls[this.userFormId].selected\n    if (\n      this.currentSelectedGroup.length === 1 &&\n      selControl.length === 1 &&\n      !selControl[0].startsWith('group')\n    ) {\n      const controlId = this.selectedControls[this.userFormId].selected[0]\n      if (\n        this.currentSelectedGroup[0] ===\n        this.userformData[this.userFormId][controlId].properties.GroupID!\n      ) {\n        this.selectControl({\n          userFormId: this.userFormId,\n          select: {\n            container: this.getContainerList(this.currentSelectedGroup[0]),\n            selected: [this.currentSelectedGroup[0]]\n          }\n        })\n      }\n    }\n  }\n\n  handleMouseDown (event: CustomMouseEvent, handler: string) {\n    this.tempEvent = event\n    EventBus.$emit('groupDrag', 'NotDrag')\n    this.isMove = false\n    this.deActGroupControl()\n    this.resizeDiv = handler\n    this.positions.clientX = event.clientX\n    this.positions.clientY = event.clientY\n    this.currentMouseDownEvent = event\n    if (handler !== 'drag') {\n      document.onmousemove = this.elementDrag\n    } else {\n      this.positions.offsetX = event.offsetX\n      this.positions.offsetY = event.offsetY\n      this.isMainSelect = true\n      EventBus.$emit('startGroupMoveControl', event)\n      document.onmousemove = (event: MouseEvent) => {\n        EventBus.$emit('moveGroupControl', event)\n      }\n    }\n    document.onmouseup = (event) => {\n      this.closeDragElement(event, handler)\n    }\n  }\n  elementMouseDrag (event: MouseEvent, containerX: number, containerY: number, previousEvent: MouseEvent): void {\n    event.preventDefault()\n    if (this.container === this.containerId) {\n      for (const i of this.selectedControls[this.userFormId].selected) {\n        if (i.startsWith('group')) {\n          const index = this.divStyleArray.findIndex(val => val.groupName === i)\n          this.divStyleArray[index].display = 'block'\n          this.groupStyle(this.divStyleArray[index].groupName!)\n        }\n      }\n      this.resizeDiv = 'drag'\n      let targetLeft = -1\n      let targetTop = -1\n      const main = this.selectedControls[this.userFormId].selected[0]\n      const isGroup = main.startsWith('group') ? this.divStyleArray.findIndex(val => val.groupName === main) : -1\n      if (isGroup === -1) {\n        const targetData = this.userformData[this.userFormId][main].properties\n        targetLeft = targetData.Left!\n        targetTop = targetData.Top!\n      } else {\n        const targetData = this.divStyleArray[isGroup]\n        targetLeft = parseInt(targetData.left!)\n        targetTop = parseInt(targetData.top!)\n      }\n      this.positions.movementX = (targetLeft) - (containerX - (this.positions.offsetX!))\n      this.positions.movementY = (targetTop) - (containerY - (this.positions.offsetY!))\n      const scale: number = 1\n      const grid: Array<number> = [10, 10]\n      const x: number =\n      Math.round(this.positions.movementX / scale / grid[0]) * grid[0]\n      const y: number =\n      Math.round(this.positions.movementY / scale / grid[1]) * grid[1]\n\n      if (this.currentMouseDownEvent && (x !== 0 || y !== 0)) {\n        this.currentMouseDownEvent.customCallBack &&\n        this.currentMouseDownEvent.customCallBack()\n      }\n      let dragResizeControl: IGroupStyle = {}\n      let dragResizeControl1: controlProperties = { ID: '' }\n\n      for (let i = 0; i < this.divStyleArray.length; i++) {\n        this.groupName = this.divStyleArray[i].groupName!\n        dragResizeControl = this.divStyleArray[i]\n        if (dragResizeControl.display === 'block') {\n          let top: number = -1\n          let left: number = -1\n          let decHeight: number = -1\n          top = parseInt(dragResizeControl.top!) - y\n          left = parseInt(dragResizeControl.left!) - x\n\n          if (this.resizeDiv === 'drag') {\n            dragResizeControl.top = `${top}px`\n            dragResizeControl.left = `${left}px`\n          }\n          for (const j in this.userformData[this.userFormId][this.containerId]\n            .controls) {\n            const index = this.userformData[this.userFormId][this.containerId]\n              .controls[j]\n            const controlProp = this.userformData[this.userFormId][index]\n              .properties\n            if (\n              controlProp.GroupID === this.divStyleArray[i].groupName &&\n            this.divStyleArray[i].display === 'block'\n            ) {\n              dragResizeControl1 = controlProp\n              if (this.resizeDiv === 'drag') {\n                top = dragResizeControl1.Top! - y\n                left = dragResizeControl1.Left! - x\n                this.updateControlAction('Top', top, index)\n                this.updateControlAction('Left', left, index)\n              }\n            }\n          }\n        }\n      }\n      for (let k of this.selectedControls[this.userFormId].selected) {\n        if (!k.startsWith('ID_USERFORM') && !k.startsWith('group')) {\n          let dragResizeReffer: IdragResizeRefStyle = {}\n          const control: controlProperties = this.userformData[this.userFormId][k]\n            .properties\n          for (const key in this.controlRef.resizeControl) {\n            if (\n              this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)] !== undefined\n            ) {\n              dragResizeReffer = this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)]\n            }\n          }\n          const top = control.Top! - y\n          const left = control.Left! - x\n\n          if (this.resizeDiv === 'drag') {\n            this.updateControlAction('Top', top, k)\n            this.updateControlAction('Left', left, k)\n          }\n        }\n      }\n    }\n  }\n\n  elementDrag (event: MouseEvent): void {\n    event.preventDefault()\n    this.positions.movementX = this.positions.clientX - event.clientX\n    this.positions.movementY = this.positions.clientY - event.clientY\n    const scale: number = 1\n    const grid: Array<number> = [10, 10]\n    const x: number =\n      Math.round(this.positions.movementX / scale / grid[0]) * grid[0]\n    const y: number =\n      Math.round(this.positions.movementY / scale / grid[1]) * grid[1]\n\n    if (this.currentMouseDownEvent && (x !== 0 || y !== 0)) {\n      this.currentMouseDownEvent.customCallBack &&\n        this.currentMouseDownEvent.customCallBack()\n    }\n    const diffGridX: number = x - this.positions.movementX\n    const diffGridY: number = y - this.positions.movementY\n\n    this.positions.clientX = event.clientX - diffGridX\n    this.positions.clientY = event.clientY - diffGridY\n\n    let dragResizeControl: IGroupStyle = {}\n    let dragResizeControl1: controlProperties = { ID: '' }\n\n    for (let i = 0; i < this.divStyleArray.length; i++) {\n      this.groupName = this.divStyleArray[i].groupName!\n      dragResizeControl = this.divStyleArray[i]\n      if (dragResizeControl.display === 'block') {\n        let top: number = -1\n        let left: number = -1\n        let incWidth: number = -1\n        let incHeight: number = -1\n        let decWidth: number = -1\n        let decHeight: number = -1\n        top = parseInt(dragResizeControl.top!) - y\n        left = parseInt(dragResizeControl.left!) - x\n        incWidth =\n          parseInt(dragResizeControl.width!) + x > 0\n            ? parseInt(dragResizeControl.width!) + x\n            : 0\n        incHeight =\n          parseInt(dragResizeControl.height!) + y > 0\n            ? parseInt(dragResizeControl.height!) + y\n            : 0\n        decWidth =\n          parseInt(dragResizeControl.width!) - x > 0\n            ? parseInt(dragResizeControl.width!) - x\n            : 0\n        decHeight =\n          parseInt(dragResizeControl.height!) - y > 0\n            ? parseInt(dragResizeControl.height!) - y\n            : 0\n\n        if (this.resizeDiv === 'drag') {\n          dragResizeControl.top = `${top}px`\n          dragResizeControl.left = `${left}px`\n        } else {\n          if (this.resizeDiv.includes('t')) {\n            if (incHeight > 0) {\n              dragResizeControl.top = `${top}px`\n            }\n            dragResizeControl.height = `${incHeight}px`\n          } else if (this.resizeDiv.includes('b')) {\n            dragResizeControl.height = `${decHeight}px`\n          }\n\n          if (this.resizeDiv.includes('l')) {\n            if (incWidth > 0) {\n              dragResizeControl.left = `${left}px`\n            }\n            dragResizeControl.width = `${incWidth}px`\n          } else if (this.resizeDiv.includes('r')) {\n            dragResizeControl.width = `${decWidth}px`\n          }\n        }\n        for (const j in this.userformData[this.userFormId][this.containerId]\n          .controls) {\n          const index = this.userformData[this.userFormId][this.containerId]\n            .controls[j]\n          const controlProp = this.userformData[this.userFormId][index]\n            .properties\n\n          let top: number =\n            (parseInt(dragResizeControl.height!) * this.topArray[j]) /\n              parseInt(this.initialArray[i].height!) +\n            parseInt(this.initialArray[i].top!)\n\n          let height: number =\n            parseInt(dragResizeControl.height!) * this.percheightArray[j]\n\n          let left: number =\n            (parseInt(dragResizeControl.width!) * this.leftArray[j]) /\n              parseInt(this.initialArray[i].width!) +\n            parseInt(this.initialArray[i].left!)\n\n          let width: number =\n            parseInt(dragResizeControl.width!) * this.percwidthArray[j]\n\n          let right: number =\n            (parseInt(dragResizeControl.width!) * this.leftArray[j]) /\n              parseInt(this.initialArray[i].width!) +\n            parseInt(dragResizeControl.left!)\n\n          let bottom: number =\n            (parseInt(dragResizeControl.height!) * this.topArray[j]) /\n              parseInt(this.initialArray[i].height!) +\n            parseInt(dragResizeControl.top!)\n          if (\n            controlProp.GroupID === this.divStyleArray[i].groupName &&\n            this.divStyleArray[i].display === 'block'\n          ) {\n            dragResizeControl1 = controlProp\n            if (this.resizeDiv === 'drag') {\n              top = dragResizeControl1.Top! - y\n              left = dragResizeControl1.Left! - x\n              this.updateControlAction('Top', top, index)\n              this.updateControlAction('Left', left, index)\n            } else {\n              if (this.resizeDiv.includes('t')) {\n                this.updateControlAction('Top', bottom, index)\n                this.updateControlAction('Height', height, index)\n              } else if (this.resizeDiv.includes('b')) {\n                this.updateControlAction('Top', top, index)\n                this.updateControlAction('Height', height, index)\n              }\n              if (this.resizeDiv.includes('l')) {\n                this.updateControlAction('Left', right, index)\n                this.updateControlAction('Width', width, index)\n              } else if (this.resizeDiv.includes('r')) {\n                this.updateControlAction('Left', left, index)\n                this.updateControlAction('Width', width, index)\n              }\n            }\n          }\n        }\n      }\n    }\n    for (let k of this.selectedControls[this.userFormId].selected) {\n      if (!k.startsWith('ID_USERFORM') && !k.startsWith('group')) {\n        let dragResizeReffer: IdragResizeRefStyle = {}\n        const control: controlProperties = this.userformData[this.userFormId][k]\n          .properties\n        for (const key in this.controlRef.resizeControl) {\n          if (\n            this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)] !== undefined\n          ) {\n            dragResizeReffer = this.controlRef.resizeControl[key].$refs['draRef'.concat(control.ID)]\n          }\n        }\n        const top = dragResizeReffer.offsetTop! - y\n        const left = dragResizeReffer.offsetLeft! - x\n        const incWidth = control.Width! + x > 0 ? control.Width! + x : 0\n        const incHeight = control.Height! + y > 0 ? control.Height! + y : 0\n        const decWidth = control.Width! - x > 0 ? control.Width! - x : 0\n        const decHeight = control.Height! - y > 0 ? control.Height! - y : 0\n\n        if (this.resizeDiv === 'drag') {\n          this.updateControlAction('Top', top, k)\n          this.updateControlAction('Left', left, k)\n        } else {\n          if (this.resizeDiv.includes('t')) {\n            if (incHeight > 0) {\n              this.updateControlAction('Top', top, k)\n            }\n            this.updateControlAction('Height', incHeight, k)\n          } else if (this.resizeDiv.includes('b')) {\n            this.updateControlAction('Height', decHeight, k)\n          }\n          if (this.resizeDiv.includes('l')) {\n            if (incWidth > 0) {\n              this.updateControlAction('Left', left, k)\n            }\n            this.updateControlAction('Width', incWidth, k)\n          } else if (this.resizeDiv.includes('r')) {\n            this.updateControlAction('Width', decWidth, k)\n          }\n        }\n      }\n    }\n  }\n  openContextMenu (e: MouseEvent, parentID: string, controlID: string, type: string) {\n    this.$emit('openMenu', e, parentID, controlID, type)\n  }\n  openMenu (event: MouseEvent, type: string) {\n    event.preventDefault()\n    event.stopPropagation()\n    const container = this.selectedControls[this.userFormId].container[0]\n    let controlId = container\n    if (type === 'control') {\n      controlId = this.getSelectedControlsDatas![0]\n    }\n    this.openContextMenu(event, container, controlId, type)\n  }\n\n  closeDragElement (event:MouseEvent, handler: string): void {\n    if (this.value === 'same') {\n      this.elementDrag(event)\n    } else {\n      this.value = 'different'\n    }\n    EventBus.$emit('groupDrag', 'NotDrag')\n    EventBus.$emit('endGroupMoveControl')\n    document.onmouseup = null\n    document.onmousemove = null\n    if (handler === 'drag') {\n      const selected = this.selectedControls[this.userFormId].selected\n      for (const grpname in selected) {\n        if (selected[grpname].startsWith('group')) {\n          this.groupStyle(selected[grpname])\n        }\n      }\n    }\n    for (const controlGroup in this.divStyleArray) {\n      const groupName = this.divStyleArray[controlGroup].groupName!\n      if (groupName.startsWith('group')) {\n        this.groupStyle(groupName)\n      }\n    }\n  }\n  getGroupEditStyle (groupName: string) {\n    const selected = this.selectedControls[this.userFormId].selected\n    const isSelected =\n      selected.length === 1 &&\n      !selected[0].startsWith('group') &&\n      this.userformData[this.userFormId][selected[0]].properties.GroupID ===\n        groupName\n    return isSelected ? 'mainEditDiv' : 'mainDiv'\n  }\n  getGroupStyle (groupName: string) {\n    return this.divStyleArray[this.divStyleArray.findIndex((p) => p.groupName === groupName)]\n  }\n\n  @Watch('selectedControls', { deep: true })\n  updateGroupStyle () {\n    const selectedContainer = this.selectedControls[this.userFormId].container[0]\n    if (selectedContainer !== this.containerId && this.isMove) {\n      const selected = this.selectedControls[this.userFormId].selected\n      for (const grpname in selected) {\n        if (selected[grpname].startsWith('group')) {\n          const fingGroupIndex = this.divStyleArray.findIndex(val => val.groupName === selected[grpname])\n          this.divStyleArray.splice(fingGroupIndex, 1)\n        }\n      }\n    }\n    if (this.divStyleArray.length > 0 && selectedContainer === this.containerId) {\n      for (const index in this.divStyleArray) {\n        this.divStyleArray[index].display = 'none'\n      }\n      const selControl = this.selectedControls[this.userFormId].selected\n      if (selControl.length >= 1) {\n        for (const val of this.getSelectedControlsDatas!) {\n          const groupId = this.userformData[this.userFormId][val].properties.GroupID!\n          if (groupId) {\n            const index = this.divStyleArray.findIndex(\n              (p) => p.groupName === groupId\n            )\n            this.divStyleArray[index].display = 'block'\n          }\n        }\n      } else {\n        if (\n          selControl[0].startsWith('group') ||\n          (!selControl[0].startsWith('group') &&\n            selControl.includes(\n              this.userformData[this.userFormId][selControl[0]].properties\n                .GroupID!\n            ))\n        ) {\n          if (selControl[0].startsWith('group')) {\n            const index = this.divStyleArray.findIndex(\n              (p) => p.groupName === selControl[0]\n            )\n            if (index !== -1) {\n              this.divStyleArray[index].display = 'block'\n            }\n          } else {\n            const index = this.divStyleArray.findIndex(\n              (p) =>\n                p.groupName ===\n                this.userformData[this.userFormId][selControl[0]].properties\n                  .GroupID!\n            )\n            if (index !== -1) {\n              this.divStyleArray[index].display = 'block'\n            }\n          }\n        }\n      }\n    } else {\n      for (const index in this.divStyleArray) {\n        this.divStyleArray[index].display = 'none'\n      }\n    }\n  }\n}\n"],"sourceRoot":""}]}