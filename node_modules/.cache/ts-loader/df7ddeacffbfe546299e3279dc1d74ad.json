{"remainingRequest":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/formcontrols/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/formcontrols/src/api/abstract/FormDesigner/FdContainerVue.ts","dependencies":[{"path":"/home/mobiotics/Projects/formcontrols/src/api/abstract/FormDesigner/FdContainerVue.ts","mtime":1610544258562},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgRmRDb250cm9sVnVlIGZyb20gJy4vRmRDb250cm9sVnVlJzsKaW1wb3J0IHsgQWN0aW9uLCBTdGF0ZSB9IGZyb20gJ3Z1ZXgtY2xhc3MnOwppbXBvcnQgeyBjb250cm9sQ29udGV4dE1lbnUgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9tb2RlbHMvY29udHJvbENvbnRleHRNZW51RGF0YSc7CmltcG9ydCB7IHVzZXJmb3JtQ29udGV4dE1lbnUgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9tb2RlbHMvdXNlcmZvcm1Db250ZXh0TWVudURhdGEnOwppbXBvcnQgeyBDb250cm9sUHJvcGVydHlEYXRhIH0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvbW9kZWxzL0NvbnRyb2xzVGFibGVQcm9wZXJ0aWVzL0NvbnRyb2xQcm9wZXJ0eURhdGEudHMnOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL2V2ZW50LWJ1cyc7CmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZkQ29udGFpbmVyVnVlIGV4dGVuZHMgRmRDb250cm9sVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLmNvbnRleHRNZW51VHlwZSA9IGZhbHNlOwogICAgdGhpcy52aWV3TWVudSA9IGZhbHNlOwogICAgdGhpcy50b3AgPSAnMHB4JzsKICAgIHRoaXMubGVmdCA9ICcwcHgnOwogICAgdGhpcy5jb250cm9sQ29udGV4dE1lbnUgPSBjb250cm9sQ29udGV4dE1lbnU7CiAgICB0aGlzLnVzZXJmb3JtQ29udGV4dE1lbnUgPSB1c2VyZm9ybUNvbnRleHRNZW51OwogICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheSA9IFtdOwogICAgdGhpcy5zZWxNdWx0aXBsZUN0cmwgPSBmYWxzZTsKICAgIHRoaXMuYWN0aXZhdGVDdHJsID0gZmFsc2U7CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uICBjbG9zZSB0aGUgY29udGV4dE1lbnUKICAqIEBmdW5jdGlvbiBjbG9zZU1lbnUKICAqIEBwYXJhbSB0aGlzICAtIGNvbnRhaW5lciBWdWUgQ29tcG9uZW50CiAgKiBAZXZlbnQgY2xpY2sKICAqLwoKCiAgY2xvc2VNZW51KCkgewogICAgdGhpcy52aWV3TWVudSA9IGZhbHNlOwogIH0KCiAgZ2V0IHNlbENvbmF0aW5lcigpIHsKICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXI7CiAgfQogIC8qKgogICogQGRlc2NyaXB0aW9uICBUbyBnZXQgdGhlIHNlbGVjdGVkIENvbnRhaW5lckxpc3QKICAqIEBmdW5jdGlvbiBnZXRDb250YWluZXJMaXN0CiAgKiBAcGFyYW0gc2VsZWN0VGFyZ2V0ICAtIHNlbGN0ZWQgY29udHJvbCBvciBncm91cAogICovCgoKICBnZXRDb250YWluZXJMaXN0KHNlbGVjdFRhcmdldCkgewogICAgY29uc3QgY29udGFpbmVyTGlzdCA9IFtdOwoKICAgIGNvbnN0IGNvbnRyb2xDb250YWluZXIgPSBzZWxlY3RUYXJnZXQgPT4gewogICAgICBmb3IgKGxldCBpIGluIHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0pIHsKICAgICAgICBjb25zdCBjb250cm9sRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1baV07CgogICAgICAgIGlmIChjb250cm9sRGF0YS5jb250cm9scy5sZW5ndGggPiAwICYmIGNvbnRyb2xEYXRhLmNvbnRyb2xzLmluY2x1ZGVzKHNlbGVjdFRhcmdldCkpIHsKICAgICAgICAgIGNvbnRhaW5lckxpc3QucHVzaChpKTsKICAgICAgICAgIGNvbnRyb2xDb250YWluZXIoaSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGdldENvbnRyb2xJZCA9IHNlbGVjdFRhcmdldCA9PiB7CiAgICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXTsKCiAgICAgIGZvciAobGV0IGkgaW4gdXNlckRhdGEpIHsKICAgICAgICBjb25zdCBjb250cm9sRGF0YSA9IHVzZXJEYXRhW2ldOwoKICAgICAgICBpZiAoY29udHJvbERhdGEucHJvcGVydGllcy5Hcm91cElEID09PSBzZWxlY3RUYXJnZXQpIHsKICAgICAgICAgIHJldHVybiBpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICBpZiAoc2VsZWN0VGFyZ2V0KSB7CiAgICAgIGNvbnN0IGNvbnRyb2xJZCA9IHNlbGVjdFRhcmdldC5zdGFydHNXaXRoKCdncm91cCcpID8gZ2V0Q29udHJvbElkKHNlbGVjdFRhcmdldCkgOiBzZWxlY3RUYXJnZXQ7CgogICAgICBpZiAoY29udHJvbElkKSB7CiAgICAgICAgY29udHJvbENvbnRhaW5lcihjb250cm9sSWQpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGNvbnRhaW5lckxpc3QubGVuZ3RoID4gMCA/IGNvbnRhaW5lckxpc3QgOiBbdGhpcy51c2VyRm9ybUlkXTsKICB9CgogIGdlbmVyYXRlVW5pcXVlTmFtZShjb250cm9sTmFtZSkgewogICAgbGV0IGxhc3RDb250cm9sSWQgPSAwOwogICAgY29uc3QgdXNlcmZvcm1Db250cm9sSWRzID0gT2JqZWN0LmtleXModGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXSk7CgogICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VyZm9ybUNvbnRyb2xJZHMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgY3RybFByb3AgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3VzZXJmb3JtQ29udHJvbElkc1tpXV0ucHJvcGVydGllczsKCiAgICAgIGlmIChjdHJsUHJvcC5OYW1lLmluZGV4T2YoY29udHJvbE5hbWUpICE9PSAtMSkgewogICAgICAgIGNvbnN0IElkTnVtID0gY3RybFByb3AuTmFtZS5zcGxpdChjb250cm9sTmFtZSkucG9wKCkgfHwgJy0xJzsKICAgICAgICBjb25zdCBwYXNyZUlkID0gcGFyc2VJbnQoSWROdW0sIDEwKTsKCiAgICAgICAgaWYgKCFpc05hTihwYXNyZUlkKSAmJiBsYXN0Q29udHJvbElkIDwgcGFzcmVJZCkgewogICAgICAgICAgbGFzdENvbnRyb2xJZCA9IHBhc3JlSWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGAke2NvbnRyb2xOYW1lfSR7bGFzdENvbnRyb2xJZCArIDF9YDsKICB9CgogIGdlbmVyYXRlQ29udHJvbElkKGNvbnRyb2xOYW1lKSB7CiAgICBsZXQgbGFzdENvbnRyb2xJZCA9IDA7CiAgICBjb25zdCB1c2VyZm9ybUNvbnRyb2xJZHMgPSBPYmplY3Qua2V5cyh0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdKTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJmb3JtQ29udHJvbElkcy5sZW5ndGg7IGkrKykgewogICAgICBpZiAodXNlcmZvcm1Db250cm9sSWRzW2ldLmluZGV4T2YoY29udHJvbE5hbWUpICE9PSAtMSkgewogICAgICAgIGNvbnN0IElkTnVtID0gdXNlcmZvcm1Db250cm9sSWRzW2ldLnNwbGl0KGNvbnRyb2xOYW1lKS5wb3AoKSB8fCAnLTEnOwogICAgICAgIGNvbnN0IHBhc3JlSWQgPSBwYXJzZUludChJZE51bSwgMTApOwoKICAgICAgICBpZiAoIWlzTmFOKHBhc3JlSWQpICYmIGxhc3RDb250cm9sSWQgPCBwYXNyZUlkKSB7CiAgICAgICAgICBsYXN0Q29udHJvbElkID0gcGFzcmVJZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBjb250cm9sUHJvcERhdGEgPSBuZXcgQ29udHJvbFByb3BlcnR5RGF0YSgpOwogICAgbGV0IGNvbnRyb2xPYmogPSBjb250cm9sTmFtZS5zdGFydHNXaXRoKCdQYWdlJykgPyBjb250cm9sUHJvcERhdGEuZGF0YVsnUGFnZSddIDogY29udHJvbFByb3BEYXRhLmRhdGFbY29udHJvbE5hbWVdOwogICAgY29uc3QgaXRlbSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29udHJvbE9iaikpOwogICAgbGFzdENvbnRyb2xJZCArPSAxOwogICAgaXRlbS5wcm9wZXJ0aWVzLklEID0gYElEXyR7Y29udHJvbE5hbWV9JHtsYXN0Q29udHJvbElkfWA7CiAgICBpdGVtLnByb3BlcnRpZXMuQ2FwdGlvbiA9IGAke2NvbnRyb2xOYW1lfSR7bGFzdENvbnRyb2xJZH1gOwogICAgaXRlbS5wcm9wZXJ0aWVzLk5hbWUgPSB0aGlzLmdlbmVyYXRlVW5pcXVlTmFtZShjb250cm9sTmFtZSk7CiAgICByZXR1cm4gaXRlbTsKICB9CgogIHVwZGF0ZU5ld0NvbnRyb2wocGFyZW50SWQsIG5ld0NvbnRyb2xJZCwgbmV3Q29udHJvbERhdGEpIHsKICAgIHRoaXMuYWRkQ29udHJvbCh7CiAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgY29udHJvbElkOiBwYXJlbnRJZCwKICAgICAgYWRkSWQ6IG5ld0NvbnRyb2xJZCwKICAgICAgaXRlbTogbmV3Q29udHJvbERhdGEKICAgIH0pOwogIH0KCiAgZ2V0TG93ZXN0SW5kZXgodGVtcENvbnRyb2xzLCBjb250cm9sTGVuZ3RoLCBwcm9wZXJ0eVR5cGUpIHsKICAgIGxldCBsYXN0Q29udHJvbElkID0gY29udHJvbExlbmd0aDsKICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXBDb250cm9scy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBwcm9wZXR5TmFtZSA9IHByb3BlcnR5VHlwZSA/IHVzZXJEYXRhW3RlbXBDb250cm9sc1tpXV0uZXh0cmFEYXRhcy56SW5kZXggOiB1c2VyRGF0YVt0ZW1wQ29udHJvbHNbaV1dLmV4dHJhRGF0YXMuVGFiSW5kZXg7CgogICAgICBpZiAocHJvcGV0eU5hbWUgIT09IC0xKSB7CiAgICAgICAgY29uc3QgSWROdW0gPSBwcm9wZXR5TmFtZTsKCiAgICAgICAgaWYgKCFpc05hTihJZE51bSkgJiYgbGFzdENvbnRyb2xJZCA+IElkTnVtKSB7CiAgICAgICAgICBsYXN0Q29udHJvbElkID0gSWROdW07CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIGxhc3RDb250cm9sSWQ7CiAgfQoKICB1cGRhdGVaSW5kZXhWYWx1ZShpZCkgewogICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdOwogICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5nZXRDb250YWluZXJMaXN0KGlkKVswXTsKICAgIGNvbnN0IGNvbnRhaW5lckNvbnRyb2xzID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJdLmNvbnRyb2xzOwogICAgY29uc3QgY29udHJvbFR5cGUgPSB1c2VyRGF0YVtpZF0udHlwZTsKCiAgICBpZiAoY29udHJvbFR5cGUgPT09ICdNdWx0aVBhZ2UnIHx8IGNvbnRyb2xUeXBlID09PSAnRnJhbWUnIHx8IGNvbnRyb2xUeXBlID09PSAnTGlzdEJveCcpIHsKICAgICAgdGhpcy51cGRhdGVFeHRyYURhdGFzKGlkLCAnekluZGV4JywgdXNlckRhdGFbY29udGFpbmVyXS5jb250cm9scy5sZW5ndGgpOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgdGVtcENvbnRyb2xzID0gW107CgogICAgICBmb3IgKGNvbnN0IGluZGV4IGluIGNvbnRhaW5lckNvbnRyb2xzKSB7CiAgICAgICAgY29uc3QgY250cmxEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJDb250cm9sc1tpbmRleF1dOwoKICAgICAgICBpZiAoY250cmxEYXRhLnR5cGUgPT09ICdNdWx0aVBhZ2UnIHx8IGNudHJsRGF0YS50eXBlID09PSAnRnJhbWUnIHx8IGNudHJsRGF0YS50eXBlID09PSAnTGlzdEJveCcpIHsKICAgICAgICAgIHRlbXBDb250cm9scy5wdXNoKGNvbnRhaW5lckNvbnRyb2xzW2luZGV4XSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBsYXN0Q29udHJvbElkID0gdGVtcENvbnRyb2xzLmxlbmd0aCA+IDAgPyB0aGlzLmdldExvd2VzdEluZGV4KHRlbXBDb250cm9scywgdXNlckRhdGFbY29udGFpbmVyXS5jb250cm9scy5sZW5ndGgsIHRydWUpIDogdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJdLmNvbnRyb2xzLmxlbmd0aDsKICAgICAgdGhpcy51cGRhdGVFeHRyYURhdGFzKGlkLCAnekluZGV4JywgbGFzdENvbnRyb2xJZCk7CgogICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIHRlbXBDb250cm9scykgewogICAgICAgIGNvbnN0IGNudHJsWkluZGV4ID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtpbmRleF0uZXh0cmFEYXRhcy56SW5kZXg7CiAgICAgICAgdGhpcy51cGRhdGVFeHRyYURhdGFzKGluZGV4LCAnekluZGV4JywgY250cmxaSW5kZXggKyAxKTsKICAgICAgfQogICAgfQogIH0KCiAgdXBkYXRlVGFiSW5kZXhWYWx1ZShpZCkgewogICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdOwogICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5nZXRDb250YWluZXJMaXN0KGlkKVswXTsKICAgIGNvbnN0IGNvbnRhaW5lckNvbnRyb2xzID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJdLmNvbnRyb2xzOwogICAgY29uc3QgY29udHJvbFR5cGUgPSB1c2VyRGF0YVtpZF0udHlwZTsKCiAgICBpZiAoY29udHJvbFR5cGUgPT09ICdGREltYWdlJykgewogICAgICB0aGlzLnVwZGF0ZUV4dHJhRGF0YXMoaWQsICdUYWJJbmRleCcsIHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHMubGVuZ3RoIC0gMSk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCB0ZW1wQ29udHJvbHMgPSBbXTsKCiAgICAgIGZvciAoY29uc3QgaW5kZXggaW4gY29udGFpbmVyQ29udHJvbHMpIHsKICAgICAgICBjb25zdCBjbnRybERhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRhaW5lckNvbnRyb2xzW2luZGV4XV07CgogICAgICAgIGlmIChjbnRybERhdGEudHlwZSA9PT0gJ0ZESW1hZ2UnKSB7CiAgICAgICAgICB0ZW1wQ29udHJvbHMucHVzaChjb250YWluZXJDb250cm9sc1tpbmRleF0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgbGFzdENvbnRyb2xJZCA9IHRlbXBDb250cm9scy5sZW5ndGggPiAwID8gdGhpcy5nZXRMb3dlc3RJbmRleCh0ZW1wQ29udHJvbHMsIHVzZXJEYXRhW2NvbnRhaW5lcl0uY29udHJvbHMubGVuZ3RoIC0gMSwgZmFsc2UpIDogdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250YWluZXJdLmNvbnRyb2xzLmxlbmd0aCAtIDE7CiAgICAgIHRoaXMudXBkYXRlVGFiSW5kZXgoaWQsIGxhc3RDb250cm9sSWQpOwoKICAgICAgZm9yIChjb25zdCBpbmRleCBvZiB0ZW1wQ29udHJvbHMpIHsKICAgICAgICBjb25zdCBjbnRybFRhYkluZGV4ID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtpbmRleF0uZXh0cmFEYXRhcy5UYWJJbmRleDsKICAgICAgICB0aGlzLnVwZGF0ZUV4dHJhRGF0YXMoaW5kZXgsICdUYWJJbmRleCcsIGNudHJsVGFiSW5kZXggKyAxKTsKICAgICAgfQogICAgfQogIH0KCiAgdXBkYXRlRXh0cmFEYXRhcyhpZCwgcHJvcGVydHlOYW1lLCB2YWx1ZSkgewogICAgdGhpcy51cGRhdGVDb250cm9sRXh0cmFEYXRhKHsKICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICBjb250cm9sSWQ6IGlkLAogICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgdmFsdWU6IHZhbHVlCiAgICB9KTsKICB9CgogIHVwZGF0ZVRhYkluZGV4KGlkLCB2YWx1ZSkgewogICAgdGhpcy51cGRhdGVDb250cm9sKHsKICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICBjb250cm9sSWQ6IGlkLAogICAgICBwcm9wZXJ0eU5hbWU6ICdUYWJJbmRleCcsCiAgICAgIHZhbHVlOiB2YWx1ZQogICAgfSk7CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiAgYWRkIHRoZSBjb250cm9sIHRvIGl0cyByZXNwZWN0aXZlICBjb250YWluZXIKICAgKiBAZnVuY3Rpb24gYWRkQ29udHJvbE9iagogICAqIEBwYXJhbSBldmVudCAgLSBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQKICAgKiBAcGFyYW0gdXNlckZvcm1JZCAtIHNlbGVjdGVkIFVzZXJmb3JtCiAgICogQGV2ZW50IGNsaWNrCiAgICovCgoKICBhZGRDb250cm9sT2JqKGUsIHBhZ2VJZCkgewogICAgaWYgKHRoaXMudG9vbEJveFNlbGVjdCAhPT0gJ1NlbGVjdCcgJiYgdGhpcy50b29sQm94U2VsZWN0ICE9PSAnJykgewogICAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0udHlwZTsKICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2VuZXJhdGVDb250cm9sSWQodGhpcy50b29sQm94U2VsZWN0KTsKICAgICAgY29uc3Qgc3cgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLndpZHRoKTsKICAgICAgY29uc3Qgc2ggPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmhlaWdodCk7CiAgICAgIGl0ZW0ucHJvcGVydGllcy5MZWZ0ID0gaXNOYU4oc3cpIHx8IHN3ID09PSAwID8gZS5vZmZzZXRYIDogcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5sZWZ0KTsKICAgICAgaXRlbS5wcm9wZXJ0aWVzLlRvcCA9IGlzTmFOKHNoKSB8fCBzaCA9PT0gMCA/IGUub2Zmc2V0WSA6IHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRBcmVhU3R5bGUudG9wKTsKICAgICAgaXRlbS5wcm9wZXJ0aWVzLldpZHRoID0gaXNOYU4oc3cpIHx8IHN3ID09PSAwID8gaXRlbS5wcm9wZXJ0aWVzLldpZHRoIDogc3c7CiAgICAgIGl0ZW0ucHJvcGVydGllcy5IZWlnaHQgPSBpc05hTihzaCkgfHwgc2ggPT09IDAgPyBpdGVtLnByb3BlcnRpZXMuSGVpZ2h0IDogc2g7CiAgICAgIGNvbnN0IGNvbnRyb2xzID0gaXRlbS5jb250cm9sczsKICAgICAgaXRlbS5jb250cm9scyA9IGl0ZW0udHlwZSA9PT0gJ011bHRpUGFnZScgPyBbXSA6IGl0ZW0uY29udHJvbHM7CiAgICAgIGNvbnN0IG5ld0NvbnRyb2xJZCA9IHR5cGUgPT09ICdNdWx0aVBhZ2UnID8gcGFnZUlkIDogdGhpcy5jb250cm9sSWQ7CiAgICAgIHRoaXMudXBkYXRlTmV3Q29udHJvbChuZXdDb250cm9sSWQsIGl0ZW0ucHJvcGVydGllcy5JRCwgaXRlbSk7CiAgICAgIHRoaXMudXBkYXRlVGFiSW5kZXhWYWx1ZShpdGVtLnByb3BlcnRpZXMuSUQpOwogICAgICB0aGlzLnVwZGF0ZVpJbmRleFZhbHVlKGl0ZW0ucHJvcGVydGllcy5JRCk7CgogICAgICBpZiAoaXRlbS50eXBlID09PSAnTXVsdGlQYWdlJyAmJiBjb250cm9scy5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250cm9scy5sZW5ndGg7IGkrKykgewogICAgICAgICAgY29uc3QgcGFyZW50SWQgPSBpdGVtLnByb3BlcnRpZXMuSUQuc3BsaXQoJ011bHRpUGFnZScpLnBvcCgpOwogICAgICAgICAgY29uc3QgY29udHJvbE5hbWUgPSBgUGFnZSR7cGFyZW50SWR9X2A7CiAgICAgICAgICBjb25zdCBwYWdlT2JqID0gdGhpcy5nZW5lcmF0ZUNvbnRyb2xJZChjb250cm9sTmFtZSk7CiAgICAgICAgICBwYWdlT2JqLnByb3BlcnRpZXMuQ2FwdGlvbiA9IGBQYWdlJHtpICsgMX1gOwogICAgICAgICAgcGFnZU9iai5wcm9wZXJ0aWVzLk5hbWUgPSBgUGFnZSR7aSArIDF9YDsKICAgICAgICAgIHBhZ2VPYmoucHJvcGVydGllcy5JbmRleCA9IGk7CiAgICAgICAgICB0aGlzLnVwZGF0ZU5ld0NvbnRyb2woaXRlbS5wcm9wZXJ0aWVzLklELCBwYWdlT2JqLnByb3BlcnRpZXMuSUQsIHBhZ2VPYmopOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3RDb250cm9sKHsKICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgICAgc2VsZWN0OiB7CiAgICAgICAgICBjb250YWluZXI6IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChpdGVtLnByb3BlcnRpZXMuSUQpLAogICAgICAgICAgc2VsZWN0ZWQ6IFtpdGVtLnByb3BlcnRpZXMuSURdCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLmNoYW5nZVRvb2xCb3hTZWxlY3QoJ1NlbGVjdCcpOwoKICAgIGlmICh0aGlzLmFjdGl2YXRlQ3RybCkgewogICAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0udHlwZTsKICAgICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdOwogICAgICBjb25zdCBjb250cm9sRGF0YSA9IHR5cGUgPT09ICdNdWx0aVBhZ2UnID8gdXNlckRhdGFbcGFnZUlkXSA6IHRoaXMuZGF0YTsKCiAgICAgIGlmIChjb250cm9sRGF0YS5wcm9wZXJ0aWVzLklEID09PSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF0pIHsKICAgICAgICBsZXQgbGVmdCA9IDA7CiAgICAgICAgbGV0IHJpZ2h0ID0gMDsKICAgICAgICBsZXQgdG9wID0gMDsKICAgICAgICBsZXQgYm90dG9tID0gMDsKCiAgICAgICAgaWYgKHRoaXMuYWN0aXZhdGVDdHJsKSB7CiAgICAgICAgICBsZXQgbWFpblNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWRbMF07CiAgICAgICAgICBsZXQgZGl2c3R5bGUgPSBbXTsKCiAgICAgICAgICBpZiAobWFpblNlbGVjdGVkLnN0YXJ0c1dpdGgoJ2dyb3VwJykgfHwgdXNlckRhdGFbdGhpcy5jb250cm9sSWRdLnByb3BlcnRpZXMuR3JvdXBJRCAhPT0gJycpIHsKICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2dldEdyb3VwU2l6ZScsIGRpdnN0YXlsZUFycmF5ID0+IHsKICAgICAgICAgICAgICBkaXZzdHlsZSA9IGRpdnN0YXlsZUFycmF5OwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgbWFpbkN0cmwgPSB7CiAgICAgICAgICAgIElEOiAnJwogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAobWFpblNlbGVjdGVkLnN0YXJ0c1dpdGgoJ2dyb3VwJykpIHsKICAgICAgICAgICAgY29uc3QgZ2V0SW5kZXggPSBkaXZzdHlsZS5maW5kSW5kZXgodmFsID0+IHZhbC5ncm91cE5hbWUgPT09IG1haW5TZWxlY3RlZCk7CiAgICAgICAgICAgIG1haW5DdHJsID0gewogICAgICAgICAgICAgIExlZnQ6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS5sZWZ0KSwKICAgICAgICAgICAgICBUb3A6IHBhcnNlSW50KGRpdnN0eWxlW2dldEluZGV4XS50b3ApLAogICAgICAgICAgICAgIFdpZHRoOiBwYXJzZUludChkaXZzdHlsZVtnZXRJbmRleF0ud2lkdGgpLAogICAgICAgICAgICAgIEhlaWdodDogcGFyc2VJbnQoZGl2c3R5bGVbZ2V0SW5kZXhdLmhlaWdodCksCiAgICAgICAgICAgICAgSUQ6ICcnCiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBtYWluQ3RybCA9IHVzZXJEYXRhW21haW5TZWxlY3RlZF0ucHJvcGVydGllczsKCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICBjb25zdCBzZWxUeXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVttYWluU2VsZWN0ZWRdLnR5cGU7CgogICAgICAgICAgICAgIGlmIChzZWxUeXBlID09PSAnVXNlcmZvcm0nIHx8IHNlbFR5cGUgPT09ICdGcmFtZScgfHwgc2VsVHlwZSA9PT0gJ1BhZ2UnIHx8IHNlbFR5cGUgPT09ICdNdWx0aVBhZ2UnKSB7CiAgICAgICAgICAgICAgICBtYWluU2VsZWN0ZWQgPSAnJzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobWFpblNlbGVjdGVkICE9PSAnJykgewogICAgICAgICAgICBsZXQgc2lkZUN0cmwgPSB7CiAgICAgICAgICAgICAgTGVmdDogZS5vZmZzZXRYLAogICAgICAgICAgICAgIFRvcDogZS5vZmZzZXRZLAogICAgICAgICAgICAgIFdpZHRoOiAwLAogICAgICAgICAgICAgIEhlaWdodDogMCwKICAgICAgICAgICAgICBJRDogJycKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTaXplID0gewogICAgICAgICAgICAgIExlZnQ6IG1haW5DdHJsLkxlZnQgPCBzaWRlQ3RybC5MZWZ0ID8gbWFpbkN0cmwuTGVmdCA6IHNpZGVDdHJsLkxlZnQsCiAgICAgICAgICAgICAgVG9wOiBtYWluQ3RybC5Ub3AgPCBzaWRlQ3RybC5Ub3AgPyBtYWluQ3RybC5Ub3AgOiBzaWRlQ3RybC5Ub3AsCiAgICAgICAgICAgICAgV2lkdGg6IG1haW5DdHJsLkxlZnQgKyBtYWluQ3RybC5XaWR0aCA+IHNpZGVDdHJsLkxlZnQgKyBzaWRlQ3RybC5XaWR0aCA/IG1haW5DdHJsLkxlZnQgKyBtYWluQ3RybC5XaWR0aCA6IHNpZGVDdHJsLkxlZnQgKyBzaWRlQ3RybC5XaWR0aCwKICAgICAgICAgICAgICBIZWlnaHQ6IG1haW5DdHJsLlRvcCArIG1haW5DdHJsLkhlaWdodCA+IHNpZGVDdHJsLlRvcCArIHNpZGVDdHJsLkhlaWdodCA/IG1haW5DdHJsLlRvcCArIG1haW5DdHJsLkhlaWdodCA6IHNpZGVDdHJsLlRvcCArIHNpZGVDdHJsLkhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBsZWZ0ID0gc2VsZWN0ZWRTaXplLkxlZnQ7CiAgICAgICAgICAgIHRvcCA9IHNlbGVjdGVkU2l6ZS5Ub3A7CiAgICAgICAgICAgIHJpZ2h0ID0gc2VsZWN0ZWRTaXplLldpZHRoOwogICAgICAgICAgICBib3R0b20gPSBzZWxlY3RlZFNpemUuSGVpZ2h0OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsZWZ0ID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5sZWZ0KTsKICAgICAgICAgIHJpZ2h0ID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5sZWZ0KSArIHBhcnNlSW50KHRoaXMuc2VsZWN0ZWRBcmVhU3R5bGUud2lkdGgpOwogICAgICAgICAgdG9wID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS50b3ApOwogICAgICAgICAgYm90dG9tID0gcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS50b3ApICsgcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS5oZWlnaHQpOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgbGVmdEFycmF5ID0gW107CgogICAgICAgIGlmIChsZWZ0ICE9PSByaWdodCB8fCB0b3AgIT09IGJvdHRvbSkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheSA9IFtdOwoKICAgICAgICAgIGZvciAobGV0IGkgaW4gY29udHJvbERhdGEuY29udHJvbHMpIHsKICAgICAgICAgICAgY29uc3Qga2V5ID0gY29udHJvbERhdGEuY29udHJvbHNbaV07CiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrZXldLnByb3BlcnRpZXM7CgogICAgICAgICAgICBpZiAobGVmdCA8PSBjb250cm9sUHJvcC5MZWZ0ICsgY29udHJvbFByb3AuV2lkdGggJiYgcmlnaHQgPj0gY29udHJvbFByb3AuTGVmdCAmJiB0b3AgPD0gY29udHJvbFByb3AuVG9wICsgY29udHJvbFByb3AuSGVpZ2h0ICYmIGJvdHRvbSA+PSBjb250cm9sUHJvcC5Ub3ApIHsKICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkuaW5jbHVkZXMoa2V5KSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheS5wdXNoKGtleSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3Qgc2VsZWN0ZWRHcm91cCA9IFtdOwoKICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkpIHsKICAgICAgICAgICAgY29uc3QgY29udHJvbEdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0ucHJvcGVydGllcy5Hcm91cElEOwoKICAgICAgICAgICAgaWYgKGNvbnRyb2xHcm91cElkICYmIGNvbnRyb2xHcm91cElkICE9PSAnJykgewogICAgICAgICAgICAgICFzZWxlY3RlZEdyb3VwLmluY2x1ZGVzKGNvbnRyb2xHcm91cElkKSAmJiBzZWxlY3RlZEdyb3VwLnB1c2goY29udHJvbEdyb3VwSWQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNlbGVjdGVkR3JvdXAucHVzaCh2YWwpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250cm9sQXJyYXkubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgICAgICAgIHNlbGVjdDogewogICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmdldENvbnRhaW5lckxpc3Qoc2VsZWN0ZWRHcm91cFswXSksCiAgICAgICAgICAgICAgICBzZWxlY3RlZDogWy4uLnNlbGVjdGVkR3JvdXBdCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uICBkZWFjdGl2YXRlIHRoZSBhbGwgY29udHJvbCBwcmVzZW50IGluIGNvbnRhaW5lcgogICAqIEBmdW5jdGlvbiBkZUFjdGl2ZUNvbnRyb2wKICAgKiBAcGFyYW0gdGhpcyAgLSBWdWVDb21wb25lbnQgb2YgY29udGFpbmVyCiAgICogQGV2ZW50IG1vdXNlZG93bgogICAqLwoKCiAgZGVBY3RpdmVDb250cm9sKCkgewogICAgY29uc3QgY29udHJvbFR5cGUgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udHJvbElkXS50eXBlOwoKICAgIGlmICh0aGlzLnNlbE11bHRpcGxlQ3RybCA9PT0gZmFsc2UgJiYgdGhpcy5hY3RpdmF0ZUN0cmwgPT09IGZhbHNlKSB7CiAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgIHNlbGVjdDogewogICAgICAgICAgY29udGFpbmVyOiBjb250cm9sVHlwZSA9PT0gJ1VzZXJmb3JtJyA/IFt0aGlzLmNvbnRyb2xJZF0gOiB0aGlzLmdldENvbnRhaW5lckxpc3QodGhpcy5jb250cm9sSWQpLAogICAgICAgICAgc2VsZWN0ZWQ6IFt0aGlzLmNvbnRyb2xJZF0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gIG9wZW4gdGhlIGNvbnRleHRNZW51CiAgICogQGZ1bmN0aW9uIG9wZW5NZW51CiAgICogQHBhcmFtICBlIC0+IGl0IGlzIG9mIHR5cGUgTW91c2VFdmVudAogICAqIEBwYXJhbSAgcGFyZW50SUQgLT4gQ29udGFpbmVySWQKICAgKiBAcGFyYW0gIHBhcmVudElEIC0+IGNvbnRyb2xJZAogICAqIEBldmVudCBjb250ZXh0bWVudQogICAqLwoKCiAgb3Blbk1lbnUoZSwgcGFyZW50SUQsIGNvbnRyb2xJRCwgdHlwZSwgbW9kZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgY29uc3QgaWQgPSBlLnRhcmdldC5pZCA/IGUudGFyZ2V0LmlkIDogJyc7CiAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkOwogICAgY29uc3QgdXNlckRhdGEgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdOwogICAgbGV0IGdyb3VwSWQgPSAnJzsKCiAgICBpZiAoIXNlbGVjdGVkLmluY2x1ZGVzKGNvbnRyb2xJRCkpIHsKICAgICAgZ3JvdXBJZCA9IHVzZXJEYXRhW2NvbnRyb2xJRF0udHlwZSA9PT0gJ011bHRpUGFnZScgPyBzZWxlY3RlZFswXSA6IGNvbnRyb2xJRDsKCiAgICAgIGlmICgnR3JvdXBJRCcgaW4gdXNlckRhdGFbY29udHJvbElEXS5wcm9wZXJ0aWVzICYmIHVzZXJEYXRhW2NvbnRyb2xJRF0ucHJvcGVydGllcy5Hcm91cElEICE9PSAnJykgewogICAgICAgIGdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xJRF0ucHJvcGVydGllcy5Hcm91cElEOwogICAgICB9CgogICAgICBpZiAoZ3JvdXBJZCAmJiAhc2VsZWN0ZWQuaW5jbHVkZXMoZ3JvdXBJZCkpIHsKICAgICAgICB0aGlzLnNlbGVjdENvbnRyb2woewogICAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgICAgc2VsZWN0OiB7CiAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXJMaXN0KGdyb3VwSWQpLAogICAgICAgICAgICBzZWxlY3RlZDogW2dyb3VwSWRdCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICBjb25zdCBjb250cm9sVHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bY29udHJvbElEXS50eXBlOwogICAgY29uc3QgY29udGFpbmVyVHlwZSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250YWluZXJJZF0udHlwZTsKCiAgICBpZiAodHlwZSA9PT0gJ2NvbnRhaW5lcicgJiYgIWdyb3VwSWQuc3RhcnRzV2l0aCgnZ3JvdXAnKSAmJiBzZWxlY3RlZC5sZW5ndGggPD0gMSkgewogICAgICB0aGlzLmNvbnRleHRNZW51VHlwZSA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbnRleHRNZW51VHlwZSA9IGZhbHNlOwogICAgfQoKICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBlLnRhcmdldC5zdHlsZTsKICAgIGNvbnN0IGNvbnRyb2xMZWZ0ID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtjb250cm9sSURdLnByb3BlcnRpZXMuTGVmdDsKICAgIGNvbnN0IGNvbnRyb2xUb3AgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xJRF0ucHJvcGVydGllcy5Ub3A7CiAgICB0aGlzLnRvcCA9IGNvbnRyb2xUeXBlID09PSAnRnJhbWUnIHx8IGNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJyA/IHR5cGUgPT09ICdjb250YWluZXInID8gaWQuc3RhcnRzV2l0aCgnZ3JvdXAnKSA/IGAke3BhcnNlSW50KHRhcmdldEVsZW1lbnQudG9wKSArIGUub2Zmc2V0WX1weGAgOiBgJHtlLm9mZnNldFl9cHhgIDogYCR7ZS5vZmZzZXRZICsgY29udHJvbFRvcCArIDMwfXB4YCA6IGNvbnRhaW5lclR5cGUgPT09ICdGcmFtZScgfHwgY29udGFpbmVyVHlwZSA9PT0gJ011bHRpUGFnZScgPyBgJHtlLm9mZnNldFkgKyBjb250cm9sVG9wfXB4YCA6IGlkLnN0YXJ0c1dpdGgoJ2dyb3VwJykgPyBgJHtwYXJzZUludCh0YXJnZXRFbGVtZW50LnRvcCkgKyBlLm9mZnNldFl9cHhgIDogYCR7ZS5vZmZzZXRZICsgY29udHJvbFRvcCArIDMwfXB4YDsKICAgIHRoaXMubGVmdCA9IGNvbnRyb2xUeXBlID09PSAnRnJhbWUnIHx8IGNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJyA/IHR5cGUgPT09ICdjb250YWluZXInID8gaWQuc3RhcnRzV2l0aCgnZ3JvdXAnKSA/IGAke3BhcnNlSW50KHRhcmdldEVsZW1lbnQubGVmdCkgKyBlLm9mZnNldFh9cHhgIDogYCR7ZS5vZmZzZXRYfXB4YCA6IGAke2Uub2Zmc2V0WCArIGNvbnRyb2xMZWZ0fXB4YCA6IGlkLnN0YXJ0c1dpdGgoJ2dyb3VwJykgPyBgJHtwYXJzZUludCh0YXJnZXRFbGVtZW50LmxlZnQpICsgZS5vZmZzZXRYfXB4YCA6IGAke2Uub2Zmc2V0WCArIGNvbnRyb2xMZWZ0fXB4YDsKICAgIHRoaXMudmlld01lbnUgPSB0cnVlOwogICAgY29uc3QgY29udHJvbExlbmd0aCA9IHNlbGVjdGVkWzBdLnN0YXJ0c1dpdGgoJ2dyb3VwJykgPyB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udHJvbElkXS5jb250cm9scy5sZW5ndGggOiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3NlbGVjdGVkWzBdXS5jb250cm9scy5sZW5ndGg7CiAgICBjb25zdCBjb250ZXh0TWVudURhdGEgPSB0eXBlID09PSAnY29udGFpbmVyJyAmJiAhZ3JvdXBJZC5zdGFydHNXaXRoKCdncm91cCcpICYmIHNlbGVjdGVkLmxlbmd0aCA8PSAxID8gdGhpcy51c2VyZm9ybUNvbnRleHRNZW51IDogdGhpcy5jb250cm9sQ29udGV4dE1lbnU7CgogICAgaWYgKChjb250cm9sVHlwZSA9PT0gJ1NwaW5CdXR0b24nIHx8IGNvbnRyb2xUeXBlID09PSAnU2Nyb2xsQmFyJyB8fCBjb250cm9sVHlwZSA9PT0gJ0xpc3RCb3gnKSAmJiBtb2RlKSB7CiAgICAgIGZvciAoY29uc3QgdmFsIG9mIGNvbnRleHRNZW51RGF0YSkgewogICAgICAgIGlmICh2YWwuaWQgPT09ICdJRF9PQkpFQ1RQUk9QJykgewogICAgICAgICAgdmFsLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIGlmICh2YWwuaWQgPT09ICdJRF9BTElHTicgfHwgdmFsLmlkID09PSAnSURfTUFLRVNBTUVTSVpFJykgewogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHZhbC52YWx1ZXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIHZhbC52YWx1ZXNbaW5kZXhdLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFsLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAoY29uc3QgdmFsIG9mIGNvbnRleHRNZW51RGF0YSkgewogICAgICAgIGlmICh2YWwuaWQgPT09ICdJRF9TRUxFQ1RBTEwnKSB7CiAgICAgICAgICB2YWwuZGlzYWJsZWQgPSBjb250cm9sTGVuZ3RoID09PSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX0RFTEVURScgJiYgdGhpcy5jb250ZXh0TWVudVR5cGUpIHsKICAgICAgICAgIHZhbC5kaXNhYmxlZCA9ICEoc2VsZWN0ZWQubGVuZ3RoID09PSAxICYmICFzZWxlY3RlZFswXS5zdGFydHNXaXRoKCdncm91cCcpICYmICh1c2VyRGF0YVtjb250cm9sSURdLnR5cGUgPT09ICdGcmFtZScgfHwgdXNlckRhdGFbc2VsZWN0ZWRbMF1dLnR5cGUgPT09ICdQYWdlJykpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX1BBU1RFJykgewogICAgICAgICAgdmFsLmRpc2FibGVkID0gT2JqZWN0LmtleXModGhpcy5jb3BpZWRDb250cm9sW3RoaXMudXNlckZvcm1JZF0pLmxlbmd0aCA9PT0gMTsKICAgICAgICB9CgogICAgICAgIGlmICh2YWwuaWQgPT09ICdJRF9DVVQnIHx8IHZhbC5pZCA9PT0gJ0lEX0NPUFknIHx8IHZhbC5pZCA9PT0gJ0lEX09CSkVDVFBST1AnIHx8IHZhbC5pZCA9PT0gJ0lEX1ZJRVdDT0RFJykgewogICAgICAgICAgdmFsLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsLmlkID09PSAnSURfR1JPVVAnIHx8IHZhbC5pZCA9PT0gJ0lEX1VOR1JPVVAnKSB7CiAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkOwogICAgICAgICAgbGV0IGdyb3VwSWQgPSBmYWxzZTsKCiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzZWxlY3RlZCkgewogICAgICAgICAgICBpZiAoIWtleS5zdGFydHNXaXRoKCdncm91cCcpICYmICFrZXkuc3RhcnRzV2l0aCgnSURfVVNFUkZPUk0nKSkgewogICAgICAgICAgICAgIGdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2tleV0ucHJvcGVydGllcy5Hcm91cElEID09PSAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IHNlbGVjdGVkR3JvdXBBcnJheSA9IHNlbGVjdGVkLmZpbHRlcih2YWwgPT4gdmFsLnN0YXJ0c1dpdGgoJ2dyb3VwJykgJiYgdmFsKTsKCiAgICAgICAgICBpZiAoIWdyb3VwSWQgJiYgc2VsZWN0ZWRHcm91cEFycmF5Lmxlbmd0aCA8PSAxKSB7CiAgICAgICAgICAgIHZhbC50ZXh0ID0gJzx1PlU8L3U+bmdyb3VwJzsKICAgICAgICAgICAgdmFsLmlkID0gJ0lEX1VOR1JPVVAnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFsLnRleHQgPSAnPHU+RzwvdT5yb3VwJzsKICAgICAgICAgICAgdmFsLmlkID0gJ0lEX0dST1VQJzsKICAgICAgICAgICAgdmFsLmRpc2FibGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQubGVuZ3RoIDw9IDE7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsLmlkID09PSAnSURfQ09OVFJPTEZPUldBUkQnIHx8IHZhbC5pZCA9PT0gJ0lEX0NPTlRST0xCQUNLV0FSRCcpIHsKICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ29uYXRpbmVyID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyWzBdOwogICAgICAgICAgdmFsLmRpc2FibGVkID0gdXNlckRhdGFbc2VsZWN0ZWRDb25hdGluZXJdLmNvbnRyb2xzLmxlbmd0aCA8PSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZhbC5pZCA9PT0gJ0lEX0FMSUdOJyB8fCB2YWwuaWQgPT09ICdJRF9NQUtFU0FNRVNJWkUnKSB7CiAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdmFsLnZhbHVlcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgaWYgKHZhbC52YWx1ZXNbaW5kZXhdLmlkID09PSAnSURfR1JJRCcpIHsKICAgICAgICAgICAgICB2YWwudmFsdWVzW2luZGV4XS5kaXNhYmxlZCA9ICEodGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQubGVuZ3RoID4gMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFsLnZhbHVlc1tpbmRleF0uZGlzYWJsZWQgPSB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5sZW5ndGggPD0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioKICAgKiBAZGVzY3JpcHRpb24gdG8gZHJhZyBhbmQgc2VsZWN0ICB0aGUgY29udG9sIGluIGNvbnRhaW5lcgogICAqIEBmdW5jdGlvbiBjYWxTZWxlY3RlZEFyZWFTdHlsZQogICAqIEBwYXJhbSBldmVudCAgLSBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQKICAgKiBAZXZlbnQgbW91c2V1cAogICAqLwoKCiAgY2FsU2VsZWN0ZWRBcmVhU3R5bGUoZXZlbnQsIHBhZ2VEYXRhKSB7CiAgICBjb25zdCB0eXBlID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLmNvbnRyb2xJZF0udHlwZTsKICAgIGNvbnN0IGNvbnRyb2xEYXRhID0gdHlwZSA9PT0gJ011bHRpUGFnZScgPyBwYWdlRGF0YSA6IHRoaXMuZGF0YTsKICAgIGNvbnN0IGxlZnQgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmxlZnQpOwogICAgY29uc3QgcmlnaHQgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmxlZnQpICsgcGFyc2VJbnQodGhpcy5zZWxlY3RlZEFyZWFTdHlsZS53aWR0aCk7CiAgICBjb25zdCB0b3AgPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLnRvcCk7CiAgICBjb25zdCBib3R0b20gPSBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLnRvcCkgKyBwYXJzZUludCh0aGlzLnNlbGVjdGVkQXJlYVN0eWxlLmhlaWdodCk7CiAgICBjb25zdCBsZWZ0QXJyYXkgPSBbXTsKCiAgICBpZiAobGVmdCAhPT0gcmlnaHQgfHwgdG9wICE9PSBib3R0b20pIHsKICAgICAgZm9yIChsZXQgaSBpbiBjb250cm9sRGF0YS5jb250cm9scykgewogICAgICAgIGNvbnN0IGtleSA9IGNvbnRyb2xEYXRhLmNvbnRyb2xzW2ldOwogICAgICAgIGNvbnN0IGNvbnRyb2xQcm9wID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVtrZXldLnByb3BlcnRpZXM7CgogICAgICAgIGlmIChsZWZ0IDw9IGNvbnRyb2xQcm9wLkxlZnQgKyBjb250cm9sUHJvcC5XaWR0aCAmJiByaWdodCA+PSBjb250cm9sUHJvcC5MZWZ0ICYmIHRvcCA8PSBjb250cm9sUHJvcC5Ub3AgKyBjb250cm9sUHJvcC5IZWlnaHQgJiYgYm90dG9tID49IGNvbnRyb2xQcm9wLlRvcCkgewogICAgICAgICAgdGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheS5wdXNoKGtleSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBzZWxlY3RlZEdyb3VwID0gW107CgogICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLnNlbGVjdGVkQ29udHJvbEFycmF5KSB7CiAgICAgICAgY29uc3QgY29udHJvbEdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3ZhbF0ucHJvcGVydGllcy5Hcm91cElEOwoKICAgICAgICBpZiAoY29udHJvbEdyb3VwSWQgJiYgY29udHJvbEdyb3VwSWQgIT09ICcnKSB7CiAgICAgICAgICAhc2VsZWN0ZWRHcm91cC5pbmNsdWRlcyhjb250cm9sR3JvdXBJZCkgJiYgc2VsZWN0ZWRHcm91cC5wdXNoKGNvbnRyb2xHcm91cElkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZWN0ZWRHcm91cC5wdXNoKHZhbCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5zZWxlY3RlZENvbnRyb2xBcnJheS5sZW5ndGggIT09IDApIHsKICAgICAgICBpZiAodGhpcy5zZWxNdWx0aXBsZUN0cmwpIHsKICAgICAgICAgIGxldCBzZWxlY3RlZCA9IFsuLi50aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZF07CgogICAgICAgICAgaWYgKHNlbGVjdGVkWzBdID09PSBjb250cm9sRGF0YS5wcm9wZXJ0aWVzLklEKSB7CiAgICAgICAgICAgIHNlbGVjdGVkID0gW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxlY3RlZCA9IFsuLi5zZWxlY3RlZF07CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IGNvbWJpbmVBcnJheSA9IHNlbGVjdGVkLmZpbHRlcih4ID0+ICFzZWxlY3RlZEdyb3VwLmluY2x1ZGVzKHgpKS5jb25jYXQoc2VsZWN0ZWRHcm91cC5maWx0ZXIoeCA9PiAhc2VsZWN0ZWQuaW5jbHVkZXMoeCkpKTsKICAgICAgICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgICAgICAgc2VsZWN0OiB7CiAgICAgICAgICAgICAgY29udGFpbmVyOiBjb21iaW5lQXJyYXkubGVuZ3RoID4gMCA/IHRoaXMuZ2V0Q29udGFpbmVyTGlzdChjb21iaW5lQXJyYXlbMF0pIDogdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uY29udGFpbmVyLAogICAgICAgICAgICAgIHNlbGVjdGVkOiBjb21iaW5lQXJyYXkubGVuZ3RoID4gMCA/IGNvbWJpbmVBcnJheSA6IFt0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJbMF1dCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbGVjdENvbnRyb2woewogICAgICAgICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgICAgICAgIHNlbGVjdDogewogICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRDb250YWluZXJMaXN0KHNlbGVjdGVkR3JvdXBbMF0pLAogICAgICAgICAgICAgIHNlbGVjdGVkOiBbLi4uc2VsZWN0ZWRHcm91cF0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKfQoKX19kZWNvcmF0ZShbUHJvcCh7CiAgcmVxdWlyZWQ6IHRydWUsCiAgdHlwZTogU3RyaW5nCn0pXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAidXNlckZvcm1JZCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICByZXF1aXJlZDogdHJ1ZSwKICB0eXBlOiBTdHJpbmcKfSldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJjb250YWluZXJJZCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtTdGF0ZShzdGF0ZSA9PiBzdGF0ZS5mZC50b29sQm94U2VsZWN0KV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgInRvb2xCb3hTZWxlY3QiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQuY29weUNvbnRyb2xMaXN0KV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgImNvcHlDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLnVzZXJmb3JtRGF0YSldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJ1c2VyZm9ybURhdGEiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQuc2VsZWN0ZWRDb250cm9scyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJzZWxlY3RlZENvbnRyb2xzIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1N0YXRlKHN0YXRlID0+IHN0YXRlLmZkLmdyb3VwZWRDb250cm9scyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJncm91cGVkQ29udHJvbHMiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbU3RhdGUoc3RhdGUgPT4gc3RhdGUuZmQuY29waWVkQ29udHJvbCldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJjb3BpZWRDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvY2hhbmdlVG9vbEJveFNlbGVjdCcpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAiY2hhbmdlVG9vbEJveFNlbGVjdCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL3NlbGVjdENvbnRyb2wnKV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgInNlbGVjdENvbnRyb2wiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC9hZGRDb250cm9sJyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJhZGRDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvdXBkYXRlQ29weUNvbnRyb2xMaXN0JyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJ1cGRhdGVDb3B5Q29udHJvbExpc3QiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbQWN0aW9uKCdmZC9kZWxldGVDb250cm9sJyldLCBGZENvbnRhaW5lclZ1ZS5wcm90b3R5cGUsICJkZWxldGVDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvdXBkYXRlR3JvdXAnKV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgInVwZGF0ZUdyb3VwIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvdXBkYXRlQ29udHJvbCcpXSwgRmRDb250YWluZXJWdWUucHJvdG90eXBlLCAidXBkYXRlQ29udHJvbCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL3VwZGF0ZUNvbnRyb2xFeHRyYURhdGEnKV0sIEZkQ29udGFpbmVyVnVlLnByb3RvdHlwZSwgInVwZGF0ZUNvbnRyb2xFeHRyYURhdGEiLCB2b2lkIDApOw=="},{"version":3,"sources":["/home/mobiotics/Projects/formcontrols/node_modules/eslint-loader/index.js??ref--13-0!/home/mobiotics/Projects/formcontrols/src/api/abstract/FormDesigner/FdContainerVue.ts"],"names":[],"mappings":"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","sourcesContent":["import { Prop, Vue } from 'vue-property-decorator'\nimport { controlProperties } from '@/FormDesigner/controls-properties'\nimport FdControlVue from './FdControlVue'\nimport { Action, State } from 'vuex-class'\nimport { IaddControl, IchangeToolBoxSelect, IdeleteControl, IselectControl, IupdateControl, IupdateControlExtraData, IupdateCopyControlList, IupdateGroup } from '@/storeModules/fd/actions'\n\nimport { controlContextMenu } from '@/FormDesigner/models/controlContextMenuData'\nimport { userformContextMenu } from '@/FormDesigner/models/userformContextMenuData'\nimport { ControlPropertyData } from '@/FormDesigner/models/ControlsTableProperties/ControlPropertyData.ts'\nimport { EventBus } from '@/FormDesigner/event-bus'\n\nexport default abstract class FdContainerVue extends FdControlVue {\n  @Prop({ required: true, type: String }) public readonly userFormId!: string\n  @Prop({ required: true, type: String }) public readonly containerId!: string\n  @State((state: rootState) => state.fd.toolBoxSelect) toolBoxSelect!: fdState['toolBoxSelect'];\n  @State((state) => state.fd.copyControlList) copyControl!: copyControl;\n  @State((state) => state.fd.userformData) userformData!: userformData;\n  @State((state) => state.fd.selectedControls) selectedControls!: fdState['selectedControls'];\n  @State(state => state.fd.groupedControls) groupedControls!: fdState['groupedControls']\n  @State((state) => state.fd.copiedControl) copiedControl!: userformData;\n\n  @Action('fd/changeToolBoxSelect') changeToolBoxSelect!: (payload: IchangeToolBoxSelect) => void;\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\n  @Action('fd/addControl') addControl!: (payload: IaddControl) => void;\n  @Action('fd/updateCopyControlList') updateCopyControlList!: (payload: IupdateCopyControlList) => void\n  @Action('fd/deleteControl') deleteControl!: (payload: IdeleteControl) => void\n  @Action('fd/updateGroup') updateGroup!: (payload: IupdateGroup) => void\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\n  @Action('fd/updateControlExtraData') updateControlExtraData!: (payload: IupdateControlExtraData) => void;\n\n  contextMenuType: boolean = false;\n  viewMenu: boolean = false\n  top: string = '0px'\n  left: string = '0px'\n\n  controlContextMenu: Array<IcontextMenu> = controlContextMenu;\n  userformContextMenu: Array<IcontextMenu> = userformContextMenu;\n  selectedControlArray: Array<string> = [];\n  selectedAreaStyle: ISelectedArea | undefined\n  selMultipleCtrl: boolean = false\n  activateCtrl: boolean = false\n  /**\n * @description  close the contextMenu\n * @function closeMenu\n * @param this  - container Vue Component\n * @event click\n */\n  closeMenu (this: this) {\n    this.viewMenu = false\n  }\n\n  get selConatiner () {\n    return this.selectedControls[this.userFormId].container\n  }\n  /**\n * @description  To get the selected ContainerList\n * @function getContainerList\n * @param selectTarget  - selcted control or group\n */\n  getContainerList (selectTarget: string) {\n    const containerList: string[] = []\n    const controlContainer = (selectTarget: string) => {\n      for (let i in this.userformData[this.userFormId]) {\n        const controlData = this.userformData[this.userFormId][i]\n        if (\n          controlData.controls.length > 0 &&\n          controlData.controls.includes(selectTarget)\n        ) {\n          containerList.push(i)\n          controlContainer(i)\n        }\n      }\n    }\n    const getControlId = (selectTarget: string) => {\n      const userData = this.userformData[this.userFormId]\n      for (let i in userData) {\n        const controlData = userData[i]\n        if (controlData.properties.GroupID === selectTarget) {\n          return i\n        }\n      }\n    }\n    if (selectTarget) {\n      const controlId = selectTarget.startsWith('group') ? getControlId(selectTarget) : selectTarget\n      if (controlId) {\n        controlContainer(controlId)\n      }\n    }\n    return containerList.length > 0 ? containerList : [this.userFormId]\n  }\n  generateUniqueName (controlName: string) {\n    let lastControlId = 0\n    const userformControlIds = Object.keys(this.userformData[this.userFormId])\n    for (let i = 0; i < userformControlIds.length; i++) {\n      const ctrlProp = this.userformData[this.userFormId][userformControlIds[i]].properties\n      if (ctrlProp.Name!.indexOf(controlName) !== -1) {\n        const IdNum =\n        ctrlProp.Name!.split(controlName).pop() || '-1'\n        const pasreId = parseInt(IdNum, 10)\n        if (!isNaN(pasreId) && lastControlId < pasreId) {\n          lastControlId = pasreId\n        }\n      }\n    }\n    return `${controlName}${lastControlId + 1}`\n  }\n  generateControlId (controlName: string) {\n    let lastControlId = 0\n    const userformControlIds = Object.keys(this.userformData[this.userFormId])\n    for (let i = 0; i < userformControlIds.length; i++) {\n      if (userformControlIds[i].indexOf(controlName) !== -1) {\n        const IdNum =\n          userformControlIds[i].split(controlName).pop() || '-1'\n        const pasreId = parseInt(IdNum, 10)\n        if (!isNaN(pasreId) && lastControlId < pasreId) {\n          lastControlId = pasreId\n        }\n      }\n    }\n    const controlPropData = new ControlPropertyData()\n    let controlObj = controlName.startsWith('Page') ? controlPropData.data['Page'] : controlPropData.data[controlName]\n    const item = JSON.parse(JSON.stringify(controlObj!))\n    lastControlId += 1\n    item.properties.ID = `ID_${controlName}${lastControlId}`\n    item.properties.Caption = `${controlName}${lastControlId}`\n    item.properties.Name = this.generateUniqueName(controlName)\n    return item\n  }\n\n  updateNewControl (parentId: string, newControlId: string, newControlData: controlData) {\n    this.addControl({\n      userFormId: this.userFormId,\n      controlId!: parentId,\n      addId: newControlId,\n      item: newControlData\n    })\n  }\n  getLowestIndex (tempControls: string[], controlLength: number, propertyType: boolean) {\n    let lastControlId = controlLength\n    const userData = this.userformData[this.userFormId]\n    for (let i = 0; i < tempControls.length; i++) {\n      const propetyName = propertyType ? userData[tempControls[i]].extraDatas!.zIndex! : userData[tempControls[i]].extraDatas!.TabIndex!\n      if (propetyName !== -1) {\n        const IdNum = propetyName\n        if (!isNaN(IdNum) && lastControlId > IdNum) {\n          lastControlId = IdNum\n        }\n      }\n    }\n    return lastControlId\n  }\n  updateZIndexValue (id: string) {\n    const userData = this.userformData[this.userFormId]\n    const container = this.getContainerList(id)[0]\n    const containerControls = this.userformData[this.userFormId][container].controls\n    const controlType = userData[id].type\n    if (controlType === 'MultiPage' || controlType === 'Frame' || controlType === 'ListBox') {\n      this.updateExtraDatas(id, 'zIndex', userData[container].controls.length)\n    } else {\n      const tempControls = []\n      for (const index in containerControls) {\n        const cntrlData = this.userformData[this.userFormId][containerControls[index]]\n        if (cntrlData.type === 'MultiPage' || cntrlData.type === 'Frame' || cntrlData.type === 'ListBox') {\n          tempControls.push(containerControls[index])\n        }\n      }\n      const lastControlId = tempControls.length > 0 ? this.getLowestIndex(tempControls, userData[container].controls.length, true)\n        : this.userformData[this.userFormId][container].controls.length\n      this.updateExtraDatas(id, 'zIndex', lastControlId)\n      for (const index of tempControls) {\n        const cntrlZIndex = this.userformData[this.userFormId][index].extraDatas!.zIndex!\n        this.updateExtraDatas(index, 'zIndex', cntrlZIndex + 1)\n      }\n    }\n  }\n  updateTabIndexValue (id: string) {\n    const userData = this.userformData[this.userFormId]\n    const container = this.getContainerList(id)[0]\n    const containerControls = this.userformData[this.userFormId][container].controls\n    const controlType = userData[id].type\n    if (controlType === 'FDImage') {\n      this.updateExtraDatas(id, 'TabIndex', userData[container].controls.length - 1)\n    } else {\n      const tempControls = []\n      for (const index in containerControls) {\n        const cntrlData = this.userformData[this.userFormId][containerControls[index]]\n        if (cntrlData.type === 'FDImage') {\n          tempControls.push(containerControls[index])\n        }\n      }\n      const lastControlId = tempControls.length > 0 ? this.getLowestIndex(tempControls, userData[container].controls.length - 1, false)\n        : this.userformData[this.userFormId][container].controls.length - 1\n      this.updateTabIndex(id, lastControlId)\n      for (const index of tempControls) {\n        const cntrlTabIndex = this.userformData[this.userFormId][index].extraDatas!.TabIndex!\n        this.updateExtraDatas(index, 'TabIndex', cntrlTabIndex + 1)\n      }\n    }\n  }\n  updateExtraDatas (id: string, propertyName: keyof extraDatas, value: number) {\n    this.updateControlExtraData({\n      userFormId: this.userFormId,\n      controlId: id,\n      propertyName: propertyName,\n      value: value\n    })\n  }\n  updateTabIndex (id: string, value: number) {\n    this.updateControl({\n      userFormId: this.userFormId,\n      controlId: id,\n      propertyName: 'TabIndex',\n      value: value\n    })\n  }\n  /**\n   * @description  add the control to its respective  container\n   * @function addControlObj\n   * @param event  - it is of type MouseEvent\n   * @param userFormId - selected Userform\n   * @event click\n   */\n  addControlObj (e: MouseEvent, pageId: string) {\n    if (this.toolBoxSelect !== 'Select' && this.toolBoxSelect !== '') {\n      const type = this.userformData[this.userFormId][this.controlId].type\n      const item = this.generateControlId(this.toolBoxSelect)\n      const sw = parseInt(this.selectedAreaStyle!.width!)\n      const sh = parseInt(this.selectedAreaStyle!.height)\n\n      item.properties.Left = (isNaN(sw!) || sw! === 0) ? e.offsetX : parseInt(this.selectedAreaStyle!.left)\n      item.properties.Top = (isNaN(sh!) || sh! === 0) ? e.offsetY : parseInt(this.selectedAreaStyle!.top)\n      item.properties.Width = (isNaN(sw!) || sw! === 0) ? item.properties.Width : sw\n      item.properties.Height = (isNaN(sh!) || sh! === 0) ? item.properties.Height : sh\n      const controls = item.controls\n      item.controls = item.type === 'MultiPage' ? [] : item.controls\n      const newControlId = type === 'MultiPage' ? pageId : this.controlId\n      this.updateNewControl(newControlId, item.properties.ID, item)\n      this.updateTabIndexValue(item.properties.ID)\n      this.updateZIndexValue(item.properties.ID)\n\n      if (item.type === 'MultiPage' && controls.length > 0) {\n        for (let i = 0; i < controls.length; i++) {\n          const parentId = item.properties.ID.split('MultiPage').pop()\n          const controlName = `Page${parentId}_`\n          const pageObj = this.generateControlId(controlName)\n          pageObj.properties.Caption = `Page${i + 1}`\n          pageObj.properties.Name = `Page${i + 1}`\n          pageObj.properties.Index = i\n          this.updateNewControl(item.properties.ID, pageObj.properties.ID, pageObj)\n        }\n      }\n      this.selectControl({\n        userFormId: this.userFormId,\n        select: {\n          container: this.getContainerList(item.properties.ID),\n          selected: [item.properties.ID]\n        }\n      })\n    }\n    this.changeToolBoxSelect('Select')\n    if (this.activateCtrl) {\n      const type = this.userformData[this.userFormId][this.controlId].type\n      const userData = this.userformData[this.userFormId]\n      const controlData: controlData = type === 'MultiPage' ? userData[pageId] : this.data\n      if (controlData.properties.ID === this.selectedControls[this.userFormId].container[0]) {\n        let left = 0\n        let right = 0\n        let top = 0\n        let bottom = 0\n        if (this.activateCtrl) {\n          let mainSelected = this.selectedControls[this.userFormId].selected[0]\n          let divstyle: Array<IGroupStyle> = []\n          if (mainSelected.startsWith('group') || userData[this.controlId].properties.GroupID !== '') {\n            EventBus.$emit('getGroupSize', (divstayleArray: Array<IGroupStyle>) => {\n              divstyle = divstayleArray\n            })\n          }\n          let mainCtrl: controlProperties = { ID: '' }\n          if (mainSelected.startsWith('group')) {\n            const getIndex = divstyle.findIndex(val => val.groupName === mainSelected)\n            mainCtrl = {\n              Left: parseInt(divstyle[getIndex].left!),\n              Top: parseInt(divstyle[getIndex].top!),\n              Width: parseInt(divstyle[getIndex].width!),\n              Height: parseInt(divstyle[getIndex].height!),\n              ID: ''\n            }\n          } else {\n            mainCtrl = userData[mainSelected].properties\n            if (this.selectedControls[this.userFormId].selected.length === 1) {\n              const selType = this.userformData[this.userFormId][mainSelected].type\n              if (selType === 'Userform' || selType === 'Frame' || selType === 'Page' || selType === 'MultiPage') {\n                mainSelected = ''\n              }\n            }\n          }\n          if (mainSelected !== '') {\n            let sideCtrl = {\n              Left: e.offsetX,\n              Top: e.offsetY,\n              Width: 0,\n              Height: 0,\n              ID: ''\n            }\n            const selectedSize = {\n              Left: mainCtrl.Left! < sideCtrl.Left! ? mainCtrl.Left! : sideCtrl.Left!,\n              Top: mainCtrl.Top! < sideCtrl.Top! ? mainCtrl.Top! : sideCtrl.Top!,\n              Width: (mainCtrl.Left! + mainCtrl.Width!) > (sideCtrl.Left! + sideCtrl.Width!) ? mainCtrl.Left! + mainCtrl.Width! : sideCtrl.Left! + sideCtrl.Width!,\n              Height: (mainCtrl.Top! + mainCtrl.Height!) > (sideCtrl.Top! + sideCtrl.Height!) ? mainCtrl.Top! + mainCtrl.Height! : sideCtrl.Top! + sideCtrl.Height!\n            }\n            left = selectedSize.Left\n            top = selectedSize.Top\n            right = selectedSize.Width\n            bottom = selectedSize.Height\n          }\n        } else {\n          left = parseInt(this.selectedAreaStyle!.left)\n          right =\n          parseInt(this.selectedAreaStyle!.left) +\n          parseInt(this.selectedAreaStyle!.width)\n          top = parseInt(this.selectedAreaStyle!.top)\n          bottom =\n          parseInt(this.selectedAreaStyle!.top) +\n          parseInt(this.selectedAreaStyle!.height)\n        }\n        const leftArray: Array<number> = []\n        if (left !== right || top !== bottom) {\n          this.selectedControlArray = []\n          for (let i in controlData.controls) {\n            const key: string = controlData.controls[i]\n            const controlProp: controlProperties = this.userformData[this.userFormId][key].properties\n            if (\n              left <= controlProp!.Left! + controlProp!.Width! &&\n              right >= controlProp!.Left! &&\n              top <= controlProp!.Top! + controlProp!.Height! &&\n              bottom >= controlProp!.Top!\n            ) {\n              if (!this.selectedControlArray.includes(key)) { this.selectedControlArray.push(key) }\n            }\n          }\n          const selectedGroup: string[] = []\n          for (const val of this.selectedControlArray) {\n            const controlGroupId: string = this.userformData[this.userFormId][val]\n              .properties.GroupID!\n            if (controlGroupId && controlGroupId !== '') {\n              !selectedGroup.includes(controlGroupId)! &&\n                selectedGroup.push(controlGroupId)\n            } else {\n              selectedGroup.push(val)\n            }\n          }\n          if (this.selectedControlArray.length !== 0) {\n            this.selectControl({\n              userFormId: this.userFormId,\n              select: {\n                container: this.getContainerList(selectedGroup[0]),\n                selected: [...selectedGroup]\n              }\n            })\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * @description  deactivate the all control present in container\n   * @function deActiveControl\n   * @param this  - VueComponent of container\n   * @event mousedown\n   */\n  deActiveControl (this: this) {\n    const controlType: string = this.userformData[this.userFormId][this.controlId].type\n    if (this.selMultipleCtrl === false && this.activateCtrl === false) {\n      this.selectControl({\n        userFormId: this.userFormId,\n        select: { container: controlType === 'Userform' ? [this.controlId] : this.getContainerList(this.controlId), selected: [this.controlId] }\n      })\n    }\n  }\n\n  /**\n   * @description  open the contextMenu\n   * @function openMenu\n   * @param  e -> it is of type MouseEvent\n   * @param  parentID -> ContainerId\n   * @param  parentID -> controlId\n   * @event contextmenu\n   */\n  openMenu (e: MouseEvent, parentID: string, controlID: string, type: string, mode: boolean) {\n    e.preventDefault()\n    const id = (e.target! as HTMLDivElement).id ? (e.target! as HTMLDivElement).id : ''\n    const selected = this.selectedControls[this.userFormId].selected\n    const userData = this.userformData[this.userFormId]\n    let groupId = ''\n    if (!selected.includes(controlID)) {\n      groupId = userData[controlID].type === 'MultiPage' ? selected[0] : controlID\n      if ('GroupID' in userData[controlID].properties && userData[controlID].properties.GroupID !== '') {\n        groupId = this.userformData[this.userFormId][controlID].properties.GroupID!\n      }\n      if (groupId && !selected.includes(groupId)) {\n        this.selectControl({\n          userFormId: this.userFormId,\n          select: { container: this.getContainerList(groupId), selected: [groupId] }\n        })\n      }\n    }\n    const controlType = this.userformData[this.userFormId][controlID].type\n    const containerType = this.userformData[this.userFormId][this.containerId].type\n    if (type === 'container' && !groupId.startsWith('group') && selected.length <= 1) {\n      this.contextMenuType = true\n    } else {\n      this.contextMenuType = false\n    }\n    const targetElement = (e.target! as HTMLDivElement).style\n    const controlLeft: number | undefined = this.userformData[this.userFormId][controlID].properties.Left!\n    const controlTop: number | undefined = this.userformData[this.userFormId][controlID].properties.Top!\n    this.top = controlType === 'Frame' || controlType === 'MultiPage'\n      ? (type === 'container'\n        ? (id.startsWith('group') ? `${parseInt(targetElement.top) + e.offsetY}px` : `${e.offsetY}px`)\n        : `${e.offsetY + controlTop! + 30}px`)\n      : (containerType === 'Frame' || containerType === 'MultiPage')\n        ? `${e.offsetY + controlTop!}px`\n        : id.startsWith('group')\n          ? `${parseInt(targetElement.top) + e.offsetY}px`\n          : `${e.offsetY + controlTop! + 30}px`\n    this.left =\n    controlType === 'Frame' || controlType === 'MultiPage'\n      ? (type === 'container'\n        ? (id.startsWith('group') ? `${parseInt(targetElement.left) + e.offsetX}px` : `${e.offsetX}px`)\n        : `${e.offsetX + controlLeft!}px`)\n      : id.startsWith('group')\n        ? `${parseInt(targetElement.left) + e.offsetX}px`\n        : `${e.offsetX + controlLeft!}px`\n    this.viewMenu = true\n    const controlLength = selected[0].startsWith('group') ? this.userformData[this.userFormId][this.controlId].controls.length : this.userformData[this.userFormId][selected[0]].controls.length\n    const contextMenuData = (type === 'container' && !groupId.startsWith('group') && selected.length <= 1)\n      ? this.userformContextMenu\n      : this.controlContextMenu\n    if ((controlType === 'SpinButton' || controlType === 'ScrollBar' || controlType === 'ListBox') && mode) {\n      for (const val of contextMenuData) {\n        if (val.id === 'ID_OBJECTPROP') {\n          val.disabled = false\n        } else if (val.id === 'ID_ALIGN' || val.id === 'ID_MAKESAMESIZE') {\n          for (let index = 0; index < val.values.length; index++) {\n            val.values[index].disabled = true\n          }\n        } else {\n          val.disabled = true\n        }\n      }\n    } else {\n      for (const val of contextMenuData) {\n        if (val.id === 'ID_SELECTALL') {\n          val.disabled = controlLength === 0\n        }\n        if (val.id === 'ID_DELETE' && this.contextMenuType) {\n          val.disabled = !(selected.length === 1 && !selected[0].startsWith('group') &&\n            (userData[controlID].type === 'Frame' || userData[selected[0]].type === 'Page'))\n        }\n        if (val.id === 'ID_PASTE') {\n          val.disabled = Object.keys(this.copiedControl[this.userFormId]).length === 1\n        }\n        if (val.id === 'ID_CUT' || val.id === 'ID_COPY' || val.id === 'ID_OBJECTPROP' || val.id === 'ID_VIEWCODE') {\n          val.disabled = false\n        }\n        if (val.id === 'ID_GROUP' || val.id === 'ID_UNGROUP') {\n          const selected = this.selectedControls[this.userFormId].selected\n          let groupId: boolean = false\n          for (const key of selected) {\n            if (!key.startsWith('group') && !key.startsWith('ID_USERFORM')) {\n              groupId =\n                  this.userformData[this.userFormId][key].properties.GroupID === ''\n            }\n          }\n          const selectedGroupArray = selected.filter(\n            (val: string) => val.startsWith('group') && val\n          )\n          if (!groupId && selectedGroupArray.length <= 1) {\n            val.text = '<u>U</u>ngroup'\n            val.id = 'ID_UNGROUP'\n          } else {\n            val.text = '<u>G</u>roup'\n            val.id = 'ID_GROUP'\n            val.disabled =\n                this.selectedControls[this.userFormId].selected.length <= 1\n          }\n        }\n        if (val.id === 'ID_CONTROLFORWARD' || val.id === 'ID_CONTROLBACKWARD') {\n          const selectedConatiner = this.selectedControls[this.userFormId].container[0]\n          val.disabled = userData[selectedConatiner].controls.length <= 1\n        }\n        if (val.id === 'ID_ALIGN' || val.id === 'ID_MAKESAMESIZE') {\n          for (let index = 0; index < val.values.length; index++) {\n            if (val.values[index].id === 'ID_GRID') {\n              val.values[index].disabled = !(this.selectedControls[this.userFormId].selected.length > 0)\n            } else {\n              val.values[index].disabled = this.selectedControls[this.userFormId].selected.length <= 1\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * @description to drag and select  the contol in container\n   * @function calSelectedAreaStyle\n   * @param event  - it is of type MouseEvent\n   * @event mouseup\n   */\n  calSelectedAreaStyle (event: MouseEvent, pageData: controlData) {\n    const type = this.userformData[this.userFormId][this.controlId].type\n    const controlData: controlData = type === 'MultiPage' ? pageData : this.data\n    const left = parseInt(this.selectedAreaStyle!.left)\n    const right =\n        parseInt(this.selectedAreaStyle!.left) +\n        parseInt(this.selectedAreaStyle!.width)\n    const top = parseInt(this.selectedAreaStyle!.top)\n    const bottom =\n        parseInt(this.selectedAreaStyle!.top) +\n        parseInt(this.selectedAreaStyle!.height)\n    const leftArray: Array<number> = []\n    if (left !== right || top !== bottom) {\n      for (let i in controlData.controls) {\n        const key: string = controlData.controls[i]\n        const controlProp: controlProperties = this.userformData[this.userFormId][key].properties\n        if (\n          left <= controlProp!.Left! + controlProp!.Width! &&\n            right >= controlProp!.Left! &&\n            top <= controlProp!.Top! + controlProp!.Height! &&\n            bottom >= controlProp!.Top!\n        ) {\n          this.selectedControlArray.push(key)\n        }\n      }\n      const selectedGroup: string[] = []\n      for (const val of this.selectedControlArray) {\n        const controlGroupId: string = this.userformData[this.userFormId][val]\n          .properties.GroupID!\n        if (controlGroupId && controlGroupId !== '') {\n          !selectedGroup.includes(controlGroupId)! &&\n              selectedGroup.push(controlGroupId)\n        } else {\n          selectedGroup.push(val)\n        }\n      }\n      if (this.selectedControlArray.length !== 0) {\n        if (this.selMultipleCtrl) {\n          let selected = [...this.selectedControls[this.userFormId].selected]\n          if (selected[0] === controlData.properties.ID) {\n            selected = []\n          } else {\n            selected = [...selected]\n          }\n          let combineArray = selected.filter(x => !selectedGroup.includes(x)).concat(selectedGroup.filter(x => !selected.includes(x)))\n          this.selectControl({\n            userFormId: this.userFormId,\n            select: {\n              container: combineArray.length > 0 ? this.getContainerList(combineArray[0]) : this.selectedControls[this.userFormId].container,\n              selected: combineArray.length > 0 ? combineArray : [this.selectedControls[this.userFormId].container[0]]\n            }\n          })\n        } else {\n          this.selectControl({\n            userFormId: this.userFormId,\n            select: {\n              container: this.getContainerList(selectedGroup[0]),\n              selected: [...selectedGroup]\n            }\n          })\n        }\n      }\n    }\n  }\n}\n"],"sourceRoot":""}]}