{"remainingRequest":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js!/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js??ref--14-2!/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/molecules/FDUserformTabOrder/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/molecules/FDUserformTabOrder/index.vue","mtime":1610544258558},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9Gb3JtRGVzaWduZXIvZXZlbnQtYnVzJzsKaW1wb3J0IHsgU3RhdGUsIEFjdGlvbiB9IGZyb20gJ3Z1ZXgtY2xhc3MnOwppbXBvcnQgRmREaWFsb2dEcmFnVnVlIGZyb20gJ0AvYXBpL2Fic3RyYWN0L0Zvcm1EZXNpZ25lci9GZERpYWxvZ0RyYWdWdWUnOwpsZXQgRkRVc2VyZm9ybVRhYk9yZGVyID0gY2xhc3MgRkRVc2VyZm9ybVRhYk9yZGVyIGV4dGVuZHMgRmREaWFsb2dEcmFnVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLmlzVGFiT3JkZXJPcGVuID0gZmFsc2U7CiAgICB0aGlzLnVzZXJGb3JtSWQgPSAnJzsKICAgIHRoaXMuY3VycmVudEluZGV4ID0gLTE7CiAgICB0aGlzLnRhYk9yZGVyTGlzdCA9IFtdOwogICAgdGhpcy5jb250cm9sVHlwZSA9ICcnOwogICAgdGhpcy5jb250YWluZXJJZCA9ICcnOwogIH0KCiAgZ2V0IGJ1dHRvbkRpc2FibGVkKCkgewogICAgcmV0dXJuICEodGhpcy50YWJPcmRlckxpc3QubGVuZ3RoID4gMSk7CiAgfQoKICB1cGRhdGVDb250cm9sRGF0YSgpIHsKICAgIGNvbnN0IGNvbnRyb2xOdW0gPSB0aGlzLnRhYk9yZGVyTGlzdC5sZW5ndGg7CiAgICBsZXQgcHJvcGVydHlOYW1lID0gdGhpcy5jb250cm9sVHlwZSA9PT0gJ011bHRpUGFnZScgPyAnSW5kZXgnIDogJ1RhYkluZGV4JzsKICAgIGNvbnN0IGNvbnRyb2xzQXJyYXkgPSBbXTsKCiAgICBmb3IgKGxldCB0YWJJbmRleCA9IDA7IGNvbnRyb2xOdW0gPiB0YWJJbmRleDsgdGFiSW5kZXgrKykgewogICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PT0gJ011bHRpUGFnZScpIHsKICAgICAgICBjb250cm9sc0FycmF5LnB1c2godGhpcy50YWJPcmRlckxpc3RbdGFiSW5kZXhdLmNvbnRyb2xJZCk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlQ29udHJvbCh7CiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgIGNvbnRyb2xJZDogdGhpcy50YWJPcmRlckxpc3RbdGFiSW5kZXhdLmNvbnRyb2xJZCwKICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgICB2YWx1ZTogdGFiSW5kZXgKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHRoaXMuY29udHJvbFR5cGUgPT09ICdNdWx0aVBhZ2UnKSB7CiAgICAgIHRoaXMuc2V0Q2hpbGRDb250cm9scyh7CiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgIGNvbnRhaW5lcklkOiB0aGlzLmNvbnRhaW5lcklkLAogICAgICAgIHRhcmdldENvbnRyb2xzOiBjb250cm9sc0FycmF5CiAgICAgIH0pOwogICAgfQoKICAgIHRoaXMuY2xvc2VEaWFsb2coKTsKICB9CgogIGNyZWF0ZWQoKSB7CiAgICBFdmVudEJ1cy4kb24oJ3VzZXJGb3JtVGFiT3JkZXInLCAodXNlckZvcm1JZCwgY29udHJvbElkLCB0eXBlKSA9PiB7CiAgICAgIHRoaXMuY29udHJvbFR5cGUgPSB0eXBlOwogICAgICBjb25zdCB0YWJPcmRlckNvbnRyb2xEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJmb3JtRGF0YVt1c2VyRm9ybUlkXVtjb250cm9sSWRdKSk7CiAgICAgIGNvbnN0IHRhYk9yZGVyQ29udHJvbHMgPSB0YWJPcmRlckNvbnRyb2xEYXRhLmNvbnRyb2xzLmZpbHRlcih2YWwgPT4gewogICAgICAgIHJldHVybiB0aGlzLnVzZXJmb3JtRGF0YVt1c2VyRm9ybUlkXVt2YWxdLnR5cGUgIT09ICdGREltYWdlJzsKICAgICAgfSk7CiAgICAgIHRoaXMudGFiT3JkZXJMaXN0ID0gQXJyYXkodGFiT3JkZXJDb250cm9scy5sZW5ndGgpOwoKICAgICAgaWYgKHRhYk9yZGVyQ29udHJvbHMubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAobGV0IGNvbnRyb2wgb2YgdGFiT3JkZXJDb250cm9scykgewogICAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3VzZXJGb3JtSWRdW2NvbnRyb2xdOwoKICAgICAgICAgIGlmICh0YXJnZXREYXRhKSB7CiAgICAgICAgICAgIGxldCB0YXJnZXRUYWJJbmRleDsKICAgICAgICAgICAgbGV0IHRhcmdldFRhYk5hbWU7CgogICAgICAgICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PT0gJ011bHRpUGFnZScpIHsKICAgICAgICAgICAgICB0YXJnZXRUYWJJbmRleCA9IHRhcmdldERhdGEucHJvcGVydGllcy5JbmRleDsKICAgICAgICAgICAgICB0YXJnZXRUYWJOYW1lID0gdGFyZ2V0RGF0YS5wcm9wZXJ0aWVzLkNhcHRpb247CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGFyZ2V0VGFiSW5kZXggPSB0YXJnZXREYXRhLnByb3BlcnRpZXMuVGFiSW5kZXg7CiAgICAgICAgICAgICAgdGFyZ2V0VGFiTmFtZSA9IHRhcmdldERhdGEucHJvcGVydGllcy5OYW1lOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGFyZ2V0VGFiSW5kZXggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRUYWJOYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICB0aGlzLnRhYk9yZGVyTGlzdFt0YXJnZXRUYWJJbmRleF0gPSB7CiAgICAgICAgICAgICAgICBjb250cm9sSWQ6IGNvbnRyb2wsCiAgICAgICAgICAgICAgICBuYW1lOiB0YXJnZXRUYWJOYW1lCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwOwogICAgICB9CgogICAgICB0aGlzLmlzVGFiT3JkZXJPcGVuID0gdHJ1ZTsKICAgICAgdGhpcy51c2VyRm9ybUlkID0gdXNlckZvcm1JZDsKICAgICAgdGhpcy5jb250YWluZXJJZCA9IGNvbnRyb2xJZDsKICAgIH0pOwogIH0KCiAgZGVzdHJveWVkKCkgewogICAgRXZlbnRCdXMuJG9mZigndXNlckZvcm1UYWJPcmRlcicpOwogIH0KCn07CgpfX2RlY29yYXRlKFtTdGF0ZShzdGF0ZSA9PiBzdGF0ZS5mZC51c2VyZm9ybURhdGEpXSwgRkRVc2VyZm9ybVRhYk9yZGVyLnByb3RvdHlwZSwgInVzZXJmb3JtRGF0YSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtBY3Rpb24oJ2ZkL3VwZGF0ZUNvbnRyb2wnKV0sIEZEVXNlcmZvcm1UYWJPcmRlci5wcm90b3R5cGUsICJ1cGRhdGVDb250cm9sIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0FjdGlvbignZmQvc2V0Q2hpbGRDb250cm9scycpXSwgRkRVc2VyZm9ybVRhYk9yZGVyLnByb3RvdHlwZSwgInNldENoaWxkQ29udHJvbHMiLCB2b2lkIDApOwoKRkRVc2VyZm9ybVRhYk9yZGVyID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBuYW1lOiAnRkRVc2VyZm9ybVRhYk9yZGVyJwp9KV0sIEZEVXNlcmZvcm1UYWJPcmRlcik7CmV4cG9ydCBkZWZhdWx0IEZEVXNlcmZvcm1UYWJPcmRlcjs="},{"version":3,"sources":["/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/molecules/FDUserformTabOrder/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Ref } from 'vue-property-decorator'\nimport { EventBus } from '@/FormDesigner/event-bus'\nimport { State, Action } from 'vuex-class'\nimport { IupdateControl, IsetChildControls } from '@/storeModules/fd/actions'\nimport FdDialogDragVue, {\n  localTabOrderItem\n} from '@/api/abstract/FormDesigner/FdDialogDragVue'\n\n@Component({\n  name: 'FDUserformTabOrder'\n})\nexport default class FDUserformTabOrder extends FdDialogDragVue {\n  @State((state) => state.fd.userformData) userformData!: userformData;\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\n  @Action('fd/setChildControls') setChildControls!: (\n    payload: IsetChildControls\n  ) => void;\n  isTabOrderOpen: boolean = false;\n  userFormId: string = '';\n  currentIndex: number = -1;\n  tabOrderList: localTabOrderItem[] = [];\n  controlType: string = ''\n  containerId: string = ''\n  get buttonDisabled () {\n    return !(this.tabOrderList.length > 1)\n  }\n  updateControlData () {\n    const controlNum = this.tabOrderList.length\n    let propertyName: keyof controlProperties = this.controlType === 'MultiPage' ? 'Index' : 'TabIndex'\n    const controlsArray = []\n    for (let tabIndex = 0; controlNum > tabIndex; tabIndex++) {\n      if (this.controlType === 'MultiPage') {\n        controlsArray.push(this.tabOrderList[tabIndex].controlId)\n      }\n      this.updateControl({\n        userFormId: this.userFormId,\n        controlId: this.tabOrderList[tabIndex].controlId,\n        propertyName: propertyName,\n        value: tabIndex\n      })\n    }\n    if (this.controlType === 'MultiPage') {\n      this.setChildControls({\n        userFormId: this.userFormId,\n        containerId: this.containerId,\n        targetControls: controlsArray\n      })\n    }\n    this.closeDialog()\n  }\n  created () {\n    EventBus.$on(\n      'userFormTabOrder',\n      (userFormId: string, controlId: string, type: string) => {\n        this.controlType = type\n        const tabOrderControlData = JSON.parse(JSON.stringify(this.userformData[userFormId][controlId]))\n        const tabOrderControls = tabOrderControlData.controls.filter((val: string) => {\n          return (this.userformData[userFormId][val].type !== 'FDImage')\n        })\n        this.tabOrderList = Array(tabOrderControls.length)\n\n        if (tabOrderControls.length > 0) {\n          for (let control of tabOrderControls) {\n            const targetData = this.userformData[userFormId][control]\n            if (targetData) {\n              let targetTabIndex\n              let targetTabName\n              if (this.controlType === 'MultiPage') {\n                targetTabIndex = targetData.properties.Index\n                targetTabName = targetData.properties.Caption\n              } else {\n                targetTabIndex = targetData.properties.TabIndex\n                targetTabName = targetData.properties.Name\n              }\n              if (targetTabIndex !== undefined && targetTabName !== undefined) {\n                this.tabOrderList[targetTabIndex] = {\n                  controlId: control,\n                  name: targetTabName\n                }\n              }\n            }\n          }\n          this.currentIndex = 0\n        }\n        this.isTabOrderOpen = true\n        this.userFormId = userFormId\n        this.containerId = controlId\n      }\n    )\n  }\n  destroyed () {\n    EventBus.$off('userFormTabOrder')\n  }\n}\n"],"sourceRoot":""}]}