{"remainingRequest":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDResizeUserForm/index.vue?vue&type=style&index=0&id=19eea0a4&scoped=true&lang=css&","dependencies":[{"path":"/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDResizeUserForm/index.vue","mtime":1610544258558},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmlubmVyLXdpbmRvdy1ib3JkZXIgewogIHdpZHRoOiA2MTBweDsKICBoZWlnaHQ6IDMxMHB4OwogIC0tYm9yZGVyLXdpZHRoOiA4OwogIC0tc3RyaXBlLWRpc3RhbmNlOiAxcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvcmRlcjogY2FsYyh2YXIoLS1ib3JkZXItd2lkdGgpICogMXB4KSBzb2xpZCB0cmFuc3BhcmVudDsKICBib3JkZXItaW1hZ2U6IHJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoCiAgICAgIC0xOGRlZywKICAgICAgYmxhY2ssCiAgICAgIHRyYW5zcGFyZW50IDAuMXB4LAogICAgICB0cmFuc3BhcmVudCB2YXIoLS1zdHJpcGUtZGlzdGFuY2UpLAogICAgICBibGFjayBjYWxjKHZhcigtLXN0cmlwZS1kaXN0YW5jZSkgKyAwLjlweCkKICAgICkKICAgIHZhcigtLWJvcmRlci13aWR0aCk7Cn0KLmlubmVyLXdpbmRvdy1ib3JkZXIxIHsKICB3aWR0aDogNjEwcHg7CiAgaGVpZ2h0OiAzMTBweDsKICBwYWRkaW5nOiAwcHg7CiAgLS1ib3JkZXItd2lkdGg6IDg7CiAgLS1zdHJpcGUtZGlzdGFuY2U6IDFweDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYm9yZGVyOiBjYWxjKHZhcigtLWJvcmRlci13aWR0aCkgKiAxcHgpIHNvbGlkIHRyYW5zcGFyZW50Owp9Cjpmb2N1cyB7CiAgb3V0bGluZTogbm9uZTsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/organisms/FDResizeUserForm","sourcesContent":["<template>\n  <div\n    @keydown.ctrl=\"handleKeyDown\"\n    @keydown.delete.exact=\"handleKeyDown\"\n    @keydown.tab.exact=\"tabAction\"\n    @keydown.ctrl.exact=\"selectMultipleCtrl($event,true)\"\n    @keydown.shift.exact=\"selectMultipleCtrl($event,true)\"\n    @keyup=\"selectMultipleCtrl($event,false)\"\n    tabindex=\"0\"\n  >\n    <div\n      :class=\"[\n        isInnerWindowClicked ? 'inner-window-border' : 'inner-window-border1',\n      ]\"\n      :style=\"resizeUserformStyle\"\n    >\n      <ResizeHandler\n        v-if=\"isInnerWindowClicked\"\n        :controlId=\"controlId\"\n        :userFormId=\"userFormId\"\n        controlType=\"userform\"\n        @updateUserFormResize=\"updateUserFormResize\"\n      />\n      <Userform\n        :userFormId=\"userFormId\"\n        :controlId=\"controlId\"\n        :containerId=\"controlId\"\n        :data=\"propControlData\"\n        :isRunMode=\"isRunMode\"\n        :isEditMode=\"isEditMode\"\n        ref=\"userFormRef\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Emit, Prop, Vue, Ref } from 'vue-property-decorator'\nimport { State, Action } from 'vuex-class'\n\nimport Userform from '@/FormDesigner/components/molecules/FDUserform/index.vue'\nimport ResizeHandler from '@/FormDesigner/components/molecules/FDResizeHandler/index.vue'\nimport FdSelectVue from '@/api/abstract/FormDesigner/FdSelectVue'\nimport FdContainerVue from '@/api/abstract/FormDesigner/FdContainerVue'\nimport { EventBus } from '@/FormDesigner/event-bus'\n\n@Component({\n  name: 'ResizeUserForm',\n  components: {\n    Userform,\n    ResizeHandler\n  }\n})\nexport default class ResizeUserForm extends FdSelectVue {\n  @Prop({ required: true, type: String }) public containerId!: string;\n  @Ref('userFormRef') readonly userFormRef!: Userform;\n  $el: HTMLDivElement\n\n  containerEditMode: boolean = false\n  /**\n   * @description To perform ContextMenu actions(for example: selectAll, paste etc.) on UserForm  and Control\n   * @function handleKeyDown\n   * @param event  - it is of type MouseEvent\n   * @event keydown\n   */\n  handleKeyDown (event: KeyboardEvent) {\n    this.userFormRef.containerRef.refContextMenu.updateAction(event)\n  }\n\n  /**\n   * @description propControlData is abstract class providing implementation in FDResizeUserForm by passing\n   * userFormId and controlId which is taken as props from parent Component\n   * @function propControlData\n   *\n   */\n  get propControlData (): controlData {\n    return this.userformData[this.userFormId][this.controlId]\n  }\n\n  /**\n   * @description style object to dynamically changing the styles to resize the useform  based on propControlData\n   * @function resizeUserformStyle\n   *\n   */\n  get resizeUserformStyle () {\n    return {\n      width: `${this.propControlData!.properties!.Width! + 10}px`,\n      height: `${this.propControlData!.properties!.Height! + 10}px`\n    }\n  }\n  get isInnerWindowClicked () {\n    return this.selectedControls[this.userFormId].selected.includes(\n      this.controlId\n    )\n  }\n  created () {\n    EventBus.$on('focusUserForm', () => {\n      this.$el.focus()\n    })\n    EventBus.$on('isEditMode', (isEditMode: boolean) => { this.containerEditMode = isEditMode })\n  }\n  destroyed () {\n    EventBus.$off('isEditMode')\n    EventBus.$off('focusUserForm')\n  }\n  tabAction (event: KeyboardEvent) {\n    event.preventDefault()\n    let cycleForm: boolean = false\n    const userData = this.userformData[this.userFormId]\n    let selected = this.getSelectedControlsDatas![0]\n    let container = this.selectedControls[this.userFormId].container[0]\n    const selectType = userData[selected].type\n    if ((selectType === 'Frame' || selectType === 'Page') && this.containerEditMode) {\n      container = selected\n      selected = userData[container].controls[0]\n      this.selectControl({\n        userFormId: this.userFormId,\n        select: {\n          container: this.getContainerList(selected),\n          selected: [selected]\n        }\n      })\n    } else {\n      let containerControls = userData[container].controls\n      if (containerControls.length > 0) {\n        let type = selected ? userData[selected].type : userData[container].type\n        let selectedTab = -1\n        if (type === 'Userform') {\n          selectedTab = 0\n        } else if (type === 'FDImage') {\n          selectedTab = userData[selected].extraDatas!.TabIndex! + 1\n        } else {\n          selectedTab = userData[selected].properties!.TabIndex! + 1\n        }\n        if (selectedTab > containerControls.length - 1) {\n          const continerType = userData[container].type\n          if (continerType === 'Userform') {\n            selectedTab = 0\n          } else if (continerType === 'Frame' || continerType === 'Page') {\n            if (userData[container].properties.Cycle === 0) {\n              cycleForm = true\n              this.containerEditMode = false\n            } else {\n              selectedTab = 0\n            }\n          }\n        }\n        if (cycleForm) {\n          if (userData[container].type === 'Frame') {\n            this.selectControl({\n              userFormId: this.userFormId,\n              select: {\n                container: this.getContainerList(container),\n                selected: [container]\n              }\n            })\n          } else if (userData[container].type === 'Page') {\n            console.log('container', container)\n            this.selectControl({\n              userFormId: this.userFormId,\n              select: {\n                container: this.getContainerList(this.getContainerList(container)[0]),\n                selected: [this.getContainerList(container)[0]]\n              }\n            })\n          }\n        } else {\n          const nextControlId = containerControls.findIndex((val) => {\n            const type = userData[val].type\n            if (type === 'FDImage') {\n              return userData[val].extraDatas!.TabIndex! === selectedTab\n            } else {\n              return userData[val].properties!.TabIndex! === selectedTab\n            }\n          })\n          console.log('nextControlId', nextControlId)\n          this.selectControl({\n            userFormId: this.userFormId,\n            select: {\n              container: this.getContainerList(containerControls[nextControlId]),\n              selected: [containerControls[nextControlId]]\n            }\n          })\n        }\n      }\n    }\n  }\n  selectMultipleCtrl (event: KeyboardEvent, val: boolean) {\n    if (event.key === 'Control' && event.keyCode === 17) {\n      EventBus.$emit('selectMultipleCtrl', val)\n    } else if (event.key === 'Shift' && event.keyCode === 16) {\n      EventBus.$emit('actMultipleCtrl', val)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.inner-window-border {\n  width: 610px;\n  height: 310px;\n  --border-width: 8;\n  --stripe-distance: 1px;\n  position: absolute;\n  border: calc(var(--border-width) * 1px) solid transparent;\n  border-image: repeating-linear-gradient(\n      -18deg,\n      black,\n      transparent 0.1px,\n      transparent var(--stripe-distance),\n      black calc(var(--stripe-distance) + 0.9px)\n    )\n    var(--border-width);\n}\n.inner-window-border1 {\n  width: 610px;\n  height: 310px;\n  padding: 0px;\n  --border-width: 8;\n  --stripe-distance: 1px;\n  position: absolute;\n  border: calc(var(--border-width) * 1px) solid transparent;\n}\n:focus {\n  outline: none;\n}\n</style>\n"]}]}