{"remainingRequest":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDContainer/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/formcontrols/src/FormDesigner/components/organisms/FDContainer/index.vue","mtime":1610544258558},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/formcontrols/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0LCBQcm9wLCBWdWUsIFJlZiwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgeyBTdGF0ZSwgQWN0aW9uIH0gZnJvbSAndnVleC1jbGFzcycKaW1wb3J0IFJlc2l6ZUNvbnRyb2wgZnJvbSAnQC9Gb3JtRGVzaWduZXIvY29tcG9uZW50cy9vcmdhbmlzbXMvRkRSZXNpemVDb250cm9sL2luZGV4LnZ1ZScKaW1wb3J0IENvbnRleHRNZW51IGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvYXRvbXMvRkRDb250ZXh0TWVudS9pbmRleC52dWUnCmltcG9ydCB7IGNvbnRyb2xDb250ZXh0TWVudSB9IGZyb20gJ0AvRm9ybURlc2lnbmVyL21vZGVscy9jb250cm9sQ29udGV4dE1lbnVEYXRhJwppbXBvcnQgeyB1c2VyZm9ybUNvbnRleHRNZW51IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3VzZXJmb3JtQ29udGV4dE1lbnVEYXRhJwppbXBvcnQgR3JvdXBDb250cm9sIGZyb20gJ0AvRm9ybURlc2lnbmVyL2NvbXBvbmVudHMvb3JnYW5pc21zL0ZER3JvdXBDb250cm9sL2luZGV4LnZ1ZScKaW1wb3J0IHsKICBJc2V0Q2hpbGRDb250cm9scywKICBJYWRkQ2hpbGRDb250cm9scywKICBJc2VsZWN0Q29udHJvbCwKICBJdXBkYXRlQ29udHJvbCwKICBJdXBkYXRlR3JvdXAsCiAgSXVwZGF0ZUNvbnRyb2xFeHRyYURhdGEKfSBmcm9tICdAL3N0b3JlTW9kdWxlcy9mZC9hY3Rpb25zJwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gJy4uLy4uLy4uL2V2ZW50LWJ1cycKaW1wb3J0IEZEQ29tbW9uTWV0aG9kIGZyb20gJ0AvYXBpL2Fic3RyYWN0L0Zvcm1EZXNpZ25lci9GRENvbW1vbk1ldGhvZCcKQENvbXBvbmVudCh7CiAgbmFtZTogJ0NvbnRhaW5lcicsCiAgY29tcG9uZW50czogewogICAgQ29udGV4dE1lbnUsCiAgICBHcm91cENvbnRyb2wsCiAgICBSZXNpemVDb250cm9sCiAgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWluZXIgZXh0ZW5kcyBGRENvbW1vbk1ldGhvZCB7CiAgJGVsITogSFRNTERpdkVsZW1lbnQ7CiAgY3VycmVudFNlbGVjdGVkR3JvdXA6IHN0cmluZyA9ICcnOwoKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBTdHJpbmcgfSkgcHVibGljIGNvbnRyb2xJZCE6IHN0cmluZzsKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBTdHJpbmcgfSkgdXNlckZvcm1JZCE6IHN0cmluZzsKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBTdHJpbmcgfSkgY29udGFpbmVySWQhOiBzdHJpbmc7CiAgQFByb3AoKSBtb3VzZUN1cnNvckRhdGE6IHN0cmluZzsKCiAgQFN0YXRlKChzdGF0ZSkgPT4gc3RhdGUuZmQuc2VsZWN0ZWRDb250cm9scykKICBzZWxlY3RlZENvbnRyb2xzITogZmRTdGF0ZVsnc2VsZWN0ZWRDb250cm9scyddOwogIEBTdGF0ZSgoc3RhdGUpID0+IHN0YXRlLmZkLnVzZXJmb3JtRGF0YSkgdXNlcmZvcm1EYXRhITogdXNlcmZvcm1EYXRhOwogIEBTdGF0ZSgoc3RhdGUpID0+IHN0YXRlLmZkLmdyb3VwZWRDb250cm9scykKICBncm91cGVkQ29udHJvbHMhOiBmZFN0YXRlWydncm91cGVkQ29udHJvbHMnXTsKCiAgQEFjdGlvbignZmQvdXBkYXRlR3JvdXAnKSB1cGRhdGVHcm91cCE6IChwYXlsb2FkOiBJdXBkYXRlR3JvdXApID0+IHZvaWQ7CiAgQEFjdGlvbignZmQvdXBkYXRlQ29udHJvbEV4dHJhRGF0YScpIHVwZGF0ZUNvbnRyb2xFeHRyYURhdGEhOiAocGF5bG9hZDogSXVwZGF0ZUNvbnRyb2xFeHRyYURhdGEpID0+IHZvaWQ7CiAgQEFjdGlvbignZmQvdXBkYXRlQ29udHJvbCcpIHVwZGF0ZUNvbnRyb2whOiAocGF5bG9hZDogSXVwZGF0ZUNvbnRyb2wpID0+IHZvaWQ7CiAgQEFjdGlvbignZmQvc2V0Q2hpbGRDb250cm9scycpIHNldENoaWxkQ29udHJvbHMhOiAoCiAgICBwYXlsb2FkOiBJc2V0Q2hpbGRDb250cm9scwogICkgPT4gdm9pZDsKICBAQWN0aW9uKCdmZC9hZGRDaGlsZENvbnRyb2xzJykgYWRkQ2hpbGRDb250cm9scyE6ICgKICAgIHBheWxvYWQ6IElhZGRDaGlsZENvbnRyb2xzCiAgKSA9PiB2b2lkOwogIEBBY3Rpb24oJ2ZkL3NlbGVjdENvbnRyb2wnKSBzZWxlY3RDb250cm9sITogKHBheWxvYWQ6IElzZWxlY3RDb250cm9sKSA9PiB2b2lkOwoKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBCb29sZWFuIH0pIHZpZXdNZW51OiBib29sZWFuOwogIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgY29udGV4dE1lbnVUeXBlOiBib29sZWFuOwogIEBQcm9wKHsgcmVxdWlyZWQ6IHRydWUsIHR5cGU6IFN0cmluZyB9KSB0b3A6IHN0cmluZzsKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlLCB0eXBlOiBTdHJpbmcgfSkgbGVmdDogc3RyaW5nOwogIEBQcm9wKCkgaXNFZGl0TW9kZTogYm9vbGVhbjsKICBAUHJvcCgpIHdpZHRoOiBudW1iZXIKICBAUHJvcCgpIGhlaWdodDogbnVtYmVyCgogIEBSZWYoJ2dyb3VwUmVmJykgcmVhZG9ubHkgZ3JvdXBSZWYhOiBHcm91cENvbnRyb2w7CiAgQFJlZigncmVmQ29udGV4dE1lbnUnKSByZWFkb25seSByZWZDb250ZXh0TWVudSE6IENvbnRleHRNZW51OwogIEBSZWYoJ2RyYWdTZWxlY3RvcicpIHJlYWRvbmx5IGRyYWdTZWxlY3RvcjogZHJhZ3NlbGVjdG9yOwogIEBSZWYoJ2NvbnRleHRtZW51JykgcmVhZG9ubHkgY29udGV4dG1lbnU6IEhUTUxEaXZFbGVtZW50OwoKICBjb250cm9sQ29udGV4dE1lbnU6IEFycmF5PEljb250ZXh0TWVudT4gPSBjb250cm9sQ29udGV4dE1lbnU7CiAgdXNlcmZvcm1Db250ZXh0TWVudTogQXJyYXk8SWNvbnRleHRNZW51PiA9IHVzZXJmb3JtQ29udGV4dE1lbnU7CiAgaGFuZGxlcjogc3RyaW5nID0gJyc7CiAgZ3JvdXBoYW5kbGVyOiBzdHJpbmcgPSAnJzsKICBtYWluU2VsZWN0RGF0YTogY29udHJvbERhdGEKICBjb250YWluZXJQb3NpdGlvbjogSU1vdXNlUG9zaXRpb24gPSB7IGNsaWVudFg6IDAsIGNsaWVudFk6IDAsIG1vdmVtZW50WDogMCwgbW92ZW1lbnRZOiAwIH0KICBzZWxlY3RlZEdyb3VwOiBzdHJpbmdbXSA9IFtdCiAgZ3JvdXBTdHlsZUFycmF5OiBBcnJheTxJR3JvdXBTdHlsZT4gPSBbXQoKICAvKioKICAgKiBAZGVzY3JpcHRpb24gVG8gZ2V0IHRoZSBzZWxlY3RlZCBjb250YWluZXIgIGZyb20gY29udHJvbHMgYXJlIGRyYWdnZWQKICAgKiBAZnVuY3Rpb24gc2VsZWN0ZWRDb250YWluZXIKICAgKi8KICBnZXQgc2VsZWN0ZWRDb250YWluZXIgKCkgewogICAgcmV0dXJuIFsuLi50aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5jb250YWluZXJdWzBdCiAgfQoKICAvKioKICAgKiBAZGVzY3JpcHRpb24gVG8gZ2V0IHRoZSBzZWxlY3RlZCBjb250cm9scyB0byBiZSBkcm9wcGVkCiAgICogQGZ1bmN0aW9uIHNlbGVjdGVkU2VsZWN0CiAgICovCiAgZ2V0IHNlbGVjdGVkU2VsZWN0ICgpIHsKICAgIGlmICh0aGlzLmdyb3VwaGFuZGxlciA9PT0gJ2dyb3VwZHJhZycpIHsKICAgICAgY29uc3Qgc2VsZWN0ZWRTZWxlY3QgPSBbXQogICAgICBmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuc2VsZWN0ZWRHcm91cC5sZW5ndGg7IGsrKykgewogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkR3JvdXBba10uc3RhcnRzV2l0aCgnZ3JvdXAnKSkgewogICAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0pIHsKICAgICAgICAgICAgaWYgKCFpLnN0YXJ0c1dpdGgoJ0lEX1VTRVJGT1JNJykpIHsKICAgICAgICAgICAgICBjb25zdCB1c2VyZGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0KICAgICAgICAgICAgICBpZiAodXNlcmRhdGFbaV0ucHJvcGVydGllcy5Hcm91cElEID09PSB0aGlzLnNlbGVjdGVkR3JvdXBba10pIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkU2VsZWN0LnB1c2goaSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZWN0ZWRTZWxlY3QucHVzaCh0aGlzLnNlbGVjdGVkR3JvdXBba10pCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBzZWxlY3RlZFNlbGVjdAogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRDb250cm9sc1t0aGlzLnVzZXJGb3JtSWRdLnNlbGVjdGVkCiAgICB9CiAgfQoKICAvKioKICAgKiBAZGVzY3JpcHRpb24gVG8gZ2V0IHRoZSBjb250cm9scyB0byBiZSByZW1vdmVkIGZyb20gdGhlICBzZWxlY3RlZCBjb250YWluZXIKICAgKiBAZnVuY3Rpb24gZnJvbUNvbnRhaW5lckNvbnRyb2xzCiAgICovCiAgZ2V0IGZyb21Db250YWluZXJDb250cm9scyAoKSB7CiAgICBjb25zdCBmcm9tQ29udGFpbmVyQ29udHJvbHMgPSBbLi4udGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXVt0aGlzLnNlbGVjdGVkQ29udGFpbmVyXS5jb250cm9sc10KICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWxlY3RlZFNlbGVjdC5sZW5ndGg7IGkrKykgewogICAgICBsZXQgdHJhZ2V0SWQ6IHVuZGVmaW5lZCB8IHN0cmluZyA9IHRoaXMuc2VsZWN0ZWRTZWxlY3RbaV0KICAgICAgbGV0IHRhcmdldEluZGV4ID0gZnJvbUNvbnRhaW5lckNvbnRyb2xzLmZpbmRJbmRleCgoaWQpID0+IGlkID09PSB0cmFnZXRJZCkKICAgICAgaWYgKHRhcmdldEluZGV4ICE9PSAtMSkgewogICAgICAgIGZyb21Db250YWluZXJDb250cm9scy5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpCiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmcm9tQ29udGFpbmVyQ29udHJvbHMKICB9CgogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBUbyByZW1vdmUgY2hpbENvbnRyb2xzIG9mIHNlbGVjdGVkIENvbnRhaW5lcgogICAqIEBmdW5jdGlvbiByZW1vdmVDaGlsZENvbnRyb2wKICAgKiBAcGFyYW0gc2VsZWN0ZWRTZWxlY3QgIC0gY29udHJvbCBhcnJheSB0byBiZSBkZWxldGVkCiAgICovCiAgcmVtb3ZlQ2hpbGRDb250cm9sIChpZDogc3RyaW5nLCBjb250cm9sczogc3RyaW5nW10pIHsKICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQogICAgY29uc3QgYmVmb3JlQ29udHJvbHMgPSB1c2VyRGF0YVtpZF0uY29udHJvbHMKICAgIGNvbnN0IGRlbGV0ZUNvbnRyb2xzID0gYmVmb3JlQ29udHJvbHMuZmlsdGVyKHggPT4gIWNvbnRyb2xzLmluY2x1ZGVzKHgpKQogICAgZm9yIChjb25zdCBrZXkgb2YgZGVsZXRlQ29udHJvbHMpIHsKICAgICAgdGhpcy5kZWxldGVaSW5kZXgoa2V5KQogICAgICB0aGlzLmRlbGV0ZVRhYkluZGV4KGtleSkKICAgIH0KCiAgICB0aGlzLnNldENoaWxkQ29udHJvbHMoewogICAgICB1c2VyRm9ybUlkOiB0aGlzLnVzZXJGb3JtSWQsCiAgICAgIGNvbnRhaW5lcklkOiBpZCwKICAgICAgdGFyZ2V0Q29udHJvbHM6IGNvbnRyb2xzCiAgICB9KQogIH0KCiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIFRvIGFkZCBjaGlsQ29udHJvbHMgb2Ygc2VsZWN0ZWQgQ29udGFpbmVyCiAgICogQGZ1bmN0aW9uIGFkZENoaWxkQ29udHJvbAogICAqIEBwYXJhbSBzZWxlY3RlZFNlbGVjdCAgLSBjb250cm9sIGFycmF5IHRvIGJlIGFkZGVkCiAgICovCiAgYWRkQ2hpbGRDb250cm9sIChzZWxlY3RlZFNlbGVjdDogc3RyaW5nW10pIHsKICAgIGNvbnN0IHVzZXJEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQogICAgZm9yIChjb25zdCBjb250cm9sIG9mIHNlbGVjdGVkU2VsZWN0KSB7CiAgICAgIGlmICghdXNlckRhdGFbdGhpcy5jb250YWluZXJJZF0uY29udHJvbHMuaW5jbHVkZXMoY29udHJvbCkpIHsKICAgICAgICB0aGlzLmFkZENoaWxkQ29udHJvbHMoewogICAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgICAgY29udGFpbmVySWQ6IHRoaXMuY29udGFpbmVySWQsCiAgICAgICAgICB0YXJnZXRDb250cm9sczogc2VsZWN0ZWRTZWxlY3QKICAgICAgICB9KQogICAgICB9CiAgICB9CgogICAgZm9yIChjb25zdCBpZCBvZiBzZWxlY3RlZFNlbGVjdCkgewogICAgICB0aGlzLnVwZGF0ZVRhYkluZGV4VmFsdWUoaWQpCiAgICAgIHRoaXMudXBkYXRlWkluZGV4VmFsdWUoaWQpCiAgICB9CiAgfQoKICAvKioKICAgKiBAZGVzY3JpcHRpb24gVG8gdXBkYXRlIFByb3BlcnRpZXMgb2YgQ29udHJvbAogICAqIEBmdW5jdGlvbiB1cGRhdGVDb250cm9sUHJvcAogICAqIEBwYXJhbSBpZCAgLSBzZWxjdGVkIGNvbnRyb2xJZAogICAqIEBwYXJhbSBwcm9wTmFtZSAgLSAgc2VsZWN0ZWQgY29udHJvbCBwcm9wZXJ0eSBOYW1lCiAgICogQHBhcmFtIHByb3BOYW1lICAtICBzZWxlY3RlZCBjb250cm9sIHByb3BlcnR5IFZhbHVlCiAgICovCiAgdXBkYXRlQ29udHJvbFByb3AgKGlkOiBzdHJpbmcsIHByb3BOYW1lOiBrZXlvZiBjb250cm9sUHJvcGVydGllcywgcHJvcFZhbHVlOiBudW1iZXJ8IHN0cmluZykgewogICAgdGhpcy51cGRhdGVDb250cm9sKHsKICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICBjb250cm9sSWQ6IGlkLAogICAgICBwcm9wZXJ0eU5hbWU6IHByb3BOYW1lLAogICAgICB2YWx1ZTogcHJvcFZhbHVlCiAgICB9KQogIH0KCiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIFRvIHVwZGF0ZSB0aGUgc2VsZWN0ZWRDb250cm9scyBpbiBtYWluIGRhdGEKICAgKiBAZnVuY3Rpb24gdXBkYXRlZFNlbGVjdAogICAqIEBwYXJhbSB1cGRhdGVkU2VsZWN0ICAtIHNlbGN0ZWQgQ29udGFpbmVySWQKICAgKiBAcGFyYW0gc2VsQXJyeSAgLSBzZWxjdGVkIGNvbnRyb2xMaXN0CiAgICovCiAgdXBkYXRlZFNlbGVjdCAoY29uYXRpbmVyOiBzdHJpbmdbXSwgc2VsQXJyeTogc3RyaW5nW10pIHsKICAgIHRoaXMuc2VsZWN0Q29udHJvbCh7CiAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgc2VsZWN0OiB7CiAgICAgICAgY29udGFpbmVyOiBjb25hdGluZXIsCiAgICAgICAgc2VsZWN0ZWQ6IHNlbEFycnkKICAgICAgfQogICAgfSkKICB9CgogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBJZiBjb250cm9sIGluc2lkZSB0aGUgZ3JvdXAgaXMgc2VsZWN0ZWQgZHJvcHBlZCBpbnRvIG90aGVyIGNvbnRhaW5lcgogICAqIEBmdW5jdGlvbiB1cGRhdGVHcm91cENvbnRyb2wKICAgKiBAcGFyYW0gbWFpblNlbGVjdEdyb3VwICAtIHNlbGVjdGVkIGdyb3VwCiAgICovCiAgdXBkYXRlR3JvdXBDb250cm9sIChtYWluU2VsZWN0R3JvdXA6IHN0cmluZykgewogICAgY29uc3QgcHJlc2VuZXRDb250cm9sOiBzdHJpbmdbXSA9IFtdCiAgICBpZiAobWFpblNlbGVjdEdyb3VwICYmIG1haW5TZWxlY3RHcm91cCAhPT0gJycpIHsKICAgICAgZm9yIChsZXQgY29udHJvbCBpbiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdKSB7CiAgICAgICAgY29uc3QgY29udHJvbEdyb3VwSWQgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW2NvbnRyb2xdLnByb3BlcnRpZXMuR3JvdXBJRCEKICAgICAgICBpZiAoY29udHJvbEdyb3VwSWQgJiYgY29udHJvbEdyb3VwSWQgPT09IG1haW5TZWxlY3RHcm91cCkgewogICAgICAgICAgcHJlc2VuZXRDb250cm9sLnB1c2goY29udHJvbCkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmIChwcmVzZW5ldENvbnRyb2wubGVuZ3RoID09PSAxKSB7CiAgICAgIGNvbnN0IGdyb3VwQXJyYXk6IHN0cmluZ1tdID0gWy4uLnRoaXMuZ3JvdXBlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0hLmdyb3VwQXJyYXkhXQogICAgICBjb25zdCBpbmRleCA9IGdyb3VwQXJyYXkuZmluZEluZGV4KCh2YWwpID0+IHZhbCA9PT0gbWFpblNlbGVjdEdyb3VwKQogICAgICBncm91cEFycmF5LnNwbGljZShpbmRleCwgMSkKICAgICAgdGhpcy51cGRhdGVHcm91cCh7CiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgIGdyb3VwQXJyYXk6IGdyb3VwQXJyYXkKICAgICAgfSkKICAgICAgdGhpcy51cGRhdGVDb250cm9sUHJvcChwcmVzZW5ldENvbnRyb2xbMF0sICdHcm91cElEJywgJycpCiAgICB9CiAgfQogIC8qKgogICAqIEBkZXNjcmlwdGlvbiB0byBkcmFnIGFuZCBkcm9wIHRoZSBjb250cm9sIGFuZCBncm91cCBpbnRvIHJlc3BlY3RpdmUgY29udGFpbmVyCiAgICogQGZ1bmN0aW9uIG9uTW91c2VVcAogICAqIEBwYXJhbSBldmVudCAgLSBpdCBpcyBvZiB0eXBlIE1vdXNlRXZlbnQKICAgKiBAZXZlbnQgbW91c2V1cAogICAqLwogIG9uTW91c2VVcCAoZXZlbnQ6IE1vdXNlRXZlbnQpIHsKICAgIGlmIChkb2N1bWVudC5vbm1vdXNlbW92ZSAmJiBkb2N1bWVudC5vbm1vdXNldXAgJiYgKHRoaXMuaGFuZGxlciA9PT0gJ2RyYWcnIHx8IHRoaXMuaGFuZGxlciA9PT0gJ2ZyYW1lRHJhZycgfHwgdGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSkgewogICAgICBjb25zdCB1c2VyRGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF0KICAgICAgY29uc3QgY29udGFpbmVyVHlwZSA9IHVzZXJEYXRhW3RoaXMuY29udGFpbmVySWRdLnR5cGUgPT09ICdQYWdlJyAmJiB1c2VyRGF0YVt0aGlzLmdldENvbnRhaW5lckxpc3QodGhpcy5jb250YWluZXJJZClbMF1dLnByb3BlcnRpZXMuVmFsdWUgPT09IC0xCiAgICAgIGlmICghY29udGFpbmVyVHlwZSkgewogICAgICAgIGxldCBtb3ZlVmFsdWVYOiBudW1iZXIgPSAwCiAgICAgICAgbGV0IG1vdmVWYWx1ZVk6IG51bWJlciA9IDAKICAgICAgICBsZXQgbWFpblNlbGVjdDogc3RyaW5nID0gJycKICAgICAgICBsZXQgcGFyZW50Q29uYXRpbmVyID0gJycKICAgICAgICBsZXQgY291bnQgPSAwCiAgICAgICAgbGV0IHRlbXBFdmVudCA9IHt9CiAgICAgICAgdGhpcy5zZWxlY3RlZEdyb3VwID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQKICAgICAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgKICAgICAgICAgICAgJ2dldEdyb3VwTW92ZVZhbHVlJywKICAgICAgICAgICAgKG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyLCBpZDogc3RyaW5nLCB0ZW1wRXZlbnRPYmo6IE1vdXNlRXZlbnQpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZW1wRXZlbnRPYmopCiAgICAgICAgICAgICAgbW92ZVZhbHVlWCA9IG9mZnNldFgKICAgICAgICAgICAgICBtb3ZlVmFsdWVZID0gb2Zmc2V0WQogICAgICAgICAgICAgIHRlbXBFdmVudCA9IE9iamVjdC5rZXlzKHRlbXBFdmVudE9iaikubGVuZ3RoID09PSAwID8gdGVtcEV2ZW50IDogdGVtcEV2ZW50T2JqCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIG1haW5TZWxlY3QgPSB0aGlzLmdldFNlbGVjdGVkQ29udHJvbHNEYXRhcyFbMF0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGFuZGxlciA9PT0gJ2RyYWcnKSB7CiAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgKICAgICAgICAgICAgJ2dldE1vdmVWYWx1ZScsCiAgICAgICAgICAgIChvZmZzZXRYOiBudW1iZXIsIG9mZnNldFk6IG51bWJlciwgaWQ6IHN0cmluZykgPT4gewogICAgICAgICAgICAgIG1vdmVWYWx1ZVggPSBvZmZzZXRYCiAgICAgICAgICAgICAgbW92ZVZhbHVlWSA9IG9mZnNldFkKICAgICAgICAgICAgICBtYWluU2VsZWN0ID0gaWQKICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYW5kbGVyID09PSAnZnJhbWVEcmFnJykgewogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoCiAgICAgICAgICAgICdnZXRNb3ZlVmFsdWUnLAogICAgICAgICAgICAob2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIsIGlkOiBzdHJpbmcsIHBhcmVudENvbnRyb2w6IHN0cmluZykgPT4gewogICAgICAgICAgICAgIG1vdmVWYWx1ZVggPSBvZmZzZXRYCiAgICAgICAgICAgICAgbW92ZVZhbHVlWSA9IG9mZnNldFkKICAgICAgICAgICAgICBtYWluU2VsZWN0ID0gaWQKICAgICAgICAgICAgICBwYXJlbnRDb25hdGluZXIgPSBwYXJlbnRDb250cm9sCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICB9CiAgICAgICAgaWYgKG1haW5TZWxlY3QgJiYgIXRoaXMuZ2V0U2VsZWN0ZWRDb250cm9sc0RhdGFzIS5pbmNsdWRlcyh0aGlzLmNvbnRhaW5lcklkKSkgewogICAgICAgICAgY291bnQgPSBjb3VudCArIDEKICAgICAgICAgIGxldCBmcmFtZUNvbmRpdGlvbjogYm9vbGVhbiA9IGZhbHNlCiAgICAgICAgICBpZiAodGhpcy5oYW5kbGVyID09PSAnZnJhbWVEcmFnJykgewogICAgICAgICAgICBjb25zdCBpc0NoaWxkID0gdGhpcy5nZXRDaGlsZENvbnRyb2wobWFpblNlbGVjdCkuaW5jbHVkZXModGhpcy5jb250YWluZXJJZCkgfHwgdGhpcy5jb250YWluZXJJZCA9PT0gbWFpblNlbGVjdAogICAgICAgICAgICBmcmFtZUNvbmRpdGlvbiA9IChpc0NoaWxkID09PSBmYWxzZSAmJiBwYXJlbnRDb25hdGluZXIgPT09IHRoaXMuY29udGFpbmVySWQpIHx8CiAgICAgICAgICAoaXNDaGlsZCA9PT0gZmFsc2UgJiYgdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQuaW5jbHVkZXMobWFpblNlbGVjdCkpIHx8CiAgICAgICAgICAoaXNDaGlsZCA9PT0gZmFsc2UgJiYgY291bnQgPT09IDEpCiAgICAgICAgICB9CiAgICAgICAgICBpZiAoKHRoaXMuaGFuZGxlciA9PT0gJ2ZyYW1lRHJhZycgJiYgZnJhbWVDb25kaXRpb24pIHx8IHRoaXMuaGFuZGxlciA9PT0gJ2RyYWcnIHx8IHRoaXMuZ3JvdXBoYW5kbGVyID09PSAnZ3JvdXBkcmFnJykgewogICAgICAgICAgICBjb25zdCBjdXJyZW50Q29udHJvbHNEYXRhID0gdGhpcy51c2VyZm9ybURhdGFbdGhpcy51c2VyRm9ybUlkXQogICAgICAgICAgICBjb25zdCBtYWluU2VsZWN0RGF0YSA9IGN1cnJlbnRDb250cm9sc0RhdGFbbWFpblNlbGVjdF0KICAgICAgICAgICAgY29uc3QgbWFpblNlbGVjdFggPSBtYWluU2VsZWN0RGF0YS5wcm9wZXJ0aWVzLkxlZnQKICAgICAgICAgICAgY29uc3QgbWFpblNlbGVjdFkgPSBtYWluU2VsZWN0RGF0YS5wcm9wZXJ0aWVzLlRvcAogICAgICAgICAgICBjb25zdCBjb250YWluZXJYID0gZXZlbnQuY2xpZW50WCAtIHRoaXMuJGVsLmdldENsaWVudFJlY3RzKClbMF0ueAogICAgICAgICAgICBjb25zdCBjb250YWluZXJZID0gZXZlbnQuY2xpZW50WSAtIHRoaXMuJGVsLmdldENsaWVudFJlY3RzKClbMF0ueQogICAgICAgICAgICBjb25zdCBtYWluU2VsZWN0R3JvdXA6IHN0cmluZyA9IG1haW5TZWxlY3REYXRhLnByb3BlcnRpZXMuR3JvdXBJRCEKICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTZWxlY3QgPSB0aGlzLmhhbmRsZXIgPT09ICdmcmFtZURyYWcnID8gKHRoaXMuc2VsZWN0ZWRTZWxlY3QuaW5jbHVkZXMobWFpblNlbGVjdCkgPyB0aGlzLnNlbGVjdGVkU2VsZWN0IDogW21haW5TZWxlY3RdKSA6IHRoaXMuc2VsZWN0ZWRTZWxlY3QKICAgICAgICAgICAgaWYgKHR5cGVvZiBtYWluU2VsZWN0WCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG1haW5TZWxlY3RZID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgIGlmICgodGhpcy5oYW5kbGVyID09PSAnZnJhbWVEcmFnJyB8fCB0aGlzLmhhbmRsZXIgPT09ICdkcmFnJykpIHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkU2VsZWN0LmZvckVhY2goKGlkKSA9PiB7CiAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldERhdGEgPSBjdXJyZW50Q29udHJvbHNEYXRhW2lkXS5wcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldExlZnQgPSB0YXJnZXREYXRhLkxlZnQKICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VG9wID0gdGFyZ2V0RGF0YS5Ub3AKICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRUb3AgPT09ICdudW1iZXInICYmIHR5cGVvZiB0YXJnZXRMZWZ0ID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbFByb3AoaWQsICdMZWZ0JywgY29udGFpbmVyWCArIHRhcmdldExlZnQgLSBtYWluU2VsZWN0WCAtIG1vdmVWYWx1ZVgpCiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDb250cm9sUHJvcChpZCwgJ1RvcCcsIGNvbnRhaW5lclkgKyB0YXJnZXRUb3AgLSBtYWluU2VsZWN0WSAtIG1vdmVWYWx1ZVkpCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFuZGxlciA9PT0gJ2RyYWcnKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAobWFpblNlbGVjdEdyb3VwICE9PSAnJyAmJiB0aGlzLnNlbGVjdGVkQ29udGFpbmVyICE9PSB0aGlzLmNvbnRhaW5lcklkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udHJvbFByb3AoaWQsICdHcm91cElEJywgJycpCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlR3JvdXBDb250cm9sKG1haW5TZWxlY3RHcm91cCkKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdyb3VwaGFuZGxlciA9PT0gJ2dyb3VwZHJhZycgJiYgdGhpcy5zZWxlY3RlZENvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJJZCkgewogICAgICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2dldENsaWVudFZhbHVlJywgJ3NhbWUnKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVyID09PSAnZnJhbWVEcmFnJyAmJiB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW3RoaXMuY29udGFpbmVySWRdLmNvbnRyb2xzLmluY2x1ZGVzKG1haW5TZWxlY3QpKSB7CiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkKICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNldXAoZXZlbnQpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb250YWluZXIgIT09IHRoaXMuY29udGFpbmVySWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IG1haW5TZWxDb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lckxpc3QobWFpblNlbGVjdClbMF0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5pbmNsdWRlcyhtYWluU2VsZWN0KSB8fCB0aGlzLmdyb3VwaGFuZGxlciA9PT0gJ2dyb3VwZHJhZycpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZENvbnRyb2wodGhpcy5zZWxlY3RlZENvbnRhaW5lciwgdGhpcy5mcm9tQ29udGFpbmVyQ29udHJvbHMpCiAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGRDb250cm9sKHNlbGVjdGVkU2VsZWN0KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzLnVzZXJmb3JtRGF0YVt0aGlzLnVzZXJGb3JtSWRdW21haW5TZWxDb250YWluZXJdLmNvbnRyb2xzCiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZUNvbnRyb2wgPSBjb250cm9scy5maWx0ZXIoZSA9PiBlICE9PSBtYWluU2VsZWN0KQogICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkQ29udHJvbChtYWluU2VsQ29udGFpbmVyLCByZW1vdmVDb250cm9sKQogICAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkQ29udHJvbChbbWFpblNlbGVjdF0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7CiAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5zZWxlY3RlZEdyb3VwLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRHcm91cFtrXS5zdGFydHNXaXRoKCdncm91cCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUdyb3VwKHRoaXMuc2VsZWN0ZWRHcm91cFtrXSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cGhhbmRsZXIgPT09ICdncm91cGRyYWcnKSB7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwaGFuZGxlciA9PT0gJ2dyb3VwZHJhZycgJiYgdGhpcy5zZWxlY3RlZENvbnRhaW5lciAhPT0gdGhpcy5jb250YWluZXJJZCkgewogICAgICAgICAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdnZXRDbGllbnRWYWx1ZScsICdkaWZmZXJlbnQnLCBjb250YWluZXJYLCBjb250YWluZXJZLCBldmVudCwgdGhpcy5jb250YWluZXJJZCwgdGVtcEV2ZW50KQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVkU2VsZWN0KHRoaXMuZ2V0Q29udGFpbmVyTGlzdChzZWxlY3RlZFswXSksIHNlbGVjdGVkKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVkU2VsZWN0KHRoaXMuZ2V0Q29udGFpbmVyTGlzdCh0aGlzLnNlbGVjdGVkU2VsZWN0WzBdKSwgdGhpcy5zZWxlY3RlZENvbnRyb2xzW3RoaXMudXNlckZvcm1JZF0uc2VsZWN0ZWQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwKGV2ZW50KQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwKGV2ZW50KQogICAgICB9CiAgICB9CiAgfQoKICBARW1pdCgnY2xvc2VNZW51JykKICBjbG9zZU1lbnUgKCkgewogICAgcmV0dXJuIDAKICB9CgogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBzdHlsZSBvYmplY3QgdG8gZHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIHN0eWxlcyBvZiAgdGhlIGNvbnRleHRNZW51IGNvbXBvbmVudCBiYXNlZCBvbiBwcm9wQ29udHJvbERhdGEKICAgKiBAZnVuY3Rpb24gc3R5bGVPYmplY3QKICAgKgogICAqLwogIGdldCBjb250ZXh0TWVudVN0eWxlICgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvcDogdGhpcy50b3AsCiAgICAgIGxlZnQ6IHRoaXMubGVmdCwKICAgICAgZGlzcGxheTogdGhpcy52aWV3TWVudSA/ICdibG9jaycgOiAnbm9uZScKICAgIH0KICB9CiAgZ2V0IGZpbHRlclNlbGVjdGVkICgpIHsKICAgIGNvbnN0IHJlc3VsdCA9CiAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkR3JvdXAgPT09ICcnCiAgICAgICAgPyB0aGlzLnNlbGVjdGVkQ29udHJvbHNbdGhpcy51c2VyRm9ybUlkXS5zZWxlY3RlZC5maWx0ZXIoKElkKSA9PiB7CiAgICAgICAgICBpZiAodHlwZW9mIElkID09PSAnc3RyaW5nJykgewogICAgICAgICAgICByZXR1cm4gSWQuc3RhcnRzV2l0aCgnZ3JvdXAnKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgOiBbdGhpcy5jdXJyZW50U2VsZWN0ZWRHcm91cF0KICAgIHJldHVybiByZXN1bHQKICB9CiAgY3JlYXRlR3JvdXAgKGdyb3VwSWQ6IHN0cmluZykgewogICAgdGhpcy5ncm91cFJlZi5ncm91cFN0eWxlKGdyb3VwSWQpCiAgfQogIG11bGRyYWdDb250cm9sICh2YWw6IElEcmFnUmVzaXplR3JvdXApIHsKICAgIHRoaXMuZ3JvdXBSZWYuaGFuZGxlTW91c2VEb3duKHZhbC5ldmVudCwgdmFsLmhhbmRsZXIpCiAgfQogIGRyYWdDb250cm9sIChldmVudDogTW91c2VFdmVudCkgewogICAgdGhpcy5ncm91cFJlZi5oYW5kbGVNb3VzZURvd24oZXZlbnQsICdkcmFnJykKICB9CiAgLyoqCiAgICogQGRlc2NyaXB0aW9uIHN0eWxlIG9iamVjdCB0byBkeW5hbWljYWxseSBjaGFuZ2luZyB0aGUgc3R5bGVzIG9mICB0aGUgZGFyZy1zZWxjdG9yIGNvbXBvbmVudCBiYXNlZCBvbiBwcm9wQ29udHJvbERhdGEKICAgKiBAZnVuY3Rpb24gZHJhZ1NlbGVjdG9yU3R5bGUKICAgKgogICAqLwogIGdldCBkcmFnU2VsZWN0b3JTdHlsZSAoKSB7CiAgICBjb25zdCB0eXBlID0gdGhpcy5wcm9wQ29udHJvbERhdGEudHlwZQogICAgY29uc3QgcGggPSB0eXBlICYmIHR5cGUgPT09ICdQYWdlJyA/IHRoaXMuaGVpZ2h0ISA6IHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMuSGVpZ2h0IQogICAgY29uc3QgcHcgPSB0eXBlICYmIHR5cGUgPT09ICdQYWdlJyA/IHRoaXMud2lkdGghIDogdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5XaWR0aCEKICAgIGNvbnN0IHNoID0gdGhpcy5wcm9wQ29udHJvbERhdGEucHJvcGVydGllcy5TY3JvbGxIZWlnaHQhCiAgICBjb25zdCBzdyA9IHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMuU2Nyb2xsV2lkdGghCiAgICByZXR1cm4gewogICAgICBoZWlnaHQ6IHR5cGUgPT09ICdGcmFtZScgPyAocGggPiBzaCA/IGAke3BoIC0gNTB9cHhgIDogYCR7c2ghIC0gMjd9cHhgKSA6IHBoID4gc2ggPyBgJHtwaCAtIDUwfXB4YCA6IGAke3NoISAtIDUwfXB4YCwKICAgICAgd2lkdGg6IHB3ID4gc3cgPyBgJHtwdyAtIDIwfXB4YCA6IGAke3N3ISAtIDIwfXB4YCwKICAgICAgY3Vyc29yOiB0eXBlICYmIHR5cGUgPT09ICdQYWdlJyA/ICdkZWZhdWx0ICFpbXBvcnRhbnQnCiAgICAgICAgOiB0aGlzLnByb3BDb250cm9sRGF0YS5wcm9wZXJ0aWVzLk1vdXNlUG9pbnRlciAhPT0gMCB8fAogICAgICAgIHRoaXMucHJvcENvbnRyb2xEYXRhLnByb3BlcnRpZXMuTW91c2VJY29uICE9PSAnJwogICAgICAgICAgPyBgJHt0aGlzLm1vdXNlQ3Vyc29yRGF0YX0gIWltcG9ydGFudGAKICAgICAgICAgIDogJ2RlZmF1bHQgIWltcG9ydGFudCcKICAgIH0KICB9CgogIC8qKgogICAqIEBkZXNjcmlwdGlvbiBwcm9wQ29udHJvbERhdGEgaXMgYWJzdHJhY3QgY2xhc3MgcHJvdmlkaW5nIGltcGxlbWVudGF0aW9uIGluIEZEQ29udGFpbmVyIGJ5IHBhc3NpbmcKICAgKiB1c2VyRm9ybUlkIGFuZCBjb250cm9sSWQgd2hpY2ggaXMgdGFrZW4gYXMgcHJvcHMgZnJvbSBwYXJlbnQgQ29tcG9uZW50CiAgICogQGZ1bmN0aW9uIHByb3BDb250cm9sRGF0YQogICAqCiAgICovCiAgZ2V0IHByb3BDb250cm9sRGF0YSAoKTogY29udHJvbERhdGEgewogICAgcmV0dXJuIHRoaXMudXNlcmZvcm1EYXRhW3RoaXMudXNlckZvcm1JZF1bdGhpcy5jb250cm9sSWRdCiAgfQoKICAvKioKICAgKiBAZGVzY3JpcHRpb24gVG8gZGlzcGxheSBjb250ZXh0bWVudSBvZiBjb250cm9sCiAgICogQGZ1bmN0aW9uIG9wZW5Db250ZXh0TWVudQogICAqIEBwYXJhbSBlIGl0IGlzIHR5cGUgb2YgbW91c2VFdmVudAogICAqIEBwYXJhbSBwYXJlbnRJRCBpcyB0aGUgVXNlckZvcm1JZCBpbiB3aGljaCB0aGUgY29udHJvbCByZXNpZGVzCiAgICogQHBhcmFtIGNvbnRyb2xJZCBpcyB0aGUgc2VsZWN0ZWQgY29udHJvbCBvZiB3aGljaCBjb250ZXh0IGhhcyB0byBiZSBkaXNwbGF5ZWQKICAgKi8KICBvcGVuQ29udGV4dE1lbnUgKGU6IE1vdXNlRXZlbnQsIHBhcmVudElEOiBzdHJpbmcsIGNvbnRyb2xJRDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIG1vZGU6IGJvb2xlYW4pIHsKICAgIHRoaXMuJGVtaXQoJ29wZW5NZW51JywgZSwgcGFyZW50SUQsIGNvbnRyb2xJRCwgdHlwZSwgbW9kZSkKICB9CiAgY3JlYXRlZCAoKSB7CiAgICBFdmVudEJ1cy4kb24oJ2hhbmRsZU5hbWUnLCAoaGFuZGxlcjogc3RyaW5nKSA9PiB7CiAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXIKICAgIH0pCiAgICBFdmVudEJ1cy4kb24oJ2dyb3VwRHJhZycsIChoYW5kbGVyOiBzdHJpbmcpID0+IHsKICAgICAgdGhpcy5ncm91cGhhbmRsZXIgPSBoYW5kbGVyCiAgICB9KQogIH0KICAvLyBkZXN0cm95ZWQgKCkgewogIC8vICAgRXZlbnRCdXMuJG9mZignaGFuZGxlTmFtZScpCiAgLy8gICBFdmVudEJ1cy4kb2ZmKCdncm91cERyYWcnKQogIC8vIH0KICBAV2F0Y2goJ3NlbGVjdGVkQ29udHJvbHMnLCB7IGRlZXA6IHRydWUgfSkKICB1cGRhdGVHcm91cFN0eWxlICgpIHsKICAgIGlmICh0aGlzLnNlbGVjdGVkQ29udGFpbmVyID09PSB0aGlzLmNvbnRhaW5lcklkKSB7CiAgICAgIHRoaXMuZ3JvdXBTdHlsZUFycmF5ID0gWy4uLnRoaXMuZ3JvdXBSZWYuZGl2U3R5bGVBcnJheV0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/organisms/FDContainer","sourcesContent":["<template>\n  <div @mouseup=\"onMouseUp\">\n    <div\n      id=\"right-click-menu\"\n      :style=\"contextMenuStyle\"\n      ref=\"contextmenu\"\n      tabindex=\"0\"\n      @blur.stop=\"closeMenu\"\n    >\n      <ContextMenu\n        ref=\"refContextMenu\"\n        :userFormId=\"userFormId\"\n        :containerId=\"containerId\"\n        :controlId=\"controlId\"\n        :values=\"contextMenuType ? userformContextMenu : controlContextMenu\"\n        @createGroup=\"createGroup\"\n        @closeMenu=\"closeMenu\"\n        :groupStyleArray=\"groupStyleArray\"\n      />\n    </div>\n    <drag-selector\n      :class=\"[!isEditMode ? 'dragSelector' : '']\"\n      ref=\"dragSelector\"\n      :style=\"dragSelectorStyle\"\n    >\n      <GroupControl\n        :containerId=\"containerId\"\n        :userFormId=\"userFormId\"\n        ref=\"groupRef\"\n        class=\"group\"\n        :controlRef=\"$refs\"\n        :currentSelectedGroup=\"filterSelected\"\n        @openMenu=\"(e, parentID, controlID, type) => openContextMenu(e, parentID, controlID, type)\"\n      />\n      <div\n        v-for=\"control in propControlData.controls\"\n        :key=\"control\"\n        class=\"resize\"\n      >\n        <ResizeControl\n          ref=\"resizeControl\"\n          :name=\"control\"\n          @openMenu=\"\n            (e, parentID, controlID, type, mode) => openContextMenu(e, parentID, controlID, type, mode)\n          \"\n          :controlId=\"control\"\n          :containerId=\"controlId\"\n          :userFormId=\"userFormId\"\n          :currentSelectedGroup.sync=\"currentSelectedGroup\"\n          @createGroup=\"createGroup\"\n          @dragControl=\"dragControl\"\n          @muldragControl=\"muldragControl\"\n        >\n        </ResizeControl>\n      </div>\n    </drag-selector>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Emit, Prop, Vue, Ref, Watch } from 'vue-property-decorator'\nimport { State, Action } from 'vuex-class'\nimport ResizeControl from '@/FormDesigner/components/organisms/FDResizeControl/index.vue'\nimport ContextMenu from '@/FormDesigner/components/atoms/FDContextMenu/index.vue'\nimport { controlContextMenu } from '@/FormDesigner/models/controlContextMenuData'\nimport { userformContextMenu } from '../../../models/userformContextMenuData'\nimport GroupControl from '@/FormDesigner/components/organisms/FDGroupControl/index.vue'\nimport {\n  IsetChildControls,\n  IaddChildControls,\n  IselectControl,\n  IupdateControl,\n  IupdateGroup,\n  IupdateControlExtraData\n} from '@/storeModules/fd/actions'\nimport { EventBus } from '../../../event-bus'\nimport FDCommonMethod from '@/api/abstract/FormDesigner/FDCommonMethod'\n@Component({\n  name: 'Container',\n  components: {\n    ContextMenu,\n    GroupControl,\n    ResizeControl\n  }\n})\nexport default class Container extends FDCommonMethod {\n  $el!: HTMLDivElement;\n  currentSelectedGroup: string = '';\n\n  @Prop({ required: true, type: String }) public controlId!: string;\n  @Prop({ required: true, type: String }) userFormId!: string;\n  @Prop({ required: true, type: String }) containerId!: string;\n  @Prop() mouseCursorData: string;\n\n  @State((state) => state.fd.selectedControls)\n  selectedControls!: fdState['selectedControls'];\n  @State((state) => state.fd.userformData) userformData!: userformData;\n  @State((state) => state.fd.groupedControls)\n  groupedControls!: fdState['groupedControls'];\n\n  @Action('fd/updateGroup') updateGroup!: (payload: IupdateGroup) => void;\n  @Action('fd/updateControlExtraData') updateControlExtraData!: (payload: IupdateControlExtraData) => void;\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\n  @Action('fd/setChildControls') setChildControls!: (\n    payload: IsetChildControls\n  ) => void;\n  @Action('fd/addChildControls') addChildControls!: (\n    payload: IaddChildControls\n  ) => void;\n  @Action('fd/selectControl') selectControl!: (payload: IselectControl) => void;\n\n  @Prop({ required: true, type: Boolean }) viewMenu: boolean;\n  @Prop({ required: true, type: Boolean }) contextMenuType: boolean;\n  @Prop({ required: true, type: String }) top: string;\n  @Prop({ required: true, type: String }) left: string;\n  @Prop() isEditMode: boolean;\n  @Prop() width: number\n  @Prop() height: number\n\n  @Ref('groupRef') readonly groupRef!: GroupControl;\n  @Ref('refContextMenu') readonly refContextMenu!: ContextMenu;\n  @Ref('dragSelector') readonly dragSelector: dragselector;\n  @Ref('contextmenu') readonly contextmenu: HTMLDivElement;\n\n  controlContextMenu: Array<IcontextMenu> = controlContextMenu;\n  userformContextMenu: Array<IcontextMenu> = userformContextMenu;\n  handler: string = '';\n  grouphandler: string = '';\n  mainSelectData: controlData\n  containerPosition: IMousePosition = { clientX: 0, clientY: 0, movementX: 0, movementY: 0 }\n  selectedGroup: string[] = []\n  groupStyleArray: Array<IGroupStyle> = []\n\n  /**\n   * @description To get the selected container  from controls are dragged\n   * @function selectedContainer\n   */\n  get selectedContainer () {\n    return [...this.selectedControls[this.userFormId].container][0]\n  }\n\n  /**\n   * @description To get the selected controls to be dropped\n   * @function selectedSelect\n   */\n  get selectedSelect () {\n    if (this.grouphandler === 'groupdrag') {\n      const selectedSelect = []\n      for (let k = 0; k < this.selectedGroup.length; k++) {\n        if (this.selectedGroup[k].startsWith('group')) {\n          for (const i in this.userformData[this.userFormId]) {\n            if (!i.startsWith('ID_USERFORM')) {\n              const userdata = this.userformData[this.userFormId]\n              if (userdata[i].properties.GroupID === this.selectedGroup[k]) {\n                selectedSelect.push(i)\n              }\n            }\n          }\n        } else {\n          selectedSelect.push(this.selectedGroup[k])\n        }\n      }\n      return selectedSelect\n    } else {\n      return this.selectedControls[this.userFormId].selected\n    }\n  }\n\n  /**\n   * @description To get the controls to be removed from the  selected container\n   * @function fromContainerControls\n   */\n  get fromContainerControls () {\n    const fromContainerControls = [...this.userformData[this.userFormId][this.selectedContainer].controls]\n    for (let i = 0; i < this.selectedSelect.length; i++) {\n      let tragetId: undefined | string = this.selectedSelect[i]\n      let targetIndex = fromContainerControls.findIndex((id) => id === tragetId)\n      if (targetIndex !== -1) {\n        fromContainerControls.splice(targetIndex, 1)\n      }\n    }\n    return fromContainerControls\n  }\n\n  /**\n   * @description To remove chilControls of selected Container\n   * @function removeChildControl\n   * @param selectedSelect  - control array to be deleted\n   */\n  removeChildControl (id: string, controls: string[]) {\n    const userData = this.userformData[this.userFormId]\n    const beforeControls = userData[id].controls\n    const deleteControls = beforeControls.filter(x => !controls.includes(x))\n    for (const key of deleteControls) {\n      this.deleteZIndex(key)\n      this.deleteTabIndex(key)\n    }\n\n    this.setChildControls({\n      userFormId: this.userFormId,\n      containerId: id,\n      targetControls: controls\n    })\n  }\n\n  /**\n   * @description To add chilControls of selected Container\n   * @function addChildControl\n   * @param selectedSelect  - control array to be added\n   */\n  addChildControl (selectedSelect: string[]) {\n    const userData = this.userformData[this.userFormId]\n    for (const control of selectedSelect) {\n      if (!userData[this.containerId].controls.includes(control)) {\n        this.addChildControls({\n          userFormId: this.userFormId,\n          containerId: this.containerId,\n          targetControls: selectedSelect\n        })\n      }\n    }\n\n    for (const id of selectedSelect) {\n      this.updateTabIndexValue(id)\n      this.updateZIndexValue(id)\n    }\n  }\n\n  /**\n   * @description To update Properties of Control\n   * @function updateControlProp\n   * @param id  - selcted controlId\n   * @param propName  -  selected control property Name\n   * @param propName  -  selected control property Value\n   */\n  updateControlProp (id: string, propName: keyof controlProperties, propValue: number| string) {\n    this.updateControl({\n      userFormId: this.userFormId,\n      controlId: id,\n      propertyName: propName,\n      value: propValue\n    })\n  }\n\n  /**\n   * @description To update the selectedControls in main data\n   * @function updatedSelect\n   * @param updatedSelect  - selcted ContainerId\n   * @param selArry  - selcted controlList\n   */\n  updatedSelect (conatiner: string[], selArry: string[]) {\n    this.selectControl({\n      userFormId: this.userFormId,\n      select: {\n        container: conatiner,\n        selected: selArry\n      }\n    })\n  }\n\n  /**\n   * @description If control inside the group is selected dropped into other container\n   * @function updateGroupControl\n   * @param mainSelectGroup  - selected group\n   */\n  updateGroupControl (mainSelectGroup: string) {\n    const presenetControl: string[] = []\n    if (mainSelectGroup && mainSelectGroup !== '') {\n      for (let control in this.userformData[this.userFormId]) {\n        const controlGroupId = this.userformData[this.userFormId][control].properties.GroupID!\n        if (controlGroupId && controlGroupId === mainSelectGroup) {\n          presenetControl.push(control)\n        }\n      }\n    }\n    if (presenetControl.length === 1) {\n      const groupArray: string[] = [...this.groupedControls[this.userFormId]!.groupArray!]\n      const index = groupArray.findIndex((val) => val === mainSelectGroup)\n      groupArray.splice(index, 1)\n      this.updateGroup({\n        userFormId: this.userFormId,\n        groupArray: groupArray\n      })\n      this.updateControlProp(presenetControl[0], 'GroupID', '')\n    }\n  }\n  /**\n   * @description to drag and drop the control and group into respective container\n   * @function onMouseUp\n   * @param event  - it is of type MouseEvent\n   * @event mouseup\n   */\n  onMouseUp (event: MouseEvent) {\n    if (document.onmousemove && document.onmouseup && (this.handler === 'drag' || this.handler === 'frameDrag' || this.grouphandler === 'groupdrag')) {\n      const userData = this.userformData[this.userFormId]\n      const containerType = userData[this.containerId].type === 'Page' && userData[this.getContainerList(this.containerId)[0]].properties.Value === -1\n      if (!containerType) {\n        let moveValueX: number = 0\n        let moveValueY: number = 0\n        let mainSelect: string = ''\n        let parentConatiner = ''\n        let count = 0\n        let tempEvent = {}\n        this.selectedGroup = this.selectedControls[this.userFormId].selected\n        if (this.grouphandler === 'groupdrag') {\n          EventBus.$emit(\n            'getGroupMoveValue',\n            (offsetX: number, offsetY: number, id: string, tempEventObj: MouseEvent) => {\n              console.log(tempEventObj)\n              moveValueX = offsetX\n              moveValueY = offsetY\n              tempEvent = Object.keys(tempEventObj).length === 0 ? tempEvent : tempEventObj\n            }\n          )\n          mainSelect = this.getSelectedControlsDatas![0]\n        } else if (this.handler === 'drag') {\n          EventBus.$emit(\n            'getMoveValue',\n            (offsetX: number, offsetY: number, id: string) => {\n              moveValueX = offsetX\n              moveValueY = offsetY\n              mainSelect = id\n            }\n          )\n        } else if (this.handler === 'frameDrag') {\n          EventBus.$emit(\n            'getMoveValue',\n            (offsetX: number, offsetY: number, id: string, parentControl: string) => {\n              moveValueX = offsetX\n              moveValueY = offsetY\n              mainSelect = id\n              parentConatiner = parentControl\n            }\n          )\n        }\n        if (mainSelect && !this.getSelectedControlsDatas!.includes(this.containerId)) {\n          count = count + 1\n          let frameCondition: boolean = false\n          if (this.handler === 'frameDrag') {\n            const isChild = this.getChildControl(mainSelect).includes(this.containerId) || this.containerId === mainSelect\n            frameCondition = (isChild === false && parentConatiner === this.containerId) ||\n          (isChild === false && this.selectedControls[this.userFormId].selected.includes(mainSelect)) ||\n          (isChild === false && count === 1)\n          }\n          if ((this.handler === 'frameDrag' && frameCondition) || this.handler === 'drag' || this.grouphandler === 'groupdrag') {\n            const currentControlsData = this.userformData[this.userFormId]\n            const mainSelectData = currentControlsData[mainSelect]\n            const mainSelectX = mainSelectData.properties.Left\n            const mainSelectY = mainSelectData.properties.Top\n            const containerX = event.clientX - this.$el.getClientRects()[0].x\n            const containerY = event.clientY - this.$el.getClientRects()[0].y\n            const mainSelectGroup: string = mainSelectData.properties.GroupID!\n            const selectedSelect = this.handler === 'frameDrag' ? (this.selectedSelect.includes(mainSelect) ? this.selectedSelect : [mainSelect]) : this.selectedSelect\n            if (typeof mainSelectX === 'number' && typeof mainSelectY === 'number') {\n              if ((this.handler === 'frameDrag' || this.handler === 'drag')) {\n                selectedSelect.forEach((id) => {\n                  const targetData = currentControlsData[id].properties\n                  const targetLeft = targetData.Left\n                  const targetTop = targetData.Top\n                  if (typeof targetTop === 'number' && typeof targetLeft === 'number') {\n                    this.updateControlProp(id, 'Left', containerX + targetLeft - mainSelectX - moveValueX)\n                    this.updateControlProp(id, 'Top', containerY + targetTop - mainSelectY - moveValueY)\n                    if (this.handler === 'drag') {\n                      if (mainSelectGroup !== '' && this.selectedContainer !== this.containerId) {\n                        this.updateControlProp(id, 'GroupID', '')\n                        this.updateGroupControl(mainSelectGroup)\n                      }\n                    }\n                  }\n                })\n              } else if (this.grouphandler === 'groupdrag' && this.selectedContainer === this.containerId) {\n                EventBus.$emit('getClientValue', 'same')\n              }\n            }\n            if (this.handler === 'frameDrag' && this.userformData[this.userFormId][this.containerId].controls.includes(mainSelect)) {\n              event.stopPropagation()\n              document.onmouseup(event)\n            } else {\n              if (this.selectedContainer !== this.containerId) {\n                const mainSelContainer = this.getContainerList(mainSelect)[0]\n                if (this.selectedControls[this.userFormId].selected.includes(mainSelect) || this.grouphandler === 'groupdrag') {\n                  this.removeChildControl(this.selectedContainer, this.fromContainerControls)\n                  this.addChildControl(selectedSelect)\n                } else {\n                  const controls = this.userformData[this.userFormId][mainSelContainer].controls\n                  const removeControl = controls.filter(e => e !== mainSelect)\n                  this.removeChildControl(mainSelContainer, removeControl)\n                  this.addChildControl([mainSelect])\n                }\n                if (this.grouphandler === 'groupdrag') {\n                  for (let k = 0; k < this.selectedGroup.length; k++) {\n                    if (this.selectedGroup[k].startsWith('group')) {\n                      this.createGroup(this.selectedGroup[k])\n                    }\n                  }\n                }\n\n                if (this.grouphandler === 'groupdrag') {\n                  if (this.grouphandler === 'groupdrag' && this.selectedContainer !== this.containerId) {\n                    EventBus.$emit('getClientValue', 'different', containerX, containerY, event, this.containerId, tempEvent)\n                  }\n                  const selected = this.selectedControls[this.userFormId].selected\n                  this.updatedSelect(this.getContainerList(selected[0]), selected)\n                } else {\n                  this.updatedSelect(this.getContainerList(this.selectedSelect[0]), this.selectedControls[this.userFormId].selected)\n                }\n              }\n              event.stopPropagation()\n              document.onmouseup(event)\n            }\n          }\n        }\n      } else {\n        event.stopPropagation()\n        document.onmouseup(event)\n      }\n    }\n  }\n\n  @Emit('closeMenu')\n  closeMenu () {\n    return 0\n  }\n\n  /**\n   * @description style object to dynamically changing the styles of  the contextMenu component based on propControlData\n   * @function styleObject\n   *\n   */\n  get contextMenuStyle () {\n    return {\n      top: this.top,\n      left: this.left,\n      display: this.viewMenu ? 'block' : 'none'\n    }\n  }\n  get filterSelected () {\n    const result =\n      this.currentSelectedGroup === ''\n        ? this.selectedControls[this.userFormId].selected.filter((Id) => {\n          if (typeof Id === 'string') {\n            return Id.startsWith('group')\n          }\n        })\n        : [this.currentSelectedGroup]\n    return result\n  }\n  createGroup (groupId: string) {\n    this.groupRef.groupStyle(groupId)\n  }\n  muldragControl (val: IDragResizeGroup) {\n    this.groupRef.handleMouseDown(val.event, val.handler)\n  }\n  dragControl (event: MouseEvent) {\n    this.groupRef.handleMouseDown(event, 'drag')\n  }\n  /**\n   * @description style object to dynamically changing the styles of  the darg-selctor component based on propControlData\n   * @function dragSelectorStyle\n   *\n   */\n  get dragSelectorStyle () {\n    const type = this.propControlData.type\n    const ph = type && type === 'Page' ? this.height! : this.propControlData.properties.Height!\n    const pw = type && type === 'Page' ? this.width! : this.propControlData.properties.Width!\n    const sh = this.propControlData.properties.ScrollHeight!\n    const sw = this.propControlData.properties.ScrollWidth!\n    return {\n      height: type === 'Frame' ? (ph > sh ? `${ph - 50}px` : `${sh! - 27}px`) : ph > sh ? `${ph - 50}px` : `${sh! - 50}px`,\n      width: pw > sw ? `${pw - 20}px` : `${sw! - 20}px`,\n      cursor: type && type === 'Page' ? 'default !important'\n        : this.propControlData.properties.MousePointer !== 0 ||\n        this.propControlData.properties.MouseIcon !== ''\n          ? `${this.mouseCursorData} !important`\n          : 'default !important'\n    }\n  }\n\n  /**\n   * @description propControlData is abstract class providing implementation in FDContainer by passing\n   * userFormId and controlId which is taken as props from parent Component\n   * @function propControlData\n   *\n   */\n  get propControlData (): controlData {\n    return this.userformData[this.userFormId][this.controlId]\n  }\n\n  /**\n   * @description To display contextmenu of control\n   * @function openContextMenu\n   * @param e it is type of mouseEvent\n   * @param parentID is the UserFormId in which the control resides\n   * @param controlId is the selected control of which context has to be displayed\n   */\n  openContextMenu (e: MouseEvent, parentID: string, controlID: string, type: string, mode: boolean) {\n    this.$emit('openMenu', e, parentID, controlID, type, mode)\n  }\n  created () {\n    EventBus.$on('handleName', (handler: string) => {\n      this.handler = handler\n    })\n    EventBus.$on('groupDrag', (handler: string) => {\n      this.grouphandler = handler\n    })\n  }\n  // destroyed () {\n  //   EventBus.$off('handleName')\n  //   EventBus.$off('groupDrag')\n  // }\n  @Watch('selectedControls', { deep: true })\n  updateGroupStyle () {\n    if (this.selectedContainer === this.containerId) {\n      this.groupStyleArray = [...this.groupRef.divStyleArray]\n    }\n  }\n}\n</script>\n\n<style scoped>\n#right-click-menu {\n  background: #fafafa;\n  border: 1px solid #bdbdbd;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  display: block;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  width: 100px;\n  z-index: 999999;\n}\n\n#right-click-menu li {\n  border-bottom: 1px solid #e0e0e0;\n  margin: 0;\n  padding: 5px 5px;\n}\n\n#right-click-menu li:last-child {\n  border-bottom: none;\n}\n\n#right-click-menu li:hover {\n  background: #1e88e5;\n  color: #fafafa;\n}\n:focus {\n  outline: none;\n}\n.dragSelector {\n  visibility: hidden;\n}\n.dragSelector > .resize {\n  visibility: visible;\n}\n.dragSelector > .group {\n  visibility: visible;\n}\n</style>\n"]}]}