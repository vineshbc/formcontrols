{"remainingRequest":"/home/mobiotics/Projects/hancom/formcontrols/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mobiotics/Projects/hancom/formcontrols/src/FormDesigner/components/molecules/FDUserformTabOrder/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mobiotics/Projects/hancom/formcontrols/src/FormDesigner/components/molecules/FDUserformTabOrder/index.vue","mtime":1610544258558},{"path":"/home/mobiotics/Projects/hancom/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/formcontrols/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/formcontrols/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/formcontrols/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mobiotics/Projects/hancom/formcontrols/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSwgUmVmIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICdAL0Zvcm1EZXNpZ25lci9ldmVudC1idXMnCmltcG9ydCB7IFN0YXRlLCBBY3Rpb24gfSBmcm9tICd2dWV4LWNsYXNzJwppbXBvcnQgeyBJdXBkYXRlQ29udHJvbCwgSXNldENoaWxkQ29udHJvbHMgfSBmcm9tICdAL3N0b3JlTW9kdWxlcy9mZC9hY3Rpb25zJwppbXBvcnQgRmREaWFsb2dEcmFnVnVlLCB7CiAgbG9jYWxUYWJPcmRlckl0ZW0KfSBmcm9tICdAL2FwaS9hYnN0cmFjdC9Gb3JtRGVzaWduZXIvRmREaWFsb2dEcmFnVnVlJwoKQENvbXBvbmVudCh7CiAgbmFtZTogJ0ZEVXNlcmZvcm1UYWJPcmRlcicKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgRkRVc2VyZm9ybVRhYk9yZGVyIGV4dGVuZHMgRmREaWFsb2dEcmFnVnVlIHsKICBAU3RhdGUoKHN0YXRlKSA9PiBzdGF0ZS5mZC51c2VyZm9ybURhdGEpIHVzZXJmb3JtRGF0YSE6IHVzZXJmb3JtRGF0YTsKICBAQWN0aW9uKCdmZC91cGRhdGVDb250cm9sJykgdXBkYXRlQ29udHJvbCE6IChwYXlsb2FkOiBJdXBkYXRlQ29udHJvbCkgPT4gdm9pZDsKICBAQWN0aW9uKCdmZC9zZXRDaGlsZENvbnRyb2xzJykgc2V0Q2hpbGRDb250cm9scyE6ICgKICAgIHBheWxvYWQ6IElzZXRDaGlsZENvbnRyb2xzCiAgKSA9PiB2b2lkOwogIGlzVGFiT3JkZXJPcGVuOiBib29sZWFuID0gZmFsc2U7CiAgdXNlckZvcm1JZDogc3RyaW5nID0gJyc7CiAgY3VycmVudEluZGV4OiBudW1iZXIgPSAtMTsKICB0YWJPcmRlckxpc3Q6IGxvY2FsVGFiT3JkZXJJdGVtW10gPSBbXTsKICBjb250cm9sVHlwZTogc3RyaW5nID0gJycKICBjb250YWluZXJJZDogc3RyaW5nID0gJycKICBnZXQgYnV0dG9uRGlzYWJsZWQgKCkgewogICAgcmV0dXJuICEodGhpcy50YWJPcmRlckxpc3QubGVuZ3RoID4gMSkKICB9CiAgdXBkYXRlQ29udHJvbERhdGEgKCkgewogICAgY29uc3QgY29udHJvbE51bSA9IHRoaXMudGFiT3JkZXJMaXN0Lmxlbmd0aAogICAgbGV0IHByb3BlcnR5TmFtZToga2V5b2YgY29udHJvbFByb3BlcnRpZXMgPSB0aGlzLmNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJyA/ICdJbmRleCcgOiAnVGFiSW5kZXgnCiAgICBjb25zdCBjb250cm9sc0FycmF5ID0gW10KICAgIGZvciAobGV0IHRhYkluZGV4ID0gMDsgY29udHJvbE51bSA+IHRhYkluZGV4OyB0YWJJbmRleCsrKSB7CiAgICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJykgewogICAgICAgIGNvbnRyb2xzQXJyYXkucHVzaCh0aGlzLnRhYk9yZGVyTGlzdFt0YWJJbmRleF0uY29udHJvbElkKQogICAgICB9CiAgICAgIHRoaXMudXBkYXRlQ29udHJvbCh7CiAgICAgICAgdXNlckZvcm1JZDogdGhpcy51c2VyRm9ybUlkLAogICAgICAgIGNvbnRyb2xJZDogdGhpcy50YWJPcmRlckxpc3RbdGFiSW5kZXhdLmNvbnRyb2xJZCwKICAgICAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSwKICAgICAgICB2YWx1ZTogdGFiSW5kZXgKICAgICAgfSkKICAgIH0KICAgIGlmICh0aGlzLmNvbnRyb2xUeXBlID09PSAnTXVsdGlQYWdlJykgewogICAgICB0aGlzLnNldENoaWxkQ29udHJvbHMoewogICAgICAgIHVzZXJGb3JtSWQ6IHRoaXMudXNlckZvcm1JZCwKICAgICAgICBjb250YWluZXJJZDogdGhpcy5jb250YWluZXJJZCwKICAgICAgICB0YXJnZXRDb250cm9sczogY29udHJvbHNBcnJheQogICAgICB9KQogICAgfQogICAgdGhpcy5jbG9zZURpYWxvZygpCiAgfQogIGNyZWF0ZWQgKCkgewogICAgRXZlbnRCdXMuJG9uKAogICAgICAndXNlckZvcm1UYWJPcmRlcicsCiAgICAgICh1c2VyRm9ybUlkOiBzdHJpbmcsIGNvbnRyb2xJZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpID0+IHsKICAgICAgICB0aGlzLmNvbnRyb2xUeXBlID0gdHlwZQogICAgICAgIGNvbnN0IHRhYk9yZGVyQ29udHJvbERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudXNlcmZvcm1EYXRhW3VzZXJGb3JtSWRdW2NvbnRyb2xJZF0pKQogICAgICAgIGNvbnN0IHRhYk9yZGVyQ29udHJvbHMgPSB0YWJPcmRlckNvbnRyb2xEYXRhLmNvbnRyb2xzLmZpbHRlcigodmFsOiBzdHJpbmcpID0+IHsKICAgICAgICAgIHJldHVybiAodGhpcy51c2VyZm9ybURhdGFbdXNlckZvcm1JZF1bdmFsXS50eXBlICE9PSAnRkRJbWFnZScpCiAgICAgICAgfSkKICAgICAgICB0aGlzLnRhYk9yZGVyTGlzdCA9IEFycmF5KHRhYk9yZGVyQ29udHJvbHMubGVuZ3RoKQoKICAgICAgICBpZiAodGFiT3JkZXJDb250cm9scy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBmb3IgKGxldCBjb250cm9sIG9mIHRhYk9yZGVyQ29udHJvbHMpIHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0RGF0YSA9IHRoaXMudXNlcmZvcm1EYXRhW3VzZXJGb3JtSWRdW2NvbnRyb2xdCiAgICAgICAgICAgIGlmICh0YXJnZXREYXRhKSB7CiAgICAgICAgICAgICAgbGV0IHRhcmdldFRhYkluZGV4CiAgICAgICAgICAgICAgbGV0IHRhcmdldFRhYk5hbWUKICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sVHlwZSA9PT0gJ011bHRpUGFnZScpIHsKICAgICAgICAgICAgICAgIHRhcmdldFRhYkluZGV4ID0gdGFyZ2V0RGF0YS5wcm9wZXJ0aWVzLkluZGV4CiAgICAgICAgICAgICAgICB0YXJnZXRUYWJOYW1lID0gdGFyZ2V0RGF0YS5wcm9wZXJ0aWVzLkNhcHRpb24KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGFyZ2V0VGFiSW5kZXggPSB0YXJnZXREYXRhLnByb3BlcnRpZXMuVGFiSW5kZXgKICAgICAgICAgICAgICAgIHRhcmdldFRhYk5hbWUgPSB0YXJnZXREYXRhLnByb3BlcnRpZXMuTmFtZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAodGFyZ2V0VGFiSW5kZXggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRUYWJOYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMudGFiT3JkZXJMaXN0W3RhcmdldFRhYkluZGV4XSA9IHsKICAgICAgICAgICAgICAgICAgY29udHJvbElkOiBjb250cm9sLAogICAgICAgICAgICAgICAgICBuYW1lOiB0YXJnZXRUYWJOYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDAKICAgICAgICB9CiAgICAgICAgdGhpcy5pc1RhYk9yZGVyT3BlbiA9IHRydWUKICAgICAgICB0aGlzLnVzZXJGb3JtSWQgPSB1c2VyRm9ybUlkCiAgICAgICAgdGhpcy5jb250YWluZXJJZCA9IGNvbnRyb2xJZAogICAgICB9CiAgICApCiAgfQogIGRlc3Ryb3llZCAoKSB7CiAgICBFdmVudEJ1cy4kb2ZmKCd1c2VyRm9ybVRhYk9yZGVyJykKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/FormDesigner/components/molecules/FDUserformTabOrder","sourcesContent":["<template>\n  <div id=\"popup1\" class=\"overlay\" :style=\"tabOrderStyleObj\">\n    <div class=\"outer-taborder-div popup\" :style=\"tabOrderDialogInitialStyle\">\n      <div class=\"taborder-header-div\" @mousedown.stop=\"dragTabOrderDialog\">\n        <div class=\"taborder-header-innerdiv\">\n          <a>{{controlType === 'MultiPage' ? 'Page Order' : 'Tab Order'}}</a>\n        </div>\n        <button class=\"ui-btn close\" @click=\"closeDialog\">\n          <svg viewBox=\"0 0 10 10\">\n            <polygon\n              points=\"10.2,0.7 9.5,0 5.1,4.4 0.7,0 0,0.7 4.4,5.1 0,9.5 0.7,10.2 5.1,5.8 9.5,10.2 10.2,9.5 5.8,5.1\"\n            />\n          </svg>\n        </button>\n      </div>\n      <div class=\"wrapper\">\n        <div class=\"wrapper1\">\n          <span class=\"inner-header\">{{controlType === 'MultiPage' ? 'Page Order' : 'Tab Order'}}</span>\n          <div class=\"frame\">\n            <div v-for=\"(value, index) in tabOrderList\" :key=\"value.controlId\">\n              <button\n                class=\"inside-frame\"\n                :class=\"{ 'active-item': currentIndex === index }\"\n                @click=\"selectedTab(index)\"\n              >\n                {{ value.name }}\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"wrapper2\">\n          <div class=\"wrapper2Div1\"></div>\n          <div class=\"wrapper21\">\n            <button class=\"taborder-buttons\" @click=\"updateControlData\">\n              OK\n            </button>\n            <button class=\"taborder-buttons\" @click=\"closeDialog\">\n              Cancel\n            </button>\n          </div>\n          <div class=\"wrapper2Div2\"></div>\n          <div class=\"wrapper21\">\n            <button :disabled=\"buttonDisabled\" class=\"taborder-buttons\" @click=\"moveControlUp()\">\n              Move Up\n            </button>\n            <button :disabled=\"buttonDisabled\" class=\"taborder-buttons\" @click=\"moveControlDown()\">\n              Move Down\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue, Ref } from 'vue-property-decorator'\nimport { EventBus } from '@/FormDesigner/event-bus'\nimport { State, Action } from 'vuex-class'\nimport { IupdateControl, IsetChildControls } from '@/storeModules/fd/actions'\nimport FdDialogDragVue, {\n  localTabOrderItem\n} from '@/api/abstract/FormDesigner/FdDialogDragVue'\n\n@Component({\n  name: 'FDUserformTabOrder'\n})\nexport default class FDUserformTabOrder extends FdDialogDragVue {\n  @State((state) => state.fd.userformData) userformData!: userformData;\n  @Action('fd/updateControl') updateControl!: (payload: IupdateControl) => void;\n  @Action('fd/setChildControls') setChildControls!: (\n    payload: IsetChildControls\n  ) => void;\n  isTabOrderOpen: boolean = false;\n  userFormId: string = '';\n  currentIndex: number = -1;\n  tabOrderList: localTabOrderItem[] = [];\n  controlType: string = ''\n  containerId: string = ''\n  get buttonDisabled () {\n    return !(this.tabOrderList.length > 1)\n  }\n  updateControlData () {\n    const controlNum = this.tabOrderList.length\n    let propertyName: keyof controlProperties = this.controlType === 'MultiPage' ? 'Index' : 'TabIndex'\n    const controlsArray = []\n    for (let tabIndex = 0; controlNum > tabIndex; tabIndex++) {\n      if (this.controlType === 'MultiPage') {\n        controlsArray.push(this.tabOrderList[tabIndex].controlId)\n      }\n      this.updateControl({\n        userFormId: this.userFormId,\n        controlId: this.tabOrderList[tabIndex].controlId,\n        propertyName: propertyName,\n        value: tabIndex\n      })\n    }\n    if (this.controlType === 'MultiPage') {\n      this.setChildControls({\n        userFormId: this.userFormId,\n        containerId: this.containerId,\n        targetControls: controlsArray\n      })\n    }\n    this.closeDialog()\n  }\n  created () {\n    EventBus.$on(\n      'userFormTabOrder',\n      (userFormId: string, controlId: string, type: string) => {\n        this.controlType = type\n        const tabOrderControlData = JSON.parse(JSON.stringify(this.userformData[userFormId][controlId]))\n        const tabOrderControls = tabOrderControlData.controls.filter((val: string) => {\n          return (this.userformData[userFormId][val].type !== 'FDImage')\n        })\n        this.tabOrderList = Array(tabOrderControls.length)\n\n        if (tabOrderControls.length > 0) {\n          for (let control of tabOrderControls) {\n            const targetData = this.userformData[userFormId][control]\n            if (targetData) {\n              let targetTabIndex\n              let targetTabName\n              if (this.controlType === 'MultiPage') {\n                targetTabIndex = targetData.properties.Index\n                targetTabName = targetData.properties.Caption\n              } else {\n                targetTabIndex = targetData.properties.TabIndex\n                targetTabName = targetData.properties.Name\n              }\n              if (targetTabIndex !== undefined && targetTabName !== undefined) {\n                this.tabOrderList[targetTabIndex] = {\n                  controlId: control,\n                  name: targetTabName\n                }\n              }\n            }\n          }\n          this.currentIndex = 0\n        }\n        this.isTabOrderOpen = true\n        this.userFormId = userFormId\n        this.containerId = controlId\n      }\n    )\n  }\n  destroyed () {\n    EventBus.$off('userFormTabOrder')\n  }\n}\n</script>\n\n<style scoped>\nbody {\n  font-family: Arial, sans-serif;\n  /*   background: url(http://www.shukatsu-note.com/wp-content/uploads/2014/12/computer-564136_1280.jpg) no-repeat; */\n  background-size: cover;\n  height: 100vh;\n}\n\nh1 {\n  text-align: center;\n  font-family: Tahoma, Arial, sans-serif;\n  color: #06d85f;\n  margin: 80px 0;\n}\n\n.span-style {\n  position: absolute;\n  left: 6px;\n  top: 6px;\n}\n\n.box {\n  background: rgba(255, 255, 255, 0.2);\n  text-align: right;\n}\n\n.button {\n  font-size: 1em;\n  padding: 10px;\n  color: #fff;\n  border: 2px solid #06d85f;\n  border-radius: 20px/50px;\n  text-decoration: none;\n  cursor: pointer;\n}\n.button:hover {\n  background: #06d85f;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7);\n  visibility: hidden;\n  opacity: 0;\n  z-index: 110;\n}\n.overlay:target {\n  visibility: visible;\n  opacity: 1;\n}\n\n.popup {\n  margin: 70px auto;\n  /* padding: 20px; */\n  background: #fff;\n  border-radius: 5px;\n  width: 30%;\n  position: relative;\n}\n\n.popup h2 {\n  margin-top: 0;\n  color: #333;\n  font-family: Tahoma, Arial, sans-serif;\n}\n.popup .close {\n  position: absolute;\n  right: 0px;\n  font-weight: bold;\n  text-decoration: none;\n  color: #333;\n}\n.popup .close:hover {\n  color: #06d85f;\n}\n.popup .content {\n  max-height: 30%;\n  overflow: auto;\n}\n\n@media screen and (max-width: 700px) {\n  .box {\n    width: 70%;\n  }\n  .popup {\n    width: 70%;\n  }\n}\n.wrapper {\n  display: grid;\n  grid-template-columns: 65% 35%;\n  padding-left: 10px;\n  padding-top: 22px;\n  grid-row-gap: 1em;\n  grid-column-gap: 1em;\n  margin-bottom: 2em;\n}\n.wrapper1 {\n  grid-gap: 1em;\n}\n.wrapper2 {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 1em;\n  grid-column-gap: 3em;\n  height: 16px;\n}\n.wrapper21 {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 0.5em;\n  height: 16px;\n}\n.frame {\n  width: 200px;\n  height: 150px;\n  background-color: white;\n  box-shadow: -1px -1px gray;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.inside-frame {\n  /* border: 1px solid black; */\n  border: none;\n  background-color: white;\n  text-align: left;\n  outline: none;\n  width: 100%;\n  height: 14px;\n  font-family: \"SESimplex\";\n  font-weight: 500;\n  font-size: 11px;\n  padding-left: 2px;\n}\n.active-item {\n  background-color: rgb(2, 84, 207);\n  color: white;\n}\n.taborder-header-div {\n  display: grid;\n  grid-template-columns: 90% 10%;\n  height: 25px;\n  background-color: white;\n  font-size: 13px;\n}\n.taborder-header-innerdiv {\n  padding-left: 7px;\n  padding-top: 6px;\n}\n.outer-taborder-div {\n  border: 0.3px solid gray;\n  height: 235px;\n  width: 330px;\n  background-color: rgb(238, 238, 238);\n}\n.inner-header {\n  font-family: \"SESimplex\";\n  font-weight: 500;\n  font-size: 12px;\n}\n.taborder-buttons {\n  width: 90px;\n  height: 23px;\n  font-family: \"Candara\";\n  font-weight: bold;\n  font-size: 13px;\n  box-shadow: 1px 1px;\n  border-top-color: rgb(238, 238, 238);\n  border-bottom-color: rgb(238, 238, 238);\n  border-left-color: rgb(238, 238, 238);\n  border-right-color: rgb(238, 238, 238);\n  white-space: pre;\n}\n.taborder-buttons:focus{\n  outline:1px solid black;\n}\n.ui-btn {\n  /* margin: 2px; */\n  margin: 0;\n  width: 33px;\n  height: 25px;\n  border: 0;\n  outline: 0;\n  background: transparent;\n}\n.ui-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n.ui-btn.close {\n  background: white;\n}\n.ui-btn:hover {\n  background: #e81123;\n  color: white;\n}\n.ui-btn svg path,\n.ui-btn svg rect,\n.ui-btn svg polygon {\n  fill: white;\n}\n.ui-btn svg {\n  width: 10px;\n  height: 10px;\n  stroke: gray;\n}\n.ui-btn svg:hover {\n  width: 10px;\n  height: 10px;\n  stroke: white;\n}\n.wrapper2Div1 {\n  height: 3px;\n}\n.wrapper2Div2 {\n  height: 35px;\n}\n</style>\n"]}]}